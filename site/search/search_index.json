{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Kezd\u0151lap","text":"<ul> <li>Tant\u00e1rgy neve magyarul: Auton\u00f3m j\u00e1rm\u0171vek \u00e9s robotok programoz\u00e1sa</li> <li>Tant\u00e1rgy neve angolul: Autonomous robots and vehicles software engineering</li> <li>Neptun t\u00e1rgyk\u00f3d: <code>GKNB_AUTM078</code></li> </ul> <p>A tant\u00e1rgy t\u00f6bb m\u00e9rn\u00f6ki szakon indul \u00e9s megl\u00e9v\u0151 minim\u00e1lis programoz\u00e1si tud\u00e1sra \u00e9p\u00edt.  J\u00e1rm\u0171m\u00e9rn\u00f6ki (BSc) szakon <code>GKNB_INTM023</code> Programoz\u00e1s alapjai, Programtervez\u0151 informatikus (BSc) <code>GKNB_MSTM032</code> Python programoz\u00e1s, M\u00e9rn\u00f6kinformatikus (BSc) szakon <code>GKNB_INTM114</code> Programoz\u00e1s, Mechatronikai m\u00e9rn\u00f6k (BSc) szakon <code>GKNB_MSTM032</code> Python programoz\u00e1s, Villamosm\u00e9rn\u00f6k (BSc) szakon <code>GKNB_INTM023</code> Programoz\u00e1s alapjai el\u0151k\u00f6vetlem\u00e9nyekkel indul.</p> <p>A tant\u00e1rgy c\u00e9lja</p> <p>A t\u00e1rgy sikeres teljes\u00edt\u00e9se ut\u00e1n a hallgat\u00f3k \u00e1tfog\u00f3 k\u00e9pet kapnak az \u00f6nvezet\u0151 (auton\u00f3m) j\u00e1rm\u0171vek szoftver moduljair\u00f3l \u00e9s tov\u00e1bbi l\u00e9nyeges \u00f6sszetev\u0151ir\u0151l.</p> <p>C++ \u00e9s python nyelven egyszer\u0171bb ehhez kapcsol\u00f3d\u00f3 szoftvermodulokat tudnak fejleszteni. Ezen t\u00falmen\u0151en a hallgat\u00f3k k\u00e9pesek a megfelel\u0151 k\u00f3d alkalmaz\u00e1s\u00e1ra, valamint annak funkci\u00f3inak \u00e9rtelmez\u00e9s\u00e9re \u00e9s tov\u00e1bbfejleszt\u00e9s\u00e9re ROS 2 keretrendszerben.</p> <p>A t\u00e1rgy \u00f6ssze\u00e1ll\u00edt\u00e1sa sor\u00e1n olyan nemzetk\u00f6zileg is elismert egyetemek tananyag\u00e1t vett\u00fck alapul, mint az MIT, ETH Z\u00fcrich, TU M\u00fcnchen, Univerisity of Virginia vagy a Stanford University. A megfelel\u0151 licenc betar\u00e1sa mellett bizonyos tanangyag r\u00e9szeket \u00e1t is vett\u00fcnk, m\u00e1sokat inspir\u00e1ci\u00f3k\u00e9nt haszn\u00e1ltunk, err\u0151l r\u00e9szletesen itt lehet olvasni. 2023-ban a tant\u00e1rgy az ROS 2 Humble verzi\u00f3j\u00e1t haszn\u00e1lja, ez a disztrib\u00faci\u00f3 2027 m\u00e1jus\u00e1ig t\u00e1mogatott.</p> <p>A tant\u00e1rgy teljes\u00edt\u00e9se p\u00e9ld\u00e1ul k\u00f6vetkez\u0151 aut\u00f3ipari / auton\u00f3m j\u00e1rm\u0171ves c\u00e9gekn\u00e9l el\u0151nyt jelenthet (ABC sorrendben):</p> <ul> <li>AiMotive Kft. (Budapest)</li> <li>AVL Hungary Kft. (Budapest, \u00c9rd, Kecskem\u00e9t)</li> <li>Bosch: Robert Bosch Kft. (Budapest, Gy\u0151r, Zalaegerszeg)</li> <li>Continental Autonomous Mobility Hungary Kft. (Budapest, Gy\u0151r, Debrecen)</li> <li>J\u00e1rm\u0171ipari Kutat\u00f3k\u00f6zpont, SZE (Gy\u0151r)</li> </ul> <p>Tov\u00e1bbi karrierrel kapcsolatos \u00e9rdekess\u00e9gek p\u00e9ld\u00e1ul a statista-n, a glassdoor-on, linkedin-en olvashat\u00f3k.</p> <p>Note</p> <p>A t\u00e1rgyban bemutatott ismeretekre alapozva diplomamunka, szakdolgozat, projektmunka, TDK dolgozat is k\u00e9sz\u00edthet\u0151, illetve van lehet\u0151s\u00e9g a k\u00f6telez\u0151 szakmai gyakorlat teljes\u00edt\u00e9s\u00e9re is.</p> <p> Oktat\u00f3k . Dr. Horv\u00e1th Ern\u0151  T\u00e1rgyfelel\u0151s github.com/horverno Dr. Ballagi \u00c1ron  Tematika, nem oktat github.com/aronball Krecht Rudolf  Szimul\u00e1ci\u00f3, robotika github.com/rudolfkrecht Unger Mikl\u00f3s  K\u00f6rnyezet\u00e9rz\u00e9kel\u00e9s github.com/umiklos Ign\u00e9czi Gerg\u0151  Szab\u00e1lyoz\u00e1stechnika github.com/gfigneczi1 Mark\u00f3 Norbert  AI, neur\u00e1lis h\u00e1l\u00f3k github.com/norbertmarko <p></p> <p>2023/24 \u0151szi f\u00e9l\u00e9v\u00e9ben az <code>A2</code>-es teremben, illetve a <code>C100</code>-as g\u00e9pteremben tartunk \u00f3r\u00e1kat.</p>"},{"location":"#elmelet","title":"Elm\u00e9let","text":"\u00d3ra D\u00e1tum Tananyag 1 szept. 6. Bevezet\u00e9s: A tant\u00e1rgy fel\u00e9p\u00edt\u00e9se. Robotikai \u00e9s \u00f6nvezet\u0151 j\u00e1rm\u0171ves ismeretek. \u00c9rz\u00e9kel\u00e9s, \u00e9szlel\u00e9s, tervez\u00e9s, szab\u00e1lyoz\u00e1s, aktu\u00e1l\u00e1s. 2 szept. 13. ROS2 koncepci\u00f3k: Egyetemi robotok \u00e9s j\u00e1rm\u0171vek ismertet\u00e9se. <code>ROS 2</code> alapismeretek. 3 szept. 20. \u00c9rz\u00e9kel\u00e9s: Kamera, LIDAR, GNSS (GPS), IMU, CAN szenzorok m\u0171k\u00f6d\u00e9se, jelfeldolgoz\u00e1sa, f\u0151bb <code>ROS 2</code> topicok, <code>ROS 2</code> id\u0151kezel\u00e9s. 4 szept. 27. F\u00e9l\u00e9ves beadand\u00f3: f\u00e9l\u00e9ves beadand\u00f3 ismertet\u00e9se, oszt\u00e1lyz\u00e1si szempontok, \u00f6tletek, k\u00e9rd\u00e9sek-v\u00e1laszok 5 okt. 4. Transzform\u00e1ci\u00f3k: Merev test mozg\u00e1sa, m\u00e1trix szorz\u00e1s ism\u00e9tl\u00e9se, homog\u00e9n koordin\u00e1t\u00e1k szeml\u00e9ltet\u00e9se r\u00f6vid progamk\u00f3dokkal, quaternion (kvaterni\u00f3k) fogalma. 6 okt. 11. \u00c9szlel\u00e9s: objektumfelismer\u00e9s, objektumklasszifik\u00e1ci\u00f3, objektum k\u00f6vet\u00e9s \u00e9s predikci\u00f3, SLAM \u00e9s LOAM. 7 okt. 25. Szimul\u00e1ci\u00f3: ROS 2 kompatibilis szimul\u00e1torok \u00e1ttekint\u00e9se (pl Gazebo, Carla, SVL, OSSDC SIM, AirSim, AWSIM, CoppeliaSim, MVSim) 8 nov. 8. Tervez\u00e9s: Glob\u00e1lis tervez\u00e9s, lok\u00e1lis tervez\u00e9s. Lok\u00e1lis tervez\u00e9s: keresztir\u00e1ny\u00fa \u00e9s hosszir\u00e1ny\u00fa tervez\u00e9s. 9 nov. 15. Szab\u00e1lyoz\u00e1s: J\u00e1rm\u0171ir\u00e1ny\u00edt\u00e1si megold\u00e1sok (inverz-modellek, predikt\u00edv modellek, z\u00e1rhurk\u00fa modellek). 10 nov. 22. Mesters\u00e9ges intelligencia: Neur\u00e1lis h\u00e1l\u00f3zatok j\u00e1rm\u0171ves \u00e9s robotikai f\u00f3kusszal."},{"location":"#gyakorlat","title":"Gyakorlat","text":"\u00d3ra D\u00e1tum Tananyag 1 szept. 6. Bevezet\u00e9s + Linux + G\u00e9ptermi ismeretek: WSL2 haszn\u00e1lata Windows oper\u00e1ci\u00f3s rendszeren. G\u00e9ptermi alapismeretek. Linux parancsok, amelyek sz\u00fcks\u00e9gesek lehetnek a k\u00e9s\u0151bbiekben. 2 szept. 13. Telep\u00edt\u00e9s+ Fejleszt\u0151k\u00f6rnyezet be\u00e1ll\u00edt\u00e1sa + ROS2 kommunik\u00e1ci\u00f3: Els\u0151 <code>ROS 2</code> node-ok, ROS parancsok haszn\u00e1lata, build \u00e9s source. 3 szept. 20. \u00c9rz\u00e9kel\u00e9s gyakorlat: Szenzor adatok jellemz\u0151bb form\u00e1tumai: <code>sensor_msgs/PointCloud2</code>, <code>sensor_msgs/Image</code>, <code>geometry_msgs/Pose</code>, stb. Bag <code>.mcap</code> f\u00e1jlok kezel\u00e9se, lej\u00e1tsz\u00e1sa. Egyszer\u0171 pacakge k\u00e9sz\u00edt\u00e9se, amely poz\u00edci\u00f3 adatokra iratkozik fel. 4 szept. 27. Verzi\u00f3kezel\u00e9s, Git, Copilot, vs code, ROS 2 launch: Copilot haszn\u00e1lata ROS 2 fejleszt\u00e9shez, Template repo ismertet\u00e9se, haszn\u00e1lata, launch f\u00e1jlok \u00edr\u00e1sa python nyelven 5 okt. 4. Transzform\u00e1ci\u00f3k gyakorlat: Node l\u00e9trehoz\u00e1sa, amely transzform\u00e1ci\u00f3kat hirdet. Markerek megjelen\u00edt\u00e9se, launch \u00f6n\u00e1ll\u00f3 feladat. 6 okt. 11. \u00c9szlel\u00e9s gyakorlat: egyszer\u0171 LIDAR sz\u0171r\u00e9s, X, Y \u00e9s Z koordin\u00e1t\u00e1k szerint. 7 okt. 25. Szimul\u00e1ci\u00f3 bevezet\u00e9s: Gazebo Fortress \u00e9s ROS 2, szimul\u00e1ci\u00f3 gyakorlat: saj\u00e1t robotszimul\u00e1ci\u00f3 l\u00e9trehoz\u00e1sa. 8 nov. 8. Tervez\u00e9s gyakorlat: Polinom alap\u00fa lok\u00e1lis tervez\u0151 megval\u00f3s\u00edt\u00e1s\u00e1s. Nav2 haszn\u00e1lata szimul\u00e1torral. 9 nov. 15. Szab\u00e1lyoz\u00e1s gyakorlat: PID hangol\u00e1s. Trajekt\u00f3riak\u00f6vet\u00e9s Gazebo szimul\u00e1torral. Saj\u00e1t fejleszt\u00e9s\u0171 szab\u00e1lyz\u00f3 \u00e9s j\u00e1rm\u0171 modell. 10 nov. 22. Mesters\u00e9ges intelligencia gyakorlat: Neur\u00e1lis h\u00e1l\u00f3zatok gyakorlat."},{"location":"#erdemjegy","title":"\u00c9rdemjegy","text":"<ul> <li>Al\u00e1\u00edr\u00e1s: Kis beadand\u00f3 teljes\u00edt\u00e9se (egyszer\u0171 otthoni programoz\u00e1si feladat)</li> <li>1 (el\u00e9gtelen): \\(0\\% \\leq ZH_{\u00e1tlag} &lt; 60\\%\\)</li> <li>2 (el\u00e9gs\u00e9ges): \\(60\\% \\leq ZH_{\u00e1tlag} &lt; 85\\%\\)</li> <li>3 (k\u00f6zepes): \\(85\\% \\leq  ZH_{\u00e1tlag} \\leq 100\\%\\) </li> <li>4 (j\u00f3): Nagy f\u00e9l\u00e9ves beadand\u00f3 a megadott ir\u00e1nyelvek ment\u00e9n, nagyobb hib\u00e1kkal teljes\u00edtve</li> <li>5 (jeles): Nagy f\u00e9l\u00e9ves beadand\u00f3 a megadott ir\u00e1nyelvek ment\u00e9n, csak n\u00e9h\u00e1ny kisebb hib\u00e1val teljes\u00edtve</li> </ul>"},{"location":"#konvenciok","title":"Konvenci\u00f3k","text":"<ul> <li>  gyakorlati tananyag</li> <li>  elm\u00e9leti tananyag</li> <li>  kieg\u00e9sz\u00edt\u0151 tananyag, a teljes k\u00e9p meg\u00e9rt\u00e9s\u00e9hez sz\u00fcks\u00e9ges lehet</li> </ul>"},{"location":"#erintett-temakorok-nem-a-feldolgozas-szerinti-sorrendben","title":"\u00c9rintett t\u00e9mak\u00f6r\u00f6k (nem a feldolgoz\u00e1s szerinti sorrendben)","text":"<ul> <li>Bevezet\u00e9s: \u00d6nvezet\u0151 / auton\u00f3m j\u00e1rm\u0171vek bevezet\u00e9se: az aktu\u00e1lis helyzet, m\u00falt \u00e9s j\u00f6v\u0151. Szenzorok, aktu\u00e1torok kommunik\u00e1ci\u00f3s technol\u00f3gi\u00e1k. (LIDAR, radar, akt\u00edv \u00e9s passz\u00edv kamera, GPS, odometria, IMU, CAN) Foxglove studio \u00e9s saj\u00e1t m\u00e9r\u00e9sek szeml\u00e9tet\u00e9sk\u00e9pp                </li> <li>Szoftverrendszer: \u00d6nvezet\u0151 / auton\u00f3m j\u00e1rm\u0171vek szoftverei: \u00e9rz\u00e9kel\u00e9s, \u00e9szlel\u00e9s, tervez\u00e9s, k\u00f6vet\u00e9s. Szimul\u00e1ci\u00f3s technol\u00f3gi\u00e1k, felhaszn\u00e1l\u00f3i fel\u00fcletek. Keretrendszerek: ROS/ROS2/MATLAB/LabVIEW szererepe, val\u00f3s idej\u0171 rendszerek (FPGA, real-time oper\u00e1ci\u00f3s rendszerek).                </li> <li>\u00c9rz\u00e9kel\u00e9s: SLAM, objektumdetekci\u00f3, objektumk\u00f6vet\u00e9s \u00e9s el\u0151rejelz\u00e9s. Padkadetekci\u00f3, s\u00e1vdetekci\u00f3, \u00fathibadetekci\u00f3, j\u00e1rm\u0171 \u00e9s gyalogosdetekci\u00f3/k\u00f6vet\u00e9s stb. Mesters\u00e9ges intelligencia (k\u00fcl\u00f6n\u00f6sen neur\u00e1lis h\u00e1l\u00f3zatok) \u00e9s hagyom\u00e1nyos (pl C++ nyelven k\u00e9sz\u00fclt) algoritmusok el\u0151nyei h\u00e1tr\u00e1nyai, f\u00fazi\u00f3ja.               </li> <li>Technol\u00f3giai ismeretek: Linux, Git: Linux ismeretek: Terminal kezel\u00e9se, Git kezel\u00e9se, VS code, ROS telep\u00edt\u00e9se             </li> <li>Technol\u00f3giai ismeretek: ROS 2 alapok: topicok \u00e9s \u00fczenetek, MCAP (Rosbag) visszaj\u00e1tsz\u00e1sa, Topicok kezel\u00e9se, Topic tartalm\u00e1nak el\u00e9r\u00e9se pythonb\u00f3l, rviz, rqt_plot, MCAP (Rosbag) k\u00e9sz\u00edt\u00e9s.  ROS 2 \u00f6kosziszt\u00e9ma \u00e9s fejleszt\u00e9s ROS 2 node-ok k\u00e9sz\u00edt\u00e9se pythonban \u00e9s C++-ban: ROS 2 node-ok, rqt_graph, Publisher / Subscriber node pythonban, Publisher / Subscriber node C++-ban.  Els\u0151 egyeztet\u00e9s az egy\u00e9ni projektfeladatr\u00f3l.</li> <li>ROS 2 programoz\u00e1s:ROS szenzoradatok feldolgoz\u00e1sa C++ node-al: ROS node-ok \u00edr\u00e1sa, <code>visualization_msgs</code>, LIDAR szenzoradatok: <code>sensor_msgs/PointCloud2</code>, <code>sensor_msgs/LaserScan</code>, stb.              </li> <li>Szimul\u00e1ci\u00f3 \u00e9s szab\u00e1lyz\u00e1s: Szimul\u00e1ci\u00f3: ROS node-ok haszn\u00e1lata szimul\u00e1ci\u00f3hoz (gazebo) F1/10, rviz, egy\u00e9ni projektfeladatok v\u00e9gleges\u00edt\u00e9se. Tervez\u00e9s blokk: trajekt\u00f3ria tervez\u0151k t\u00edpusai, kinematikai kih\u00edv\u00e1sok, Szab\u00e1lyz\u00e1s blokk: j\u00e1rm\u0171modellez\u00e9s, szab\u00e1lyz\u00f3k bemutat\u00e1sa, j\u00e1rm\u0171- \u00e9s aktu\u00e1torszint\u0171 szab\u00e1lyz\u00e1s, a mozg\u00e1s megval\u00f3s\u00edt\u00e1sa (f\u00e9krendszerek, korm\u00e1nyrendszerek\u2026stb)                 </li> <li>Kitekint\u00e9s, doktori kutat\u00e1sok, egyetemi hallgat\u00f3i csapatok: Nissan Leaf, Lexus \u00e9s Szenergy \u00f6nvezet\u0151 projektek, bemutat\u00e1sa, kiragadott k\u00f3dr\u00e9szletekkel \u00c9rz\u00e9kel\u00e9s: pontfelh\u0151 kezel\u00e9s vagy objektum detekt\u00e1l\u00e1s kamera alapon \u00c9szlel\u00e9s / tervez\u00e9s: \u00fatvonalmeghat\u00e1roz\u00e1s, szabad ter\u00fclet meghat\u00e1roz\u00e1s, trajekt\u00f3ria tervez\u00e9s Szab\u00e1lyz\u00e1s: z\u00e1rthurk\u00fa modellezett j\u00e1rm\u0171, szab\u00e1lyz\u00f3 \u00e9p\u00edt\u00e9se (pl PID vagy pure pursuit)               </li> <li>Mesters\u00e9ges intelligencia: \u00d6nvezet\u0151 / auton\u00f3m j\u00e1rm\u0171vek szoftverei, \u00f6sszefoglal\u00e1s, kitekint\u00e9s neur\u00e1lis h\u00e1l\u00f3zatok (mesters\u00e9ges intelligencia, AI)               </li> <li>Technol\u00f3giai ismeretek: ROS 2 haszn\u00e1lata, \u00fajdons\u00e1gai ROS-hez k\u00e9pest               </li> <li>Projektmunka: Egy\u00e9ni projektfeladat bemutat\u00e1sa                </li> </ul> <p> sze-info.github.io/ajr <p></p> <p></p>"},{"location":"bevezetes/","title":"Bevezet\u00e9s","text":"<p>Rendszerszinten az \u00f6nvezet\u00e9s a k\u00f6vetkez\u0151 alfunkci\u00f3k \u00f6sszegek\u00e9nt \u00edrhat\u00f3 le:</p> <p> Irodalom: [TU M\u00fcnchen], [Autoware], [University of Texas at Dallas], [ApolloAuto]</p> <ol> <li>\u00c9rz\u00e9kel\u00e9s: egyszer\u0171 driver-program szint\u0171 nyers adatok el\u0151\u00e1ll\u00edt\u00e1s\u00e1val foglakozik, p\u00e9ld\u00e1ul egy kamera szenzorb\u00f3l a k\u00e9p el\u0151\u00e1ll\u00edt\u00e1sa a rendszer sz\u00e1m\u00e1ra.</li> <li>\u00c9szlel\u00e9s: ez m\u00e1r \u00f6sszetettebb folyamat, a bemeneti adatokb\u00f3l kinyerni a rendszer sz\u00e1m\u00e1ra fontos inform\u00e1ci\u00f3kat, p\u00e9ld\u00e1ul gyalogos felismer\u00e9se kamerak\u00e9p alapj\u00e1n.</li> <li>Tervez\u00e9s: a j\u00e1rm\u0171 \u00fatj\u00e1t, vagy trajekt\u00f3ri\u00e1j\u00e1t tervezi meg glob\u00e1lis szinten (a szenzorok \u00e9rz\u00e9kel\u00e9si tartom\u00e1ny\u00e1n t\u00fal), illetve lok\u00e1lis szinten (a szenzorok \u00e9rz\u00e9kel\u00e9s tartom\u00e1ny\u00e1n bel\u00fcl).</li> <li>Szab\u00e1lyoz\u00e1s: a tervez\u0151 \u00e1ltal el\u0151\u00e1ll\u00edtott \u00fatvonal, vagy tarjekt\u00f3ria lek\u00f6vet\u00e9se, p\u00e9ld\u00e1ul Pure-Pursuit szab\u00e1lyz\u00f3, Modell Predikt\u00edv Szab\u00e1lyz\u00f3 (Model Predictive Control, MPC) stb. seg\u00edts\u00e9g\u00e9vel.</li> <li>Aktu\u00e1l\u00e1s: a rendszer \u00e1ltal el\u0151\u00e1ll\u00edtott referenciajelek (korm\u00e1nysz\u00f6g, g\u00e1z \u00e9s f\u00e9kped\u00e1l) kiad\u00e1sa (pl. CAN bus rendszeren).</li> </ol> <p>A fenti beoszt\u00e1s megfigyelhet\u0151 nagyobb rendszerek, p\u00e9ld\u00e1ul az Autoware \u00f6sszefoglal\u00f3 rendszer\u00e1br\u00e1j\u00e1n is. Robotik\u00e1ban ismeretes m\u00e9g a sense-think-act paradigma is. Itt a gondolkod\u00e1s (think) foglalja \u00f6ssze az \u00e9szlel\u00e9st, a tervez\u00e9st \u00e9s valamennyire a szab\u00e1lyoz\u00e1st is.</p> <p>N\u00e9zz\u00fcnk minden r\u00e9szfeladatra egy szeml\u00e9ltet\u00e9st, az egyetem\u00fcnk egyik \u00f6nvezet\u0151 funkci\u00f3kkal rendelkez\u0151 aut\u00f3j\u00e1n, a zalaegerszegi tesztp\u00e1ly\u00e1n:</p> <p></p>"},{"location":"bevezetes/#onvezetes-vs-vezetestamogatas","title":"\u00d6nvezet\u00e9s vs. vezet\u00e9st\u00e1mogat\u00e1s","text":""},{"location":"bevezetes/#sae-szintek","title":"SAE szintek","text":"<p>A SAE J3016 szabv\u00e1ny defini\u00e1lja a sof\u0151r \u00e9s a j\u00e1rm\u0171 rendszere k\u00f6z\u00f6tti munkamegoszt\u00e1st.</p> <ul> <li>0. szint: L0 - No Driving Automation, azaz a vezet\u00e9sautomatiz\u00e1ci\u00f3 teljes hi\u00e1nya.</li> <li>1. szint: L1 - Driver Assistance, itt bizonyos vezet\u00e9st\u00e1mogat\u00f3 funkci\u00f3k m\u00e1r belesz\u00f3lhatnak a j\u00e1rm\u0171 mozg\u00e1s\u00e1ba.</li> <li>2. szint: L2 - Partial Driving Automation, azaz mindk\u00e9t ir\u00e1nyba t\u00f6rt\u00e9n\u0151 man\u0151vert v\u00e9gez az aut\u00f3, a fel\u00fcgyelet az ember\u00e9.</li> <li>3. szint: L3 - Conditional Driving Automation, itt ha a j\u00e1rm\u0171 k\u00e9ri, a sof\u0151rnek vissza kell vennie az ir\u00e1ny\u00edt\u00e1st.</li> <li>4. szint: L4 - High Driving Automation, itt m\u00e1r minden felel\u0151ss\u00e9g a j\u00e1rm\u0171v\u00e9, de hagyom\u00e1nyos \u00fczemm\u00f3dban is haszn\u00e1lhat\u00f3 m\u00e9g.</li> <li>5. szint: L5 - Full Driving Automation, Autonomous, itt is a j\u00e1rm\u0171\u00e9 a fele\u0151ss\u00e9g, s\u0151t, nem is lehet hagyom\u00e1nyos korm\u00e1nnyal haszn\u00e1lni.</li> </ul> <p>A szabv\u00e1ny azonban nem \u00edjra le, hogy milyen \"scope\" / ter\u00fclet a j\u00e1rm\u0171 korl\u00e1tja. P\u00e9ld\u00e1ul egy \u00f6nvezet\u0151 rept\u00e9ri busz nem l\u00e9phet ki a rept\u00e9r ter\u00fclet\u00e9r\u0151l. Ugyan\u00edgy a Waymo, Cruise vagy a Zoox robotaxija jellemz\u0151en kisebb r\u00e9gi\u00f3ban, magyar hasonlatk\u00e9nt nagyj\u00e1b\u00f3l 1-2 v\u00e1rmegy\u00e9nyi ter\u00fcleten m\u0171k\u00f6dik csak. Ezt nevezz\u00fck \"geofencing\"-nek is.</p>"},{"location":"bevezetes/#peldak","title":"P\u00e9ld\u00e1k","text":"<p>Ahogy l\u00e1thattuk, \u00f6nvezet\u0151 (autonomous) j\u00e1rm\u0171vekhez (L5) hasonl\u00f3 technol\u00f3gi\u00e1k tal\u00e1lhat\u00f3k a vezet\u00e9st\u00e1mogat\u00f3 (automated) szinteken (L2/L3) is. Azonban a feladat komplexit\u00e1sban teljesen m\u00e1s szintet jelent.</p> Szint: L2/L3 L5 Elnevez\u00e9s: Automatiz\u00e1lt, vezet\u00e9st\u00e1mogat\u00f3 Auton\u00f3m, \u00f6nvezet\u0151 Jellemz\u0151 szenzorok: Kamera, radar Kamera, radar, LIDAR, GPS P\u00e9ld\u00e1k: Tesla, Audi, BMW Waymo, Zoox, Cruise"},{"location":"bevezetes/#onvezeto-jarmuvek-es-robotok","title":"\u00d6nvezet\u0151 j\u00e1rm\u0171vek \u00e9s robotok","text":"Robotok Robotaxik Nuro, Segway, Turtlebot, Clearpath, Starship Zoox, Cruise, Waymo, Navya, Sensible4 <p>N\u00e9zz\u00fcnk egy p\u00e9ld\u00e1t, ami a Zoox \u00f6nvezet\u0151 robotaxit mutaja be m\u0171k\u00f6d\u00e9s k\u00f6zben:</p>"},{"location":"bevezetes/#kodsorok","title":"K\u00f3dsorok","text":"<p>Az al\u00e1bbi \u00e1br\u00e1b\u00f3l l\u00e1tszik, hogy egy mai \u00e1tlagos (vezet\u00e9st\u00e1mogat\u00e1ssal rendelkez\u0151) szem\u00e9lyaut\u00f3 igen komplex szoftverm\u00e9rn\u00f6ki munka eredm\u00e9nye, azonban az is vil\u00e1gos, hogy a j\u00f6v\u0151ben az \u00f6nvezet\u0151 j\u00e1rm\u0171vek m\u00e9g enn\u00e9l is \u00f6sszetettebb megold\u00e1sokat fognak ig\u00e9nyelni.</p> <p><pre><code>---\nconfig:\n    themeVariables:\n        xyChart:\n            backgroundColor: transparent\n            titleColor: \"#AAAAAA\"\n            xAxisLabelColor: \"#43AEC5\"\n            yAxisLabelColor: \"#43AEC5\"\n            xAxisLineColor: \"#AAAAAA\"\n            yAxisLineColor: \"#AAAAAA\"\n            plotColorPalette: \"#43AEC5\"\n---\nxychart-beta\n\n    title \"Millions of Lines of code (LOC) in 2024\"\n    x-axis [\"Avg. iPhone app\",\"World of warcraft\", \"Linux kernel\", Facebook, \"Avg. new vehicle\"]\n    y-axis \"Average number of lines of codes (million)\" 0 --&gt; 210\n    bar [0.04, 5.5, 30, 62, 200]\n</code></pre> Forr\u00e1s: statista, informationisbeautiful</p>"},{"location":"bevezetes/#egyetemi-jarmuvek","title":"Egyetemi j\u00e1rm\u0171vek","text":"<p>A Sz\u00e9chenyi Istv\u00e1n Egyetem szerencs\u00e9re relat\u00edv sok \u00e1talak\u00edtott szem\u00e9lyg\u00e9pj\u00e1rm\u0171vel, illetve robottal rendelkezik. Ezek a k\u00f6vetkez\u0151ek:</p>"},{"location":"bevezetes/#lexus-rx450h-my2016-auto","title":"Lexus RX450h MY2016+ (aut\u00f3)","text":"<p>Szenzorai: Ouster OS2-64 LIDAR, 2x OS1-32 LIDAR, Stereolabs Zed2i m\u00e9lys\u00e9gkamera. Tov\u00e1bbi inform\u00e1ci\u00f3 itt.</p> Lexus"},{"location":"bevezetes/#nissan-leaf-auto","title":"Nissan Leaf (aut\u00f3)","text":"<p>Szenzorai: 2x Ouster OS1-64 LIDAR, 2x Velodyne VLP16 LIDAR, SICK LMS111 LIDAR, Stereolabs Zed / Zed2 m\u00e9lys\u00e9gkamera. Tov\u00e1bbi inform\u00e1ci\u00f3 itt.</p> Nissan Leaf"},{"location":"bevezetes/#szenergy-auto","title":"Szenergy (aut\u00f3)","text":"<p>Szenzorai: Ouster OS1-128 LIDAR, SICK LMS111 LIDAR, Stereolabs Zed2i m\u00e9lys\u00e9gkamera. Tov\u00e1bbi inform\u00e1ci\u00f3 itt.</p> Szenergy <p>A Szenergy csapata eur\u00f3pa legnagyobb \u00f6nvezet\u0151 verseny\u00e9n, a Shell Eco-marathon Autonomous Urban Concept (AUC) versenyen 2023-ban els\u0151, el\u0151tte pedig m\u00e1sodik helyez\u00e9st \u00e9rt el. A doboog\u00f3s helyez\u00e9sek ezekben az \u00e9vek ben \u00edgy alakultak:</p> \ud83c\udfc6 2022 2023 2024 1. DTU Road Runners, Technical University of Denmark (<code>Denmark</code>) SZEnergy Team, Sz\u00e9chenyi Istv\u00e1n University (<code>Hungary</code>) SZEnergy Team, Sz\u00e9chenyi Istv\u00e1n University (<code>Hungary</code>) 2. SZEnergy Team, Sz\u00e9chenyi Istv\u00e1n University (<code>Hungary</code>) Team EVA,  Hogeschool Van Amsterdam University (<code>Netherlands</code>) H2politO,Molecole Urbane Politecnico Di Torino University (<code>Italy</code>) 3. DNV Fuel Fighter, Norwegian University of Science And Technology (<code>Norway</code>) H2politO,Molecole Urbane Politecnico Di Torino University (<code>Italy</code>) Team EVA,  Hogeschool Van Amsterdam University (<code>Netherlands</code>) <p>Forr\u00e1s: shellecomarathon.com</p>"},{"location":"bevezetes/#f110-ackermann-robot-roboworks-rosbot-mini-ackermann","title":"F1/10 (Ackermann robot) / Roboworks Rosbot mini Ackermann","text":"<p>Az F1/10 verseny egy auton\u00f3m j\u00e1rm\u0171vekkel kapcsolatos verseny, ahol a r\u00e9sztvev\u0151k 1/10-es m\u00e9retar\u00e1ny\u00fa Formula 1-es aut\u00f3modelleket \u00e9p\u00edtenek \u00e9s programoznak, hogy azok \u00f6n\u00e1ll\u00f3an navig\u00e1ljanak egy versenyp\u00e1ly\u00e1n. A c\u00e9l az, hogy a j\u00e1rm\u0171vek a lehet\u0151 leggyorsabban \u00e9s legbiztons\u00e1gosabban teljes\u00edts\u00e9k a p\u00e1ly\u00e1t, mik\u00f6zben elker\u00fclik az akad\u00e1lyokat \u00e9s a t\u00f6bbi aut\u00f3t. A verseny sor\u00e1n a r\u00e9sztvev\u0151k tesztelhetik robotikai, mesters\u00e9ges intelligencia \u00e9s g\u00e9pi tanul\u00e1si ismereteiket. A Roboworks robotja az F1/10 j\u00e1rm\u0171 m\u00e9re\u00e9hez \u00e9s szenzorozotts\u00e1g\u00e1hoz nagyon hasonl\u00f3. F1tenth j\u00e1rm\u0171 le\u00edr\u00e1s itt.</p>"},{"location":"bevezetes/#segway-loomo-robot","title":"Segway Loomo (robot)","text":"<p>Le\u00edr\u00e1s itt.</p>"},{"location":"bevezetes/#husarion-rosbot-2-pro-robot","title":"Husarion ROSbot 2 Pro (robot)","text":"<p>Le\u00edr\u00e1s itt.</p>"},{"location":"bevezetes/#robotis-ros-turtlebot-3-robot","title":"Robotis ROS TurtleBot 3 (robot)","text":"<p>Le\u00edr\u00e1s itt.</p>"},{"location":"bevezetes/#dji-matrice-600-pro-drone-robot","title":"DJI Matrice 600 Pro drone (robot)","text":"<p>Szenzorai: Ouster OS1-64 LIDAR. Tov\u00e1bbi inform\u00e1ci\u00f3 itt.</p> <p></p>"},{"location":"bevezetes/copilot/","title":"Coplilot","text":"<p>A GitHub Copilot egy programoz\u00e1st seg\u00edt\u0151 eszk\u00f6z: github.com/features/copilot. AI technol\u00f3gi\u00e1kon alapul, hasonl\u00f3an a ChatGPT-hez. Kifejezetten hasznos kezd\u0151 programoz\u00f3knak, de tapsztalt fejleszt\u0151knek is nagy seg\u00edts\u00e9g lehet. A GitHub Copilot seg\u00edts\u00e9get ny\u00fajt a fejleszt\u0151knek a k\u00f3d \u00edr\u00e1s\u00e1ban, kieg\u00e9sz\u00edt\u00e9s\u00e9ben \u00e9s jav\u00edt\u00e1s\u00e1ban, javaslatokat tesz a k\u00f3dol\u00e1si mint\u00e1kra \u00e9s strukt\u00far\u00e1kra, \u00e9s gyorsabban hozz\u00e1seg\u00edthet a fejleszt\u0151ket a probl\u00e9m\u00e1k megold\u00e1s\u00e1hoz.</p> <p>A GitHub Copilot t\u00f6bbf\u00e9le programoz\u00e1si nyelvet t\u00e1mogat, \u00edgy seg\u00edthet k\u00fcl\u00f6nf\u00e9le fejleszt\u00e9si feladatokban, p\u00e9ld\u00e1ul robotikai fejleszt\u00e9sben, adatb\u00e1ziskezel\u00e9sben, mobilalkalmaz\u00e1s-fejleszt\u00e9sben \u00e9s sok m\u00e1s ter\u00fcleten.</p> <p>Az eszk\u00f6z be\u00e9p\u00fcl a fejleszt\u0151i k\u00f6rnyezetekbe, p\u00e9ld\u00e1ul a Visual Studio Code-ba, \u00e9s k\u00f6zvetlen\u00fcl az alkalmaz\u00e1son bel\u00fcl lehet haszn\u00e1lni.</p> <p>Haszn\u00e1lata alap\u00e9rtelmezetten fizet\u0151s, de hallgat\u00f3 hozz\u00e1f\u00e9r\u00e9ssel ingyenes: education.github.com/benefits.</p> <p> </p> <p>N\u00e9zz\u00fck meg m\u0171k\u00f6d\u00e9s k\u00f6zben a copilot-ot:</p> <p></p>"},{"location":"bevezetes/copilot/#github-copilot-beszerzese-sze-hallgatoknak","title":"GitHub Copilot beszerz\u00e9se SZE hallgat\u00f3knak","text":"<p>A tant\u00e1rgy teljes\u00edt\u00e9s\u00e9hez szinte elengedhetetlen a GitHub Copilot haszn\u00e1lata. A GitHub Student Developer Pack keret\u00e9ben a hallgat\u00f3k sz\u00e1m\u00e1ra ingyenesen el\u00e9rhet\u0151 a GitHub Copilot. A Developer Pack r\u00e9szletei \u00e9s a regisztr\u00e1ci\u00f3 itt \u00e9rhet\u0151 el: education.github.com/pack. Hallgat\u00f3k\u00e9nt a k\u00f6vetkez\u0151 l\u00e9p\u00e9sekkel a legegyszer\u0171bb a GitHub Copilot beszerz\u00e9se:</p> <ul> <li>Regisztr\u00e1ci\u00f3 Hallgat\u00f3i Office 365 ig\u00e9nyl\u00e9sre, @hallgato.sze.hu email, 5GB OneDrive t\u00e1rhely, Office Online \u00e9s Office 365 ProPlus deskop allalmaz\u00e1sok j\u00e1rnak hozz\u00e1: office365.sze.hu</li> <li>Github regisztr\u00e1ci\u00f3 illetve, amint \u00e9l @hallgato.sze.hu email, m\u00e1sodik vagy els\u0151dleges email c\u00edmk\u00e9nt be\u00e1ll\u00edtani a GitHub fi\u00f3kban.</li> <li>Regisztr\u00e1ci\u00f3 a GitHub Student Developer Pack-ra: education.github.com/pack</li> <li>P\u00e1r nap m\u00falva a GitHub Copilot el\u00e9rhet\u0151v\u00e9 v\u00e1lik a Visual Studio Code-ban. Az extension-\u00f6k k\u00f6z\u00f6tt kereshet\u0151 a Copilot, a Copilot chat, csak be kell jelentkezni a VS code GitHub fi\u00f3kba.</li> </ul>"},{"location":"bevezetes/gepterem/","title":"G\u00e9ptermi ismeretek (<code>C100</code>)","text":""},{"location":"bevezetes/gepterem/#kozos-meghajto-k","title":"K\u00f6z\u00f6s meghajt\u00f3 (<code>K:\\</code>)","text":"<p>A k\u00f6z\u00f6s meghajt\u00f3 a <code>K:\\</code> meghajt\u00f3k\u00e9nt tal\u00e1lhat\u00f3 meg Winodws F\u00e1jlkezel\u0151ben (File Explorer). Ha esetleg nem l\u00e1tszana, akkor szint\u00e9n a F\u00e1jlkezel\u0151ben el\u00e9rhet\u0151:</p> <pre><code>\\\\fs-kab.eik.sze.hu\\C100\\kozos\n</code></pre> <p></p> <p>A tant\u00e1rgyhoz kapcsol\u00f3d\u00f3 f\u00e1jlok pontosan a <code>\\\\fs-kab.eik.sze.hu\\C100\\kozos\\GKNB_AUTM078_Auton\u00f3m_robotok_\u00e9s_j\u00e1rm\u0171vek_programoz\u00e1sa</code> c\u00edmen \u00e9rhet\u0151ek el.</p>"},{"location":"bevezetes/gepterem/#wsl-es-kozos-meghajto","title":"WSL \u00e9s k\u00f6z\u00f6s meghajt\u00f3","text":"<p>WSL al\u00f3l szint\u00e9n el kellene tudni \u00e9rni a k\u00f6z\u00f6s meghajt\u00f3t m\u00e9gpedig az <code>/mnt/kozos</code> mount ponton. Tesztelj\u00fck az el\u00e9r\u00e9st a <code>cd /mnt/kozos</code> paranccsal. Ha a <code>-bash: cd: /mnt/kozos: No such file or directory</code> \u00fczenetet kaptuk, akkor hozzuk l\u00e9tre <code>mkdir</code> seg\u00edts\u00e9g\u00e9vel. Ha az <code>ls /mnt/kozos</code> nem list\u00e1z f\u00e1jlokat, akkor pedig nincs felmountolva.</p> <p>Ha esetleg nem m\u0171k\u00f6dne a k\u00f6z\u00f6s meghajt\u00f3, akkor ezek a parancsok seg\u00edthetnek:</p> <p><pre><code>sudo mkdir /mnt/kozos\necho \"\\\\\\\\\\\\\\\\fs-kab.eik.sze.hu\\C100\\kozos\\GKNB_AUTM078_Auton\u00f3m_robotok_\u00e9s_j\u00e1rm\u0171vek_programoz\u00e1sa    /mnt/kozos    drvfs defaults,uid=1000,gid=1000    0    0\" | sudo tee -a /etc/fstab\n</code></pre> Majd <code>wsl --shutdown</code> windows cmd-b\u0151l.</p>"},{"location":"bevezetes/gepterem/#wsl-a-fajlkezeloben","title":"WSL a F\u00e1jlkezel\u0151ben","text":"<p>Az Ubuntu 22.04 f\u00e1jljai szint\u00e9n el\u00e9rhet\u0151ek a Windows F\u00e1jlkezel\u0151b\u0151l. Bal oldlalt l\u00e1szik egy WSL vagy Linux felirat. A <code>~</code> a <code>/home/&lt;g\u00e9pn\u00e9v&gt;</code> mapp\u00e1n bel\u00fcl \u00e9rhet\u0151 el, \u00edgy a <code>ros2_ws</code> is. </p> <p></p>"},{"location":"bevezetes/gepterem/#vs-code","title":"VS code","text":""},{"location":"bevezetes/gepterem/#vs-code-wsl-eleres","title":"VS code WSL el\u00e9r\u00e9s","text":""},{"location":"bevezetes/gepterem/#vs-code-hasznos-extension-ok","title":"VS code hasznos extension-\u00f6k","text":""},{"location":"bevezetes/gepterem/#windows-terminal","title":"Windows terminal","text":"<p>A k\u00f6z\u00f6s meghajt\u00f3n tal\u00e1lhat\u00f3 egy portable verzi\u00f3. Ezt a <code>C:\\temp</code>-be m\u00e1solva haszn\u00e1lhat\u00f3 a program.</p> <p></p> <p>A k\u00f6vetkez\u0151 \u00e1bra egy c\u00e9lszer\u0171 (nem k\u00f6telez\u0151) g\u00e9ptermi elrendez\u00e9st mutat, bal oldalt a terminal, jobb oldalt a b\u00f6ng\u00e9sz\u0151:</p> <p></p> <p></p> <p></p>"},{"location":"bevezetes/gepterem/#foxglove","title":"Foxglove","text":"<p>Telep\u00edtve van, az asztalon tal\u00e1lhat\u00f3 ikonnal ind\u00edthat\u00f3. Ha m\u00e9gse lenne telep\u00edtve, a k\u00f6z\u00f6s meghajt\u00f3n l\u00e9v\u0151 portable verzi\u00f3t kell a <code>C:\\temp</code>-be m\u00e1solni. </p> <p></p>"},{"location":"bevezetes/gepterem/#geptermi-beallitasok-gyors-ellenorzese","title":"G\u00e9ptermi be\u00e1ll\u00edt\u00e1sok gyors ellen\u0151rz\u00e9se","text":"<p>Ellen\u0151rz\u00e9s</p> <p>A k\u00f6vetkez\u0151 parancsokat futtasd le a g\u00e9ptermi termin\u00e1lban: <pre><code>cd /mnt/kozos/script/\n./check_all.sh\n</code></pre></p>"},{"location":"bevezetes/linux/","title":"Linux, git","text":"<p>A le\u00edr\u00e1sban alapvet\u0151 Linux ismeretek tal\u00e1lhat\u00f3k. </p> <p></p> <p>Linuxban (ebben a le\u00edr\u00e1sban \u00e9rtsd  Ubuntu, Raspbian) a legt\u00f6bb munkamenetet lehets\u00e9ges, vagy \u00e9pp c\u00e9lszer\u0171 termin\u00e1lb\u00f3l v\u00e9grehajtani. Ez a tutorial seg\u00edt a linux termin\u00e1l alapjainak megismertet\u00e9s\u00e9ben.</p> <p>Danger</p> <p>Fontos, hogy a megszokott <code>ctrl</code>+<code>v</code>, <code>ctrl</code>+<code>c</code> helyett itt a <code>ctrl</code>+<code>shift</code>+<code>v</code>, <code>ctrl</code>+<code>shift</code>+<code>c</code> m\u0171k\u00f6dik. A <code>ctr</code>+<code>c</code>(megszak\u00edt\u00e1s billenty\u0171zetr\u0151l) pl. egy ROS node (program) befejez\u00e9s\u00e9re haszn\u00e1lhat\u00f3 itt. </p>"},{"location":"bevezetes/linux/#ajanlott-terminalprogramok","title":"Aj\u00e1nlott termin\u00e1lprogramok","text":"<p>Sz\u00e1mos program v\u00e1laszthat\u00f3 a sz\u00f6veges parancssor el\u00e9r\u00e9s\u00e9re. ROS/ROS2 eset\u00e9n tal\u00e1n a k\u00f6vetkez\u0151k a legjobb v\u00e1laszt\u00e1sok.</p>"},{"location":"bevezetes/linux/#windows-terminal","title":"Windows Terminal","text":"<p>Ahogy a neve is mutatja, ez a megold\u00e1s WSL eset\u00e9n, Windows-on relev\u00e1ns. El\u0151nye, hogy egy helyen haszn\u00e1lhatunk t\u00f6bb Linux disztrib\u00faci\u00f3t ak\u00e1r Windows parancssorral is. <code>Ctrl-Shift-P</code> billenty\u0171 kombin\u00e1ci\u00f3kkal, majd a Split down, Split left parancsokkal oszhatjuk sz\u00e9t hasonl\u00f3 m\u00f3don a termin\u00e1lt:</p> <p></p> <p>A Windows Terminal release oldalon let\u00f6lthet\u0151 telep\u00edt\u0151k\u00e9nt vagy zip form\u00e1tumban portable verzi\u00f3ban. A portable haszn\u00e1lathoz kit\u00f6m\u00f6r\u00edt\u00e9s ut\u00e1n egy \u00fcres <code>.portable</code> f\u00e1jlt kell elhelyezn\u00fcnk. \u00cdgy ak\u00e1r USB pendriveon is a megszokott be\u00e1ll\u00edt\u00e1sokkal haszn\u00e1lhatjuk. Egy ilyen portable verzi\u00f3 tal\u00e1lhat\u00f3 a g\u00e9ptermekben a <code>K:\\</code> meghajt\u00f3n is (<code>\\\\fs-kab.eik.sze.hu\\C100\\kozos\\GKNB_AUTM078_Auton\u00f3m_robotok_\u00e9s_j\u00e1rm\u0171vek_programoz\u00e1sa</code>)</p>"},{"location":"bevezetes/linux/#terminator","title":"Terminator","text":"<p>Linuxon \u00e9rtelmezett termin\u00e1l, de telep\u00edteni kell.</p> <pre><code>sudo apt update\nsudo apt install terminator\n</code></pre> <p>Terminator-ban <code>Ctrl-Shift-O</code>, <code>Ctrl-Shift-E</code> billenty\u0171 kombin\u00e1ci\u00f3kkal oszthatjuk tov\u00e1bb az adott ablakot. <code>Ctrl-Shift-W</code> bez\u00e1rja az akt\u00edv ablakot.</p> <p></p>"},{"location":"bevezetes/linux/#vs-code-terminal","title":"VS code terminal","text":"<p>A fejleszt\u0151k\u00f6rnyezet be\u00e9p\u00edtett termin\u00e1lja, mind Windowson, mind Linuxon m\u0171k\u00f6dik.</p> <p></p> <p></p>"},{"location":"bevezetes/linux/#fontosabb-terminal-parancsok","title":"Fontosabb terminal parancsok","text":""},{"location":"bevezetes/linux/#korabbi-parancsok","title":"Kor\u00e1bbi parancsok","text":"<ul> <li><code>Fel ny\u00edl\ud83d\udd3c</code> vagy <code>Le ny\u00edl\ud83d\udd3d</code> - A k\u00f6zvetlen\u00fcl ezel\u0151tti parancsokat \u00e9rhetj\u00fck el \u00edgy.</li> <li><code>Ctrl+R</code> billenyt\u0171kombin\u00e1ci\u00f3val kor\u00e1bbi parancsok h\u00edvhat\u00f3k el\u0151, id\u0151renben egyre kor\u00e1bbiak</li> <li><code>Ctrl+Shift+R</code> billenyt\u0171kombin\u00e1ci\u00f3val kor\u00e1bbi parancsok h\u00edvhat\u00f3ak el\u0151, de id\u0151renben el\u0151re haladva </li> </ul> <p>A megszokott <code>ctrl</code>+<code>v</code>, <code>ctrl</code>+<code>c</code> helyett itt a <code>ctrl</code>+<code>shift</code>+<code>v</code>, <code>ctrl</code>+<code>shift</code>+<code>c</code> m\u0171k\u00f6dik. A <code>ctr</code>+<code>c</code> pl. egy ROS node (program) befejez\u00e9s\u00e9re haszn\u00e1lhat\u00f3 itt.</p> <p></p>"},{"location":"bevezetes/linux/#automatikus-kiegeszites","title":"Automatikus kieg\u00e9sz\u00edt\u00e9s","text":"<ul> <li><code>Tab</code> billenyt\u0171vel az elkezdett parancsok eg\u00e9sz\u00edthet\u0151ek ki</li> <li><code>Tab Tab</code> billenyt\u0171kombin\u00e1ci\u00f3val az \u00f6sszes lehets\u00e9ges parancsot fogja kilist\u00e1zni</li> </ul>"},{"location":"bevezetes/linux/#keprnyotorles","title":"K\u00e9prny\u0151t\u00f6rl\u00e9s","text":"<ul> <li><code>Ctrl+L</code> billenyt\u0171vel t\u00f6r\u00f6lhet\u0151ek a kor\u00e1bbi sz\u00f6vegek, \u00edgy jobban \u00e1tl\u00e1that\u00f3 lesz a terminal</li> </ul>"},{"location":"bevezetes/linux/#konyvtarak-kozotti-navigacio","title":"K\u00f6nyvt\u00e1rak k\u00f6z\u00f6tti navig\u00e1ci\u00f3","text":"<ul> <li><code>cd</code>: adott k\u00f6nyvt\u00e1rba / mapp\u00e1ba t\u00f6rt\u00e9n\u0151 bel\u00e9p\u00e9s</li> <li>pl <code>cd ~/ros2_ws/src</code>, <code>cd ../..</code></li> <li><code>ls</code>: list\u00e1z\u00e1s: k\u00f6nyvt\u00e1rak, f\u00e1jlok</li> <li><code>mkdir</code>: k\u00f6nyvt\u00e1r k\u00e9sz\u00edt\u00e9se</li> <li><code>pwd</code>: aktu\u00e1lis munkak\u00f6nyvt\u00e1r ki\u00edrat\u00e1sa (print working directory)</li> <li><code>cp</code>: Ezzel a paranccsal tudunk m\u00e1solni (<code>cp</code> <code>/file/helye</code> <code>/ahova/m\u00e1solni/akarod/</code>, <code>cp -r</code> <code>/a/k\u00f6nyvt\u00e1r/helye</code> <code>/ahova m\u00e1solni/akarod</code>)</li> <li><code>mv</code>: Ezzel adott f\u00e1jlt vagy k\u00f6nyvt\u00e1rat tudunk mozgatni (\u00e1thelyezni) vagy \u00e1tnevezni (<code>mv /a/f\u00e1jl/helye *f\u00e1jl \u00faj neve</code>, <code>mv /a/f\u00e1jl/helye /a/f\u00e1jl/\u00faj/helye</code>)</li> <li><code>rm</code>: F\u00e1jlok t\u00f6rl\u00e9se (<code>rm /a/f\u00e1jl/helye, rm -r /a/f\u00e1jlok/\u00e9s/mapp\u00e1k/helye</code>) Az <code>rm -r</code> parancsn\u00e1l minden t\u00f6rl\u0151dni fog a meghat\u00e1rozott helyen.</li> <li><code>rmdir</code>: Egy \u00fcres k\u00f6nyvt\u00e1r t\u00f6rl\u00e9se</li> <li><code>chmod</code>: (change mode) Arra alkalmas, hogy megv\u00e1ltoztassuk a f\u00e1jlok / mapp\u00e1k hozz\u00e1f\u00e9r\u00e9si jogait. Tehetj\u00fck ezt p\u00e9ld\u00e1ul karakteres kapcsol\u00f3kkal (r, w, stb.), vagy okt\u00e1lisan (sz\u00e1mjegyekkel).</li> <li>pl <code>chmod +x my_python_node.py</code>: v\u00e9grehajt\u00e1si (execute) jog hozz\u00e1ad\u00e1sa</li> <li>pl <code>chmod 777 everything.py</code>: minden jog hozz\u00e1ad\u00e1sa</li> </ul>"},{"location":"bevezetes/linux/#chmod","title":"<code>chmod</code>","text":"N Sum <code>rwx</code> Permission <code>7</code> 4(r)+ 2(w) + 1(x) <code>rwx</code> read, write and execute <code>6</code> 4(r)+ 2(w) <code>rw-</code> read and write <code>5</code> 4(r)+ 1(x) <code>r-x</code> read and execute <code>4</code> 4(r) <code>r--</code> read only <code>3</code> 2(w)+ 1(x) <code>-wx</code> write and execute <code>2</code> 2(w) <code>-w-</code> write only <code>1</code> 1(x) <code>--x</code> execute only <code>0</code> 0 <code>---</code> none"},{"location":"bevezetes/linux/#konyvtarak","title":"K\u00f6nyvt\u00e1rak","text":"Hely Magyar\u00e1zat <code>/</code> A k\u00f6nyvt\u00e1rfa kiindul\u00f3pontja, gy\u00f6k\u00e9r <code>/boot</code> Rendszerind\u00edt\u00e1s, bootloader <code>/bin</code> A futtathat\u00f3 parancsok, binaries <code>/sbin</code> A rendszergazda parancsai, superuser/system bin <code>/lib</code> Az indul\u00e1shoz sz\u00fcks\u00e9ges osztott rendszerk\u00f6nyvt\u00e1rak -libraries- illetve, modulok, meghajt\u00f3programok <code>/dev</code> Eszk\u00f6z\u00f6k, mint p\u00e9ld\u00e1ul USB (<code>ttyUSB0</code>) - devices <code>/etc</code> Be\u00e1ll\u00edt\u00f3f\u00e1jlok, helyi ind\u00edt\u00f3 parancsok, jelszavak, h\u00e1l\u00f3zati be\u00e1ll\u00edt\u00f3k stb. helye. <code>/home</code> Itt tal\u00e1lhat\u00f3 minden felhaszn\u00e1l\u00f3 saj\u00e1t k\u00f6nyvt\u00e1rat. P\u00e9ld\u00e1ul ha a <code>sanyi</code> felhaszn\u00e1l\u00f3val vagyunk bel\u00e9pve, <code>/home/sanyi</code> tartalmazza a f\u00e1jljainkat. A <code>/home/sanyi/Desktop</code>, vagy r\u00f6viden <code>~/Desktop</code> az asztalunk tartalma. <code>/mnt</code> A felcsatolt (mountolt) perif\u00e9ri\u00e1k, f\u00e1jlrendszerek helye, mount. <code>/proc</code> Process information <code>/root</code> A root user k\u00f6nyvt\u00e1ra <code>/tmp</code> Temp <code>/usr</code> Universal system resources, alkalmaz\u00e1sok, rendszereszk\u00f6z\u00f6k <code>/var</code> V\u00e1ltoz\u00f3 adatok, p\u00e9ld\u00e1ul nyomtat\u00e1si munk\u00e1k, email-ek"},{"location":"bevezetes/linux/#verziokezeles","title":"Verzi\u00f3kezel\u00e9s","text":"<ul> <li><code>git clone</code>: git repo kl\u00f3noz\u00e1sa</li> <li><code>git config --global user.name \"Sanyika\"</code>: felhszn\u00e1l\u00f3n\u00e9v be\u00e1ll\u00edt\u00e1sa</li> <li><code>git config --global user.email \"sanyika@gggmail.com</code>: email be\u00e1ll\u00edt\u00e1sa</li> <li><code>git init</code>: lok\u00e1lis rep\u00f3 inicializ\u00e1l\u00e1sa</li> <li><code>git add &lt;file&gt;</code>: f\u00e1jl hozz\u00e1ad\u00e1sa</li> <li><code>git status</code>: aktu\u00e1lis st\u00e1tusz lek\u00e9rdez\u00e9se</li> <li><code>git commit -m \"My beautiful commit\"</code>: commit, \u00fczenettel</li> <li><code>git push</code>: push</li> <li><code>git pull</code>: pull</li> <li><code>git branch &lt;new_branch_name&gt;</code>: branch k\u00e9sz\u00edt\u00e9se</li> <li><code>git checkout &lt;branch_name&gt;</code>: \u00faj branch</li> <li><code>git checkout -- .</code>: Minden nem staged (unstaged) v\u00e1ltoz\u00e1s elvet\u00e9se lok\u00e1lisan. VS code-ban kb ez a \"discard all changes\" parancs. (\u00dajabb git verzi\u00f3kban a <code>git restore .</code> is hasonl\u00f3 m\u00f3don m\u0171k\u00f6dik.)</li> <li><code>git merge &lt;branch_name&gt;</code>: a jelenlegi branch-be mergeli a branch-t</li> </ul> <p>Tip</p> <p>A legt\u00f6bb m\u0171velet VS code-dal elv\u00e9gezhet\u0151 termin\u00e1l n\u00e9lk\u00fcl is. Err\u0151l b\u0151vebben itt lehet olvasni.</p> <p></p> <p>Forr\u00e1s: link</p>"},{"location":"bevezetes/linux/#szoveges-fajlok","title":"Sz\u00f6veges f\u00e1jlok","text":"<ul> <li><code>wget</code>: webes tartalmak let\u00f6lt\u00e9se terminalb\u00f3l</li> <li><code>cat</code>: f\u00e1jl tartalm\u00e1nak ki\u00edrat\u00e1sa</li> <li><code>touch</code>: sz\u00f6veges f\u00e1jl l\u00e9trehoz\u00e1sa</li> <li>pl. <code>touch hello.txt</code></li> <li><code>echo</code>: ki\u00edrat\u00e1s, vagy f\u00e1jlba \u00edr\u00e1s (<code>&gt;&gt;</code> oper\u00e1tor). Amennyiben nem l\u00e9tezik a f\u00e1jl, l\u00e9trehozza (<code>touch</code>)</li> <li>pl. <code>echo \"hello\" &gt;&gt; hello.txt</code> </li> <li>pl. <code>echo \"n = 5; print('\\n'.join(':D ' * i for i in range(1, n + 1)))\" &gt;&gt; hello.py</code> </li> <li>pl. <code>ros2 topic list &gt;&gt; hello.txt</code> </li> <li>pl. <code>ros2 topic echo --once /scan &gt;&gt; hello.txt</code> </li> <li><code>find</code>: f\u00e1jl keres\u00e9se, pl a <code>find ~/ros2_ws/src/ -name *.txt</code> minden <code>txt</code> f\u00e1jlt megkeres a <code>~/ros2_ws/src</code> k\u00f6nyvt\u00e1rban.</li> <li><code>nano</code>: sz\u00f6vegszerkeszt\u0151: egyszer\u0171, termin\u00e1l-alap\u00fa</li> <li><code>code</code>: sz\u00f6vegszerkeszt\u0151: GUI, VS code</li> <li>pl. <code>code .</code> megnyintja az aktu\u00e1lis mappa tartalm\u00e1t</li> <li>pl. <code>code ~/.bashrc</code> megnyintja a  <code>~/.bashrc</code> tartalm\u00e1t szerkeszt\u00e9sre</li> <li><code>colcon</code>: wrapper a <code>cmake</code> \u00e9s <code>make</code> parancsok egyszer\u0171bb haszn\u00e1lat\u00e1hoz, err\u0151l b\u0151vebben k\u00e9s\u0151bb</li> </ul>"},{"location":"bevezetes/linux/#telepites","title":"Telep\u00edt\u00e9s","text":"<ul> <li><code>sudo apt install</code> vagy <code>sudo apt-get install</code>: szoftver csomagkezel\u0151vel t\u00f6rt\u00e9n\u0151 telep\u00edt\u00e9s, Advanced Packaging Tool (APT). </li> <li>pl. <code>sudo apt install tree mc</code> - tree \u00e9s mc programok telep\u00edt\u00e9se </li> <li><code>sudo</code>: (Superuser do) Lehet\u0151v\u00e9 teszi, hogy rendszergazdak\u00e9nt vagy m\u00e1s felhaszn\u00e1l\u00f3 nev\u00e9ben hajtsunk v\u00e9gre parancsokat.</li> <li><code>sudo apt update</code>: csomagindex friss\u00edt\u00e9se, ha \u00faj verzi\u00f3k j\u00f6nnek ki k\u00fcl\u00f6nb\u00f6z\u0151 szoftverekb\u0151l, ezt a paracsot a telep\u00edt\u00e9s (<code>apt install</code>) el\u0151tt c\u00e9lszer\u0171 kiadni.</li> <li><code>sudo apt update</code>: m\u00e1r telep\u00edtett csomagok friss\u00edt\u00e9se</li> <li><code>apt list</code>: list\u00e1zza asz \u00f6sszes telep\u00edtett csomagot</li> <li>pl. <code>apt list | grep ros</code>: lesz\u0171ri csak az <code>ROS</code>-hez kapcsol\u00f3d\u00f3 csomagokat</li> </ul>"},{"location":"bevezetes/linux/#tovabbi-hasznos-eszkozok","title":"Tov\u00e1bbi hasznos eszk\u00f6z\u00f6k","text":""},{"location":"bevezetes/linux/#navigacio","title":"Navig\u00e1ci\u00f3","text":"<ul> <li><code>Ctrl + a</code> vagy <code>home</code>: A sor elej\u00e9re dob</li> <li><code>Ctrl + e</code> vagy <code>end</code>: A sor v\u00e9g\u00e9re dob</li> <li><code>Ctrl + \u25c0</code> / <code>Ctrl + \u25b6</code>: Az el\u0151z\u0151 / k\u00f6vetkez\u0151 sz\u00f3ra ugrik</li> </ul>"},{"location":"bevezetes/linux/#grep","title":"<code>grep</code>","text":"<ul> <li><code>grep</code>: (Global \\ Regular Expression \\ Print) f\u00e1jlokban illetve parancsok kimenet\u00e9ben keres</li> <li>pl. <code>grep 'ROS' ~/.bashrc</code>: list\u00e1zza a <code>bashrc</code> f\u00e1jlban az <code>ROS</code> sz\u00f6veget tartalmaz\u00f3 sorokat</li> <li>pl. <code>ros2 topic list | grep pose</code>: list\u00e1zza az \u00f6sszes topicot, amiben van <code>pose</code> string</li> </ul>"},{"location":"bevezetes/linux/#ssh","title":"<code>ssh</code>","text":"<ul> <li><code>ssh</code>: (Secure Shell Protocol) linux g\u00e9pektbe t\u00e1voli terminal bejelentkez\u00e9st tesz lehet\u0151v\u00e9</li> <li>pl. <code>ssh nvidia@192.168.1.5</code>: bel\u00e9p\u00e9s az adott user adott IP c\u00edmen l\u00e9v\u0151 g\u00e9p\u00e9be</li> <li>pl. <code>ssh user01@computer4 -X</code>: bel\u00e9p\u00e9s <code>-X</code> X window haszn\u00e1lat\u00e1val, \u00edgy az esetleges ablakok a mi g\u00e9p\u00fcnk\u00f6n jelennek meg, de a t\u00e1voli g\u00e9p hostolja \u0151ket</li> <li>pl. <code>ssh laptop@192.168.0.2 touch hello.txt</code>: l\u00e9trehoz az adott g\u00e9pen egy f\u00e1jlt, nyilv\u00e1n m\u00e1s parancsokkal is m\u0171k\u00f6dik</li> </ul>"},{"location":"bevezetes/linux/#gyakran-hasznalt-parancsok","title":"Gyakran haszn\u00e1lt parancsok","text":"<ul> <li>Fut\u00f3 folyamatokr\u00f3l a <code>ps</code> ad t\u00e1j\u00e9koztat\u00e1st pl: <code>ps -A | grep ros</code> vagy <code>ps -eo pid,cmd | grep ros2</code></li> <li>A f\u00e1jlrendszer \u00e1llapot\u00e1r\u00f3l a <code>df -h</code> (disk filesystem, human readable) parancs ad t\u00e1j\u00e9koztat\u00e1st </li> </ul> <p>Az <code>ssh</code> alapvet\u0151en jelsz\u00f3t is k\u00e9r, de ha megb\u00edzunk egy adott g\u00e9pben, elmenthetj\u00fck a priv\u00e1t-publikus kulcsp\u00e1rt, \u00e9s akkor erre nincs sz\u00fcks\u00e9g, p\u00e9ld\u00e1ul \u00edgy.</p>"},{"location":"bevezetes/linux/#rsync-halozati-masolas","title":"<code>rsync</code> h\u00e1l\u00f3zati m\u00e1sol\u00e1s","text":"<p>H\u00e1l\u00f3zatba k\u00f6t\u00f6tt g\u00e9pek k\u00f6z\u00f6tti m\u00e1sol\u00e1s (remote sync), pl. egy Nvidia Jetson be\u00e1gyazott sz\u00e1m\u00edt\u00f3g\u00e9pr\u0151l a saj\u00e1t g\u00e9p\u00fcnk <code>/mnt/c/bag/</code> mapp\u00e1j\u00e1ba t\u00f6rt\u00e9n\u0151 m\u00e1sol\u00e1s progress-barral \u00edgy n\u00e9z ki:</p> <p><pre><code>rsync -avzh --progress /mnt/kozos/measurement_files/lexus-2023-07-18-campus.mcap  /mnt/c/temp/\n</code></pre> <pre><code>rsync -avzh --progress nvidia@192.168.1.5:/mnt/storage_1tb/2023-07-02/ /mnt/c/bag/2023-07-02/\n</code></pre></p>"},{"location":"bevezetes/linux/#scp-halozati-masolas","title":"<code>scp</code> h\u00e1l\u00f3zati m\u00e1sol\u00e1s","text":"<p>H\u00e1l\u00f3zatba k\u00f6t\u00f6tt g\u00e9pek k\u00f6z\u00f6tti m\u00e1sol\u00e1s (az <code>rsync</code> alternat\u00edv\u00e1ja). A progress-bar sajnos nem minden rendszeren jelenik meg:</p> <pre><code>scp /mnt/kozos/measurement_files/lexus3sample02.mcap  /mnt/c/temp/\n</code></pre>"},{"location":"bevezetes/linux/#screen","title":"<code>screen</code>","text":"<p>Virtu\u00e1lis termin\u00e1lokat ind\u00edt, kezel, p\u00e9ld\u00e1ul: <pre><code>screen -m -d -S roscore bash -c roscore\nscreen -m -d -S campfly bash -c 'roslaunch drone_bringup campus_fly.launch'\nscreen -m -d -S rviz1 bash -c 'rosrun rviz rviz'\n</code></pre></p> <ul> <li>list screen: <code>screen -ls</code></li> <li>restore screen:  <code>screen -r roscore</code> / <code>screen -r campfly</code> /  <code>screen -r rviz1</code></li> <li>detach: <code>Ctrl-a</code> + <code>Ctrl-d</code></li> <li>kill: <code>killall -9 screen</code> and <code>screen -wipe</code></li> </ul>"},{"location":"bevezetes/linux/#mc-fajlkezelo","title":"<code>mc</code> f\u00e1jlkezel\u0151","text":"<p>GNU Midnight Commander (<code>mc</code>), a Norton Commander inspir\u00e1lta f\u00e1jlkezel\u0151:</p> <p></p>"},{"location":"bevezetes/linux/#nmtui","title":"<code>nmtui</code>","text":"<p>Az <code>nmtui</code> (Network Manager Text User Interface) terminal-alap\u00fa Wifi / Ethernet / H\u00e1l\u00f3zat konfigur\u00e1tor.</p> <p></p>"},{"location":"bevezetes/linux/#nano-szovegszerkeszto","title":"<code>nano</code> sz\u00f6vegszerkeszt\u0151","text":"<p>Terminal alap\u00fa sz\u00f6vegszerkeszt\u0151. Szerkeszt\u00e9s ut\u00e1n <code>Ctrl+X</code> a kil\u00e9p\u00e9s, ut\u00e1na <code>Y</code>-t \u00fctve menti a f\u00e1jlt.</p> <p></p>"},{"location":"bevezetes/linux/#htop-top","title":"<code>htop</code> / <code>top</code>","text":"<p>Az htop egy interakt\u00edv folyamatfigyel\u0151 parancs (nagyj\u00e1b\u00f3l a windows task manager funkcionalit\u00e1sa), amely megjelen\u00edti \u00e9s fel\u00fcgyeli a fut\u00f3 folyamatokat a rendszeren. Mem\u00f3ria- \u00e9s CPU-haszn\u00e1lat folymatonk\u00e9nt r\u00e9szletezve is kilvashat\u00f3, tov\u00e1bb\u00e1 van lehet\u0151s\u00e9g a <code>kill</code> haszn\u00e1lat\u00e1ra is.</p> <p></p>"},{"location":"bevezetes/linux/#bashrc-fajl","title":"<code>~/.bashrc</code> f\u00e1jl","text":"<p>A <code>bashrc</code> f\u00e1jl (a <code>~</code> jelent\u00e9se, hogy <code>user1</code> felhaszn\u00e1l\u00f3 eset\u00e9n a <code>/home/user1/</code> mapp\u00e1ban tal\u00e1lhat\u00f3, a <code>.</code> jelent\u00e9se pedig, hogy rejtett f\u00e1jl) minden terminal indt\u00e1skor lefut\u00f3 f\u00e1jl. Teh\u00e1t, ha pl egy parancsot \u00edrunk bele, ami <code>echo \"hello\"</code> akkor minden terminal ind\u00edt\u00e1skor ki\u00edr egy hello \u00fczenetet. Szerkeszt\u00e9se <code>nano</code>/<code>VS code</code> sz\u00f6vegszerkeszt\u0151b\u0151l:</p> <pre><code>nano ~/.bashrc\ncode ~/.bashrc\n</code></pre> <p>Sz\u00e1munkra fontos k\u00f6rnyezeti v\u00e1ltoz\u00f3k pl: <pre><code>export ROS_DOMAIN_ID=4\nexport ROS_LOCALHOST_ONLY=1\nexport GAZEBO_MODEL_PATH=$GAZEBO_MODEL_PATH:/opt/ros/humble/share/turtlebot3_gazebo/models\nexport TURTLEBOT3_MODEL=waffle\nsource /opt/ros/humble/setup.bash\nsource ~/ros2_ws/install/setup.bash\n</code></pre></p> <p>A <code>bashrc</code> f\u00e1jl m\u00f3dos\u00edt\u00e1sa ut\u00e1n nem kell \u00faj termin\u00e1lt nyitni, ha kiadjuk a k\u00f6vetkez\u0151 parancsot:</p> <pre><code>source ~/.bashrc\n</code></pre>"},{"location":"bevezetes/linux/#ros-1","title":"ROS 1","text":"<p>Tip</p> <p>A fejezetben a r\u00e9gi ROS 1-es k\u00f6nyzeteti v\u00e1ltoz\u00f3kr\u00f3l van sz\u00f3, az \u00faj ROS 2-est a k\u00f6vetkez\u0151 fejezet tartalmazza. </p> <p>Ki\u00edrathatjuk a k\u00f6rnyezeti v\u00e1ltoz\u00f3kat (environment variables) <code>echo</code>-val / <code>printenv</code>-vel pl:</p> <p><pre><code>echo $ROS_MASTER_URI\nprintenv ROS_MASTER_URI\n\nhttp://192.168.1.5:11311\n</code></pre> <pre><code>echo $ROS_IP\nprintenv ROS_IP\n\n192.168.1.10\n</code></pre></p>"},{"location":"bevezetes/linux/#ros-2","title":"ROS 2","text":"<p>ROS 2 fejezet</p> <p>Ez az \u00faj, ROS 2-est tartalmaz\u00f3 fejezet. </p> <p>Ki\u00edrathatjuk a k\u00f6rnyezeti v\u00e1ltoz\u00f3kat (environment variables) <code>echo</code>-val / <code>printenv</code>-vel pl:</p> <p><pre><code>echo $ROS_DISTRO\nprintenv ROS_DISTRO\n\nhumble\n</code></pre> <pre><code>echo $AMENT_PREFIX_PATH\nprintenv AMENT_PREFIX_PATH\n\n/opt/ros/humble\n</code></pre></p> <pre><code>printenv | grep -i ROS\n\nROS_VERSION=2\nROS_PYTHON_VERSION=3\nROS_DISTRO=humble\n</code></pre>"},{"location":"bevezetes/linux/#gazebo-es-wsl","title":"Gazebo \u00e9s WSL","text":"<p>Gazebo szimul\u00e1tort \u00e9s WSL-t haszn\u00e1lva el\u0151fordulhat egy issue, ami egy egyszer\u0171 k\u00f6rnyezeti v\u00e1ltoz\u00f3 be\u00e1ll\u00edt\u00e1s\u00e1val jav\u00edthat\u00f3. A <code>~/.bashrc</code> f\u00e1jlban a k\u00f6vetkez\u0151t kell be\u00e1ll\u00edtani.</p> <pre><code>export LIBGL_ALWAYS_SOFTWARE=1 ### GAZEBO IGNITION \n</code></pre> <p>\u00daj termin\u00e1l vagy <code>source</code> ut\u00e1n a <code>echo $LIBGL_ALWAYS_SOFTWARE</code> parancsra <code>1</code>-et fog ki\u00edni.</p>"},{"location":"bevezetes/linux/#branch-megjelenitese-linux-bash-ben","title":"Branch megjelen\u00edt\u00e9se Linux bash-ben","text":"<p>Opcion\u00e1lis, de hasznos lehet: Keress\u00fck meg \u00e9s m\u00f3dos\u00edtsuk a <code>~/.bashrc</code> f\u00e1jlban a k\u00f6vetkez\u0151 r\u00e9szt. </p> <p>(VS code haszn\u00e1lat\u00e1val a k\u00f6vetkez\u0151 parancs: <code>code ~/.bashrc</code>)</p> <pre><code>if [ \"$color_prompt\" = yes ]; then\n    PS1='${debian_chroot:+($debian_chroot)}\\[\\033[01;32m\\]\\u@\\h\\[\\033[00m\\]:\\[\\033[01;34m\\]\\w\\[\\033[00m\\]\\$ '\nelse\n    PS1='${debian_chroot:+($debian_chroot)}\\u@\\h:\\w\\$ '\nfi\nunset color_prompt force_color_prompt\n</code></pre> <p>Miut\u00e1n megvan, cser\u00e9lj\u00fck a k\u00f6vetkez\u0151 r\u00e9szre:</p> <p><pre><code>parse_git_branch() {\n git branch 2&gt; /dev/null | sed -e '/^[^*]/d' -e 's/* \\(.*\\)/(\\1)/'\n}\nif [ \"$color_prompt\" = yes ]; then\n PS1='${debian_chroot:+($debian_chroot)}\\[\\033[01;32m\\]\\u@\\h\\[\\033[00m\\]:\\[\\033[01;34m\\]\\w\\[\\033[01;31m\\]$(parse_git_branch)\\[\\033[00m\\]\\n\\$ '\nelse\n PS1='${debian_chroot:+($debian_chroot)}\\u@\\h:\\w$(parse_git_branch)\\\\n$ '\nfi\n</code></pre> vagy ugyanez \u00faj sorban kezd\u00e9s n\u00e9lk\u00fcl: <pre><code>parse_git_branch() {\n git branch 2&gt; /dev/null | sed -e '/^[^*]/d' -e 's/* \\(.*\\)/(\\1)/'\n}\nif [ \"$color_prompt\" = yes ]; then\n PS1='${debian_chroot:+($debian_chroot)}\\[\\033[01;32m\\]\\u@\\h\\[\\033[00m\\]:\\[\\033[01;34m\\]\\w\\[\\033[01;31m\\]$(parse_git_branch)\\[\\033[00m\\]\\$ '\nelse\n PS1='${debian_chroot:+($debian_chroot)}\\u@\\h:\\w$(parse_git_branch)\\$ '\nfi\n</code></pre></p> <p>Ments\u00fcnk, majd a <code>source ~/.bashrc</code>, illetve minden \u00faj termin\u00e1lnyit\u00e1s hat\u00e1s\u00e1ra git repository-t tartalmaz\u00f3 k\u00f6nyvt\u00e1rban a k\u00f6vetkez\u0151h\u00f6z hasonl\u00f3 bash fogad majd minket:</p> <p></p> <p>Forr\u00e1s:  Ubuntu magyar dokument\u00e1ci\u00f3s projekt <code>CC by-sa 2.5</code>, \u00d3buda University <code>CC BY-NC-SA 4.0</code></p>"},{"location":"bevezetes/practice/","title":"Bevezet\u00e9s gyakorlat","text":"<p>A gyakorlat sor\u00e1n meg fogunk ismerkedni az \u00f6nvezet\u0151 j\u00e1rm\u0171vek jellemz\u0151 tulajdons\u00e1gaival \u00e9s a r\u00f6gz\u00edtett adatok jellegzetess\u00e9geivel.</p>"},{"location":"bevezetes/practice/#foxglove-studio","title":"Foxglove Studio","text":"<p>Bevezet\u00e9sk\u00e9ppen n\u00e9zz\u00fck egy \u00f6nvezet\u0151 j\u00e1rm\u0171 jellemz\u0151 adatait. P\u00e9ldak\u00e9pp c\u00e9lszer\u0171 az egyetem\u00fcnk egyik ilyen j\u00e1rm\u0171v\u00e9vel k\u00e9sz\u00fclt adatokat vizsg\u00e1lni. Foxglove Studio-t fogunk haszn\u00e1lni, hiszen telep\u00edt\u00e9s n\u00e9lk\u00fcl, vagy ~150MB m\u00e9ret\u0171 telep\u00edthet\u0151 \u00e1llom\u00e1nyk\u00e9nt is hozz\u00e1f\u00e9rhet\u0151, valamint k\u00e9pes vizualiz\u00e1lni a sz\u00e1munkra fontos adatokat. A vizsg\u00e1lt adatok hasonl\u00f3 k\u00e9pet fognak mutatni:</p> <p> </p> <p>\u00d3r\u00e1n a <code>K:\\</code> meghajt\u00f3r\u00f3l (<code>\\\\fs-kab.eik.sze.hu\\C100\\kozos\\GKNB_AUTM078_Auton\u00f3m_robotok_\u00e9s_j\u00e1rm\u0171vek_programoz\u00e1sa</code>), otthon a z\u00f6ld gombot haszn\u00e1lva t\u00f6lts\u00fck le a fent vizualiz\u00e1lt rosbag <code>.bag</code> / <code>.mcap</code> f\u00e1jlt \u00e9s a Foxglove Studio layout-ot:</p> <p>MCAP let\u00f6lt\u00e9se  553 MB Layout let\u00f6lt\u00e9se </p> <pre><code>cd /mnt/c/temp\nmkdir /mnt/c/temp # ha nem l\u00e9tezne\nrsync -avzh --progress /mnt/kozos/measurement_files/lexus3-2024-04-05-gyor.mcap /mnt/c/temp/\nrsync -avzh --progress /mnt/kozos/measurement_files/lexus01foxglove.json   /mnt/c/temp/\n</code></pre> <p>Tip</p> <p>A https://jkk-research.github.io/dataset oldalr\u00f3l tov\u00e1bbi p\u00e9lda adatokat lehet let\u00f6lteni.</p>"},{"location":"bevezetes/practice/#a-foxglove-bemutatasa","title":"A Foxglove bemutat\u00e1sa","text":"<p>Am\u00edg az <code>.mcap</code> t\u00f6lt\u0151dik, r\u00f6viden bemutatjuk a Foxglove Studio programot. A Foxglove Studio egy ny\u00edlt forr\u00e1sk\u00f3d\u00fa, robotikai adatokat vizualiz\u00e1l\u00f3 \u00e9s hibakeres\u0151 eszk\u00f6z. Eg\u00e9sz pontosan a <code>v1.87.0</code>-ig bez\u00e1r\u00f3lag ny\u00edlt forr\u00e1sk\u00f3du volt, a <code>v2.0.0</code>-t\u00f3l pedig ingyenesen haszn\u00e1lhat\u00f3, de z\u00e1rt forr\u00e1sk\u00f3d\u00fa. El\u00e9rhet\u0151 sz\u00e1mos m\u00f3don:</p> <ul> <li>\u00f6n\u00e1ll\u00f3 asztali alkalmaz\u00e1sk\u00e9nt futtathat\u00f3</li> <li>b\u00f6ng\u00e9sz\u0151ben hozz\u00e1f\u00e9rhet\u0151</li> <li>saj\u00e1t domainen, \u00f6n\u00e1ll\u00f3an hostolhat\u00f3</li> </ul> <p>A nat\u00edv robotikai eszk\u00f6z\u00f6k (mint p\u00e9ld\u00e1ul az ROS \u00f6kosziszt\u00e9ma r\u00e9szei) \u00e1ltal\u00e1ban csak Linux rendszeren t\u00e1mogatottak, de a Studio asztali alkalmaz\u00e1s Linuxon, Windows-on \u00e9s macOS-en is m\u0171k\u00f6dik. Ak\u00e1r az ROS stack m\u00e1s oper\u00e1ci\u00f3s rendszeren fut, a Studio k\u00e9pes kommunik\u00e1lni a robottal z\u00f6kken\u0151mentesen.</p> <p>A Studio gazdag vizu\u00e1lis elemeket \u00e9s hibakeres\u0151 panelokat k\u00edn\u00e1l - interakt\u00edv diagramokt\u00f3l, 3D vizu\u00e1lis elemekig, kamerak\u00e9pekt\u0151l, \u00e9s diagnosztikai adatfolyamokig. Legyen sz\u00f3 val\u00f3s idej\u0171 robotk\u00f6vet\u00e9sr\u0151l, vagy <code>.bag</code> / <code>.mcap</code> f\u00e1jlban t\u00f6rt\u00e9n\u0151 hibakeres\u00e9sr\u0151l, ezek a panelok seg\u00edtenek a k\u00fcl\u00f6nb\u00f6z\u0151, \u00e1ltal\u00e1nos robotikai feladatok megold\u00e1s\u00e1ban.</p> <p>Ezek a panelok ezut\u00e1n egyedi elrendez\u00e9sekben konfigur\u00e1lhat\u00f3k \u00e9s \u00f6ssze\u00e1ll\u00edthat\u00f3k a projekt egyedi ig\u00e9nyeinek \u00e9s munkafolyamatainak megfelel\u0151en.</p>"},{"location":"bevezetes/practice/#az-egytemi-nissan-meresadatainak-leirasa","title":"Az egytemi Nissan m\u00e9r\u00e9sadatainak le\u00edr\u00e1sa","text":"<p>ROS rendszerben (de m\u00e1s hasonl\u00f3 robotikai megold\u00e1sokban is) az egyes adatok topic-okba szervez\u0151dve vannak publik\u00e1lva. Egy topic lehet p\u00e9ld\u00e1ul egy szenzor kimenete, egy szab\u00e1lyz\u00f3 bemenete, vizualiz\u00e1ci\u00f3s marker stb. A topicoknak t\u00edpusuk van, rengeteg el\u0151re defini\u00e1lt t\u00edpus l\u00e9tezik, de l\u00e9trehozhatunk saj\u00e1tot is, ha ezek nem lenn\u00e9nek elegek. P\u00e9ldak\u00e9pp p\u00e1r el\u0151re defini\u00e1lt t\u00edpus:</p> <ul> <li><code>sensor_msgs/Image</code> - T\u00f6m\u00f6r\u00edt\u00e9s n\u00e9lk\u00fcli k\u00e9pi inform\u00e1ci\u00f3, jellemz\u0151en a kamer\u00e1t\u00f3l j\u00f6n, de lehet feldolgozott adat, amin p\u00e9ld\u00e1ul jel\u00f6lve vannak a gyalogosok is.</li> <li><code>sensor_msgs/CompressedImage</code> - T\u00f6m\u00f6r\u00edtett k\u00e9pi inform\u00e1ci\u00f3.</li> <li><code>std_msgs/String</code> - Egyszer\u0171 sz\u00f6veges \u00fczenett\u00edpus.</li> <li><code>std_msgs/Bool</code> - Egyszer\u0171 bin\u00e1ris \u00fczenett\u00edpus.</li> <li><code>geometry_msgs/Point</code> - XYZ 3D pont.</li> <li><code>geometry_msgs/Pose</code> - 3D pont \u00e9s a hozz\u00e1 tartoz\u00f3 orient\u00e1ci\u00f3.</li> </ul> <p>Ahogy l\u00e1tszik, a t\u00edpusok k\u00fcl\u00f6nb\u00f6z\u0151 kateg\u00f3ri\u00e1kba esnek, \u00fagy mint: <code>std_msgs</code>,  <code>diagnostic_msgs</code>, <code>geometry_msgs</code>, <code>nav_msgs</code>, <code>sensor_msgs</code> stb. N\u00e9zz\u00fck, milyen t\u00edpus\u00fa \u00fczenetek tal\u00e1lhat\u00f3k a let\u00f6lt\u00f6tt f\u00e1jlban:</p> Topic T\u00edpus Hz Szenzor /gps/duro/current_pose <code>geometry_msgs/PoseStamped</code> 10 Duro GPS (UTM) /gps/duro/imu <code>sensor_msgs/Imu</code> 200 Duro GPS /gps/duro/mag <code>sensor_msgs/MagneticField</code> 25 Duro GPS /gps/nova/current_pose <code>geometry_msgs/PoseStamped</code> 20 Novatel GPS (UTM) /gps/nova/imu <code>sensor_msgs/Imu</code> 200 Novatel GPS /left_os1/os1_cloud_node/imu <code>sensor_msgs/Imu</code> 100 Ouster LIDAR /left_os1/os1_cloud_node/points <code>sensor_msgs/PointCloud2</code> 20 Ouster LIDAR /right_os1/os1_cloud_node/imu <code>sensor_msgs/Imu</code> 100 Ouster LIDAR /right_os1/os1_cloud_node/points <code>sensor_msgs/PointCloud2</code> 20 Ouster LIDAR /velodyne_left/velodyne_points <code>sensor_msgs/PointCloud2</code> 20 Velodyne LIDAR /velodyne_right/velodyne_points <code>sensor_msgs/PointCloud2</code> 20 Velodyne LIDAR /cloud <code>sensor_msgs/PointCloud2</code> 25 SICK LIDAR /scan <code>sensor_msgs/LaserScan</code> 25 SICK LIDAR /zed_node/left/camera_info <code>sensor_msgs/CameraInfo</code> 30 ZED kamera /zed_node/left/image_rect_color/compressed <code>sensor_msgs/Image</code> 20 ZED kamera /vehicle_status <code>autoware_msgs/VehicleStatus</code> 100 CAN adatok /ctrl_cmd <code>autoware_msgs/ControlCommandStamped</code> 20 Referencia sebess\u00e9g \u00e9s kormy\u00e1nsz\u00f6g /current_pose <code>geometry_msgs/PoseStamped</code> 20 Aktu\u00e1lis GPS /tf <code>tf2_msgs/TFMessage</code> 500+ Transform"},{"location":"bevezetes/ros2/","title":"<code>ROS 2</code> alapfoglamak","text":"<p>ROS verzi\u00f3k \u00e9s telep\u00edt\u00e9s</p> <p>Az <code>ROS 2</code>, a <code>ROS</code> leg\u00fajabb kiad\u00e1sa, olyan szoftverk\u00f6nyvt\u00e1rak \u00e9s eszk\u00f6z\u00f6k k\u00e9szlete (middleware), amelyek seg\u00edtenek robotalkalmaz\u00e1sok fejleszt\u00e9s\u00e9ben. Defin\u00edci\u00f3 szerint a middleware egy szoftver komponenseket \u00f6sszek\u00f6t\u0151 szoftver. Ez egy olyan r\u00e9teg, amely az oper\u00e1ci\u00f3s rendszer \u00e9s az alkalmaz\u00e1sok k\u00f6z\u00f6tt helyezkedik el az elosztott sz\u00e1m\u00edt\u00f3g\u00e9pes h\u00e1l\u00f3zat mindk\u00e9t oldal\u00e1n. Az <code>ROS 2</code> megenged\u0151, ny\u00edlt forr\u00e1sk\u00f3d\u00fa, Apache 2.0 licenszel\u00e9st haszn\u00e1l. </p> ROS 2 \u00e1ttekint\u00e9s <p>A <code>ROS</code> 2007-es kiad\u00e1sa \u00f3ta inkrement\u00e1lis friss\u00edt\u00e9seken esett \u00e1t, teh\u00e1t fundament\u00e1lis v\u00e1ltoz\u00e1sok nem, nagyobb fejleszt\u00e9sek viszont folyamatosan t\u00f6rt\u00e9ntek. 2017-ben j\u00f6tt r\u00e1 a robotikai k\u00f6z\u00f6ss\u00e9g, hogy olyan alapvet\u0151 limit\u00e1ci\u00f3i vannak az eredeti 2007-es elk\u00e9pzel\u00e9snek, amit ilyen inkrement\u00e1lis m\u00f3don sajnos nem lehet jav\u00edtani. \u00cdgy v\u00e9g\u00fcl a Noetic Ninjemis (2025-ig t\u00e1mogatva) az <code>ROS 1</code> utols\u00f3 kiad\u00e1sa, helyette p\u00e1rhuzamosan elkezdt\u00e9k fejleszteni az <code>ROS 2</code>-t. Ez egyben azt is jelenteti, hogy a kor\u00e1bbi forr\u00e1sk\u00f3dokat nehezebben lehet portolni az \u00faj verzi\u00f3ra, cser\u00e9be rengeteg \u00fajdons\u00e1got, jav\u00edt\u00e1st, t\u00e1mogat\u00e1st kaphatunk a fejlesztend\u0151 robotok, j\u00e1rm\u0171vek sz\u00e1m\u00e1ra.</p> <p>A fentiek hat\u00e1s\u00e1ra teh\u00e1t az <code>ROS 2</code> \u00e1tl\u00e9pett az akad\u00e9miai kutat\u00e1sok vil\u00e1g\u00e1b\u00f3l az ipari fehaszn\u00e1l\u00e1sra. \u00c9rdekess\u00e9g, hogy a NASA VIPER nev\u0171 holdj\u00e1r\u00f3ja is <code>ROS 2</code>-t futtat. Emellett olyan aut\u00f3ipari \u00f3ri\u00e1sok is haszn\u00e1lj\u00e1k, mint a Bosch, a BMW vagy a Volvo. Robotikai c\u00e9gek k\u00f6z\u00fcl pedig sz\u00e1mos tov\u00e1bbi p\u00e9ld\u00e1t lehetne hozni. Linkek: www.nasa.gov/viper/lunar-operations, rosindustrial.org/ric/current-members, www.bosch.com/stories/bringing-robotics-middleware-onto-tiny-microcontrollers. ROS felhaszn\u00e1l\u00f3k a vil\u00e1gban: metrorobots.com/rosmap.html.</p> <p></p> <p>K\u00e9p forr\u00e1sa: Robot Operating System 2: Design, Architecture, and Uses In The Wild: Steve Macenski et al.</p>"},{"location":"bevezetes/ros2/#miert-hasznaljak-framework-ot-robotikai-projektemhez","title":"Mi\u00e9rt haszn\u00e1ljak framework-\u00f6t robotikai projektemhez?","text":"<p>Els\u0151 robotikai projekt\u00fcnkn\u00e9l v\u00e1laszthatjuk azt az utat, hogy framework n\u00e9lk\u00fcl teljesen saj\u00e1t megold\u00e1sk\u00e9nt feljeszt\u00fcnk. Nyilv\u00e1n ennek is vannak el\u0151nyei (tanul\u00e1s, fut\u00e1si gyorsas\u00e1g, stb.). De hamarosan kelleni fog olyan algoritmus, amit ak\u00e1r m\u00e1sok implement\u00e1ltak is, csak nem kompatibilis az eredeti elk\u00e9pzel\u00e9ssel. Itt m\u00e1r c\u00e9lszer\u0171 meggondolni egy framework (pl a <code>ROS 2</code>) haszn\u00e1lat\u00e1t. Megjegyz\u00e9s, hogy nem a <code>ROS 2</code> az egyetlen lehet\u0151s\u00e9g sz\u00e1mos hasonl\u00f3, kisebb framework l\u00e9tezik: Player, YARP, Orocos, CARMEN, Orca, MOOS, and Microsoft Robotics Studio. Niylv\u00e1n mindegyiknek van el\u0151nye, ebben a t\u00e1rgyban a t\u00e1mogatotts\u00e1g miatt m\u00e9gis az <code>ROS 2</code>-re szor\u00edthozunk.</p> <p></p> <p>K\u00e9p forr\u00e1sa: ros.org/blog/ecosystem</p> <ul> <li>Plumbing: A ROS alapvet\u0151en egy \u00fczenetk\u00fcld\u0151 rendszert biztos\u00edt, amelyet gyakran \"middleware\"-nek vagy \"plumbing\"-nek neveznek. A kommunik\u00e1ci\u00f3 az egyik els\u0151 ig\u00e9ny, amely felmer\u00fcl egy \u00faj robotikai alkalmaz\u00e1s vagy b\u00e1rmilyen olyan szoftverrendszer implement\u00e1l\u00e1sakor, amelyhez hardverrel is csatlakozik. A ROS be\u00e9p\u00edtett \u00e9s j\u00f3l tesztelt \u00fczenetk\u00fcld\u0151 rendszere id\u0151t takar\u00edthat meg, hiszen kezeli a kommunik\u00e1ci\u00f3 r\u00e9szleteit a decentraliz\u00e1lt csom\u00f3pontok k\u00f6z\u00f6tt, ezt nem kell k\u00fcl\u00f6n implement\u00e1lni. S\u0151t lehet\u0151s\u00e9g van egy g\u00e9pen Intra-process kommunik\u00e1ci\u00f3 seg\u00edts\u00e9g\u00e9vel direkt mem\u00f3ria el\u00e9r\u00e9sre is.</li> <li>Eszk\u00f6z\u00f6k: A hat\u00e9kony alkalmaz\u00e1sok fejleszt\u00e9s\u00e9hez j\u00f3 fejleszt\u0151i eszk\u00f6z\u00f6kre van sz\u00fcks\u00e9g. A ROS rendelkezik ilyen az eszk\u00f6z\u00f6kkel, bele\u00e9rtve: a hibakeres\u00e9st (<code>rqt_console</code>), a vizualiz\u00e1ci\u00f3t (<code>Rviz2</code>, <code>Foxglove Studio</code>), a diagramokat (<code>rqt_plot</code>, <code>Foxglove Studio</code>), a logol\u00e1st (<code>mcap</code>) \u00e9s a visszaj\u00e1tsz\u00e1st. </li> <li>K\u00e9pess\u00e9gek: Legyen sz\u00f3 GPS-eszk\u00f6z-illeszt\u0151programr\u00f3l, n\u00e9gyl\u00e1b\u00fa robothoz val\u00f3 j\u00e1r\u00e1s- \u00e9s egyens\u00falyszab\u00e1lyoz\u00f3r\u00f3l, vagy mobil robothoz val\u00f3 t\u00e9rk\u00e9pez\u0151rendszerr\u0151l, a ROS-nak vannak megold\u00e1sai a probl\u00e9m\u00e1ra. A driverekt\u0151l az algoritmusokig, a felhaszn\u00e1l\u00f3i fel\u00fcletekig a ROS biztos\u00edtja azokat az \u00e9p\u00edt\u0151elemeket, amelyek lehet\u0151v\u00e9 teszik, hogy a saj\u00e1t alkalmaz\u00e1s\u00e1ra koncentr\u00e1ljon.</li> <li>K\u00f6z\u00f6ss\u00e9g: A ROS m\u00f6g\u00f6tt egy nagy, glob\u00e1lis \u00e9s v\u00e1ltozatos k\u00f6z\u00f6ss\u00e9g \u00e1ll. Di\u00e1kokt\u00f3l \u00e9s hobbib\u00f3l \u0171z\u0151kt\u0151l kezdve multinacion\u00e1lis v\u00e1llalatokig \u00e9s korm\u00e1nyzati \u00fcgyn\u00f6ks\u00e9gekig, az emberek \u00e9s szervezetek minden szegmense m\u0171k\u00f6dteti az <code>ROS 2</code> projektet. Ez az\u00e9rt is fontos, mert a fejleszt\u00e9s sor\u00e1n rengeteg k\u00e9rd\u00e9s fog felmer\u00fclni. Ezek nagy r\u00e9sz\u00e9t m\u00e1r meg is v\u00e1laszolta ak\u00f6z\u00f6ss\u00e9g, az \u00faj k\u00e9rd\u00e9sekre pedig sz\u00edvesen v\u00e1laszolnak. </li> </ul> <p>A k\u00f6vetkez\u0151 \u00e1bra egy egyszer\u0171 vonalk\u00f6vet\u0151 robot node-jait (programjait) \u00e9s topic-jait (~kommunk\u00e1ci\u00f3) szeml\u00e9ltei:</p> <pre><code>graph TD;\n\n    camd([/cam_driver]):::red --&gt; im1[ /image1&lt;br/&gt;sensor_msgs/Image]:::light\n    im1 --&gt; li1([ /line_detect_node]):::red\n    im1 --&gt; st1([ /stop_detect_node]):::red\n    li1 --&gt; li2[ /line&lt;br/&gt;example_msgs/Line]:::light\n    st1 --&gt; st2[ /stop&lt;br/&gt;example_msgs/Stop]:::light\n    li2 --&gt; nav([ /line_detect_node]):::red\n    st2 --&gt; nav\n    nav --&gt; cmd[ /cmd_vel&lt;br/&gt;geometry_msgs/Twist]:::light\n    cmd --&gt; control([ /robot_control]):::red\n    n1([ /node]):::white -- publishes --&gt; t[ /topic&lt;br/&gt;msg_type]:::white\n    t -- subscribes --&gt; n2([ /node]):::white\n    classDef light fill:#34aec5,stroke:#152742,stroke-width:2px,color:#152742  \n    classDef dark fill:#152742,stroke:#34aec5,stroke-width:2px,color:#34aec5\n    classDef white fill:#ffffff,stroke:#152742,stroke-width:2px,color:#152742\n    classDef red fill:#ef4638,stroke:#152742,stroke-width:2px,color:#fff</code></pre> <p>Forr\u00e1s: Bestmann, Marc &amp; Fakult\u00e4t, Min &amp; Zhang, Jianwei &amp; Hendrich, N.. (2017). Towards Using ROS in the RoboCup Humanoid Soccer League. Masterthesis</p> <p>N\u00e9zz\u00fcnk egy m\u00e1sik p\u00e9ld\u00e1t, ami sebess\u00e9gadatokb\u00f3l, IMU-b\u00f3l, t\u00e1vols\u00e1gadatokb\u00f3l k\u00e9sz\u00edt t\u00e9rk\u00e9peket.</p> <pre><code>graph LR;\n\n    odom[ /odom&lt;br/&gt;nav_msgs/Odometry]:::light --&gt; slam([ /slam_node]):::red\n    speed[ /speed&lt;br/&gt;geometry_msgs/Twist]:::light --&gt; slam\n    imu[ /imu&lt;br/&gt;sensor_msgs/Imu]:::light --&gt; slam\n    scan[ /scan&lt;br/&gt;sensor_msgs/PointCloud2]:::light --&gt; slam\n    n1([ /node]):::white -- publishes --&gt; t[ /topic&lt;br/&gt;msg_type]:::white\n    slam --&gt; pose[ /global_pose&lt;br/&gt;geometry_msgs/Pose]:::light\n    slam --&gt; map_g[ /map_grid&lt;br/&gt;nav_msgs/OccupancyGrid]:::light\n    slam --&gt; map_p[ /map_points&lt;br/&gt;sensor_msgs/PointCloud2]:::light\n    t -- subscribes --&gt; n2([ /node]):::white\n    classDef light fill:#34aec5,stroke:#152742,stroke-width:2px,color:#152742  \n    classDef dark fill:#152742,stroke:#34aec5,stroke-width:2px,color:#34aec5\n    classDef white fill:#ffffff,stroke:#152742,stroke-width:2px,color:#152742\n    classDef red fill:#ef4638,stroke:#152742,stroke-width:2px,color:#fff</code></pre>"},{"location":"bevezetes/ros2/#ros-2-mappaszerkezet","title":"<code>ROS 2</code> mappaszerkezet","text":"<pre><code>~/ros2_ws$ ls\n\nbuild  install  log  src\n</code></pre> <pre><code>graph TD;\n\n    W1{{ Workspace&lt;/br&gt;pl. ros2_ws }}:::light --&gt; S1{{ Source space&lt;/br&gt;src }}:::white\n    W1 --&gt; B1{{ Build space&lt;/br&gt;build }}:::white\n    W1 --&gt; I1{{ Install space&lt;/br&gt;install }}:::white\n    W1 --&gt; L1{{ Log space&lt;/br&gt;log }}:::white\n    S1 --&gt; P1{{ package1 }}:::white\n    S1 --&gt; P2{{ package2 }}:::white\n    S1 --&gt; P3{{ bundle_packages }}:::white\n    P1 --&gt; LA1{{ launch }}:::white\n    P1 --&gt; SR1{{ src }}:::white\n    P2 --&gt; LA2{{ launch }}:::white\n    P2 --&gt; SR2{{ src }}:::white\n\n    classDef light fill:#34aec5,stroke:#152742,stroke-width:2px,color:#152742  \n    classDef dark fill:#152742,stroke:#34aec5,stroke-width:2px,color:#34aec5\n    classDef white fill:#ffffff,stroke:#152742,stroke-width:2px,color:#152742\n    classDef red fill:#ef4638,stroke:#152742,stroke-width:2px,color:#fff</code></pre> <pre><code>graph TD;\n\n    W2{{ other_ws }}:::light --&gt; S2{{ src }}:::white\n    W2 --&gt; B2{{ build }}:::white\n    W2 --&gt; I2{{ install }}:::white\n    W2 --&gt; L2{{ log }}:::white\n\n    classDef light fill:#34aec5,stroke:#152742,stroke-width:2px,color:#152742  \n    classDef dark fill:#152742,stroke:#34aec5,stroke-width:2px,color:#34aec5\n    classDef white fill:#ffffff,stroke:#152742,stroke-width:2px,color:#152742\n    classDef red fill:#ef4638,stroke:#152742,stroke-width:2px,color:#fff</code></pre> <pre><code>~/ros2_ws/\n\u251c\u2500\u2500build  \n\u251c\u2500\u2500install  \n\u251c\u2500\u2500log\n\u2514\u2500\u2500src/\n    \u251c\u2500\u2500 bundle_packages \n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 cone_detection_lidar\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 launch\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 src\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 my_vehicle_bringup\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 launch\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 other bundle package1\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 other bundle package2\n    \u2502\u00a0\u00a0 \u2514\u2500\u2500 img\n    \u2514\u2500\u2500 wayp_plan_tools\n        \u251c\u2500\u2500 csv\n        \u251c\u2500\u2500 launch\n        \u2514\u2500\u2500 src\n</code></pre>"},{"location":"bevezetes/ros2/#kulonbsegek-az-ros-1-es-ros-2-kozott","title":"K\u00fcl\u00f6nbs\u00e9gek az <code>ROS 1</code> \u00e9s <code>ROS 2</code> k\u00f6z\u00f6tt","text":"<ul> <li>V\u00e1ltoz\u00e1sok a Middleware-ben   A <code>ROS 1</code> a Master-Slave architekt\u00far\u00e1t \u00e9s az XML-RPC middleware-t haszn\u00e1lja. A <code>ROS 2</code> ezzel szemben a  Data Distribution Service (DDS) haszn\u00e1l, amely nagyobb hat\u00e9konys\u00e1got \u00e9s megb\u00edzhat\u00f3s\u00e1got, alacsony k\u00e9sleltet\u00e9st \u00e9s sk\u00e1l\u00e1zhat\u00f3s\u00e1got, valamint konfigur\u00e1lhat\u00f3 szolg\u00e1ltat\u00e1smin\u0151s\u00e9gi (QoS) param\u00e9tereket biztos\u00edt. T\u00f6bbek k\u00f6z\u00f6tt \u00edgy nem kell <code>roscore</code>-t ind\u00edtani. Az XML-RPC jobb az egyszer\u0171 t\u00e1voli elj\u00e1r\u00e1sh\u00edv\u00e1sokhoz, m\u00edg a DDS hozz\u00e1adott komplexit\u00e1sa lehet\u0151v\u00e9 teszi, hogy jobban t\u00e1mogassa a val\u00f3s idej\u0171 rendszereket.</li> <li> <p>V\u00e1ltoz\u00e1sok a ROS API-ban   A <code>ROS 1</code> k\u00e9t k\u00fcl\u00f6n\u00e1ll\u00f3 k\u00f6nyvt\u00e1rral rendelkezik: a C++ nyelvhez k\u00e9sz\u00fclt <code>roscpp</code> \u00e9s a Pythonhoz k\u00e9sz\u00fclt <code>rospy</code>. Ezek nem teljesen azonosak egym\u00e1ssal a funkci\u00f3k tekintet\u00e9ben. Ezzel szemben a <code>ROS 2</code> egy C nyelven \u00edrt alapk\u00f6nyvt\u00e1rral - <code>rcl</code> (ROS kliensk\u00f6nyvt\u00e1r) - rendelkezik, amelyre k\u00f6nyvt\u00e1rak \u00e9p\u00fclnek. Ez biztos\u00edtja, hogy az alapvet\u0151 funkci\u00f3k hamarabb el\u00e9rhet\u0151k legyenek a k\u00fcl\u00f6nb\u00f6z\u0151 API-kban. Ez az egyik f\u0151 oka annak, hogy a <code>ROS 2</code> a kor\u00e1bbi Pythonon \u00e9s a C++-on k\u00edv\u00fcl t\u00f6bb nyelvi t\u00e1mogat\u00e1st is k\u00e9pes ny\u00fajtani: p\u00e9ld\u00e1ul  rclada Ada, rclcpp C++, rclgo Go,  rclpy Python, rcljava  Java, rclnodejs Node.js,  rclobjc Objective C (iOS),  rclc C, ros2_rust Rust, ros2_dotnet .NET, ros2cs ros2_dotnet alternat\u00edva C# nyelven.</p> </li> <li> <p>V\u00e1ltoz\u00e1sok az adatform\u00e1tumban   A <code>ROS 2</code> az <code>MCAP</code> form\u00e1tumot haszn\u00e1lja, ami nem dedik\u00e1ltan az ROS saj\u00e1t form\u00e1tuma, hanem egy ny\u00edlt forr\u00e1sk\u00f3d\u00fa kont\u00e9nerf\u00e1jl-form\u00e1tum multimod\u00e1lis log-adatokhoz. T\u00e1mogatja az id\u0151b\u00e9lyegz\u0151vel ell\u00e1tott, el\u0151re sorba rendezett adatokat, \u00e9s ide\u00e1lis a pub/sub vagy robotikai alkalmaz\u00e1sokban val\u00f3 haszn\u00e1latra. B\u0151vebben: mcap.dev</p> </li> </ul>"},{"location":"bevezetes/ros2/#par-hasznos-ujitas","title":"P\u00e1r hasznos \u00faj\u00edt\u00e1s","text":"<ul> <li>Val\u00f3s idej\u0171 feldolgoz\u00e1s   A fenti funkci\u00f3k \u00f6sszegz\u00e9se, valamint a DDS haszn\u00e1lata lehet\u0151v\u00e9 teszi, hogy a <code>ROS 2</code> kiv\u00e1l\u00f3an alkalmas legyen a val\u00f3s idej\u0171 (real time) feldolgoz\u00e1sra, k\u00fcl\u00f6n\u00f6sen akkor, ha determinisztikus, alacsony k\u00e9sleltet\u00e9s\u0171 kommunik\u00e1ci\u00f3ra van sz\u00fcks\u00e9g.</li> <li>QoS: Quality of Service    A <code>ROS 2</code> lehet\u0151v\u00e9 teszi az adat\u00e1raml\u00e1s konfigur\u00e1l\u00e1s\u00e1t, ami befoly\u00e1solja az adatok k\u00fcld\u00e9s\u00e9nek \u00e9s fogad\u00e1s\u00e1nak m\u00f3dj\u00e1t. Ez mag\u00e1ban foglalja az \u00fczenetek megb\u00edzhat\u00f3s\u00e1g\u00e1ra, hat\u00e1ridej\u00e9re \u00e9s priorit\u00e1s\u00e1ra vonatkoz\u00f3 be\u00e1ll\u00edt\u00e1sokat, amelyek biztos\u00edthatj\u00e1k, hogy a kritikus \u00fczenetek id\u0151ben k\u00e9zbes\u00edt\u00e9sre ker\u00fcljenek. </li> <li>T\u00f6bbsz\u00e1l\u00fa v\u00e9grehajt\u00e1s   A <code>ROS 2</code> t\u00e1mogatja a t\u00f6bb csom\u00f3pont val\u00f3ban p\u00e1rhuzamos futtat\u00e1s\u00e1t, \u00edgy a modern t\u00f6bbmagos processzorok sokkal jobban kihaszn\u00e1lhat\u00f3k, mint a <code>ROS 1</code> eset\u00e9ben. </li> </ul> <p> Forr\u00e1s: husarnet.com/blog/ros2-docker</p>"},{"location":"bevezetes/ros2/#egyeb-valtozasok","title":"Egy\u00e9b v\u00e1ltoz\u00e1sok","text":"<ul> <li>A Catkin elt\u0171nt, hely\u00e9re az Ament (Colcon) l\u00e9pett, mint build rendszer. Az overlay-ek lehet\u0151v\u00e9 teszik egy m\u00e1sodlagos munkater\u00fclet l\u00e9trehoz\u00e1s\u00e1t, amely nem befoly\u00e1solja az els\u0151dleges munkater\u00fcletet - ez akkor hasznos, ha \u00faj csomagokkal kell k\u00eds\u00e9rletezni, de \u00fagy, hogy ez ne befoly\u00e1solja az alapkonfigur\u00e1ci\u00f3t (ezt \"underlay\"-nek h\u00edvj\u00e1k).</li> <li>A <code>ROS 2</code> visszafel\u00e9 nem kompatibilis a <code>ROS 1</code>-gyel. K\u00f6vetkez\u00e9sk\u00e9ppen a <code>ROS 1</code> csomagok val\u00f3sz\u00edn\u0171leg nem fognak m\u0171k\u00f6dni a <code>ROS 2</code>-vel, \u00e9s \u00e1tdolgoz\u00e1st ig\u00e9nyeln\u00e9nek, \u00e9s m\u00e1s szoftverek, amelyeket a <code>ROS 1</code>-gyel szokt\u00e1l haszn\u00e1lni, m\u00e1r nem fognak m\u0171k\u00f6dni.</li> <li>A <code>ROS 1</code> els\u0151sorban az Ubuntu sz\u00e1m\u00e1ra k\u00e9sz\u00fclt. A <code>ROS 2</code> fut MacOS, Windows, Ubuntu \u00e9s m\u00e1s (ak\u00e1r Real-Time) oper\u00e1ci\u00f3s rendszereken is.</li> </ul>"},{"location":"bevezetes/ros2/#verziok","title":"Verzi\u00f3k","text":"<p>ROS verzi\u00f3k \u00e9s telep\u00edt\u00e9s</p> <pre><code>\n\ngantt\n    dateFormat  YY-MM\n    title       ROS 2 Distros\n    excludes    weekends\n    tickInterval 365days\n    %% (`excludes` accepts specific dates in YYYY-MM-DD format, days of the week (\"sunday\") or \"weekends\", but not the word \"weekdays\".)\n    axisFormat %y\n\n    section ROS 2\n    Jazzy   :active, r012, 2024-05-23, 5y\n    .       :active, r011, 2021-01-01, 0d %% placeholder\n    Iron    :active, r010, 2023-11-01, 188d\n    .       :active, r011, 2021-01-01, 0d %% placeholder\n    Humble  :active, r009, 2022-05-23, 5y\n    .       :active, r011, 2021-01-01, 0d %% placeholder\n    Galactic:active, r008, 2021-05-23, 1y</code></pre> <p></p> <p>Distrok sz\u00e1zal\u00e9kos megoszl\u00e1sa az id\u0151ben: metrics.ros.org/rosdistro_rosdistro.html</p> <p></p> <p>A <code>Humble Hawksbill</code> vagy r\u00f6viden <code>Humble</code> egy long term support (LTS) release, 5 \u00e9vig t\u00e1mogatott (2022 m\u00e1jus\u00e1t\u00f3l 2027 m\u00e1jus\u00e1ig)</p> <p>Tov\u00e1bbi release-ek: docs.ros.org/en/humble/Releases.html</p> <p>Koncepci\u00f3k\u00b6"},{"location":"bevezetes/ros2/#nodes","title":"Nodes","text":"<p>A node legegyszer\u0171bben fogalmazva ROS programot (magyaros\u00edtva csom\u00f3pont) jelent. \u00c1br\u00e1n kerek \ud83d\udd34 jel\u00f6l\u00e9ssel felt\u00fcnteve. Jellemz\u0151ik:</p> <ul> <li>\"V\u00e9grehajthat\u00f3ak\" (c++ / py).</li> <li>Minden node egy folyamat</li> <li>ROS kezeli a sz\u00e1lakat (threading).</li> <li>Egy node belsej\u00e9ben t\u00f6bb sz\u00e1l is lehet.</li> <li>publish/subscribe topic-okra. </li> <li>T\u00f6bb node is \"k\u00f6zz\u00e9tehet\" egy topicra, \u00e9s egy node t\u00f6bb topicot is \"meghallgathat\".</li> </ul>"},{"location":"bevezetes/ros2/#topics","title":"Topics","text":"<p>A topic-ok felfoghat\u00f3ak egy neves\u00edtett \"portnak\", ahol a node-ok kommunk\u00e1lni tudnak. \u00c1br\u00e1n sz\u00f6gletes \ud83d\udfe6 jel\u00f6l\u00e9ssel felt\u00fcnteve. Jellemz\u0151ik:</p> <ul> <li>A node-ok k\u00f6z\u00f6tti inform\u00e1ci\u00f3 \u00e1raml\u00e1s\u00e9rt felel.</li> <li>Minden topic t\u00edpus\u00e1t az \"\u00fczenet\" hat\u00e1rozza meg</li> <li>A node-ok k\u00f6z\u00f6tt megengedett a \"many-to-many\" kommunik\u00e1ci\u00f3 </li> </ul>"},{"location":"bevezetes/ros2/#messages","title":"Messages","text":"<ul> <li>Egy topic tartalm\u00e1t \u00e9s szerkezet\u00e9t az \u00fczenet hat\u00e1rozza meg</li> <li>Alkalmaz\u00e1sprogramoz\u00e1si interf\u00e9sz (API) a Node-ok sz\u00e1m\u00e1ra .msg  kiterjeszt\u00e9s\u0171 f\u00e1jlokban vannak defini\u00e1lva</li> </ul>"},{"location":"bevezetes/ros2/#uzenetek-tipusai","title":"\u00dczenetek t\u00edpusai","text":"<ul> <li>Primitive built-in types (std_msgs)</li> <li><code>bool</code>, <code>string</code>, <code>float32</code>, <code>int32</code>, <code>\u2026</code></li> <li>Higher-level built in types:</li> <li><code>geometry_msgs</code>: <code>Point</code>, <code>Polygon</code>, <code>Vector</code>, <code>Pose</code>, <code>PoseWithCovariance</code>, <code>\u2026</code></li> <li><code>nav_msgs</code>: <code>OccupancyGrid</code>, <code>Odometry</code>, <code>Path</code>, <code>\u2026</code></li> <li><code>sensors_msgs</code>: <code>Joy</code>, <code>Imu</code>, <code>NavSatFix</code>, <code>PointCloud</code>, <code>LaserScan</code>, \u2026</li> <li>T\u00e1mogatottak tov\u00e1bb\u00e1:</li> <li>Konstansok</li> <li>Felsorol\u00e1sok</li> <li>Be\u00e1gyazott defin\u00edci\u00f3k</li> </ul> <p>P\u00e9lda:</p> <pre><code>$ ros2 interface show geometry_msgs/msg/Point\nfloat64 x\nfloat64 y\nfloat64 z\n</code></pre> <pre><code>$ ros2 interface show std_msgs/msg/Header\nuint32 seq\ntime stamp\nstring frame_id\n</code></pre> <p>A <code>Header</code> \u00e9s a<code>Point</code> a t\u00edpusb\u00f3l \u00e9p\u00fcl fel a <code>PoseStamped</code> t\u00edpus strukt\u00far\u00e1ja:</p> <p><pre><code>$ ros2 interface show geometry_msgs/msg/PoseStamped\nstd_msgs/Header header\n  uint32 seq\n  time stamp\n  string frame_id\ngeometry_msgs/Pose pose\n  geometry_msgs/Point position # (1) \n    float64 x\n    float64 y\n    float64 z\n  geometry_msgs/Quaternion orientation # (2)\n    float64 x\n    float64 y\n    float64 z\n    float64 w\n</code></pre></p> <ol> <li> Ez m\u00e1r ismer\u0151s lehet: a <code>geometry_msgs/msg/Point</code>-r\u0151l m\u00e1r besz\u00e9lt\u00fcnk.</li> <li> <code>geometry_msgs/Quaternion</code> egyfajta 3D orient\u00e1ci\u00f3 reprezent\u00e1ci\u00f3, err\u0151l k\u00e9s\u0151bb r\u00e9szletesen.</li> </ol>"},{"location":"bevezetes/ros2/#publishing-subscribing","title":"Publishing / Subscribing","text":"<p>A k\u00f6vetkez\u0151kben az <code>urban_road_filt</code> nev\u0171 node a <code>points</code> adatokra iratkozik fel, ami <code>PointCloud2</code> t\u00edpus\u00fa, \u00e9s hirdet <code>PointCloud2</code>, <code>MarkerArray</code> t\u00edpus\u00fa \u00fczeneteket:</p> <pre><code>flowchart LR\n\nP[points]:::light --&gt;|sensor_msgs/PointCloud2| U([urban_road_filt]):::red\nU --&gt; |sensor_msgs/PointCloud2| A[curb]:::light\nU --&gt; |sensor_msgs/PointCloud2| B[road]:::light \nU --&gt; |sensor_msgs/PointCloud2| C[road_probably]:::light\nU --&gt; |sensor_msgs/PointCloud2| D[roi]:::light\nU --&gt; |visualization_msgs/MarkerArray| E[road_marker]:::light\n\nn1([ /node]):::white -- publishes&lt;/br&gt;topic_type --&gt; t[ /topic]:::white\nt -- subscribes&lt;/br&gt;topic_type --&gt; n2([ /node]):::white\n\nclassDef light fill:#34aec5,stroke:#152742,stroke-width:2px,color:#152742  \nclassDef dark fill:#152742,stroke:#34aec5,stroke-width:2px,color:#34aec5\nclassDef white fill:#ffffff,stroke:#152742,stroke-width:2px,color:#152742\nclassDef red fill:#ef4638,stroke:#152742,stroke-width:2px,color:#fff\n</code></pre>"},{"location":"bevezetes/ros2/#parameters","title":"Parameters","text":"<ul> <li>Publish/Subscribe seg\u00edts\u00e9g\u00e9vel nem \u00edrhat\u00f3 le minden</li> <li>A Node-oknak n\u00e9ha sz\u00fcks\u00e9g\u00fck lehet param\u00e9terez\u00e9sre</li> <li>Param\u00e9terek lehetnek:</li> <li>Vez\u00e9rl\u0151 t\u00edpusa</li> <li>Sz\u00edn k\u00fcsz\u00f6b\u00e9rt\u00e9kek; </li> <li>Kamera felbont\u00e1s, stb</li> </ul>"},{"location":"bevezetes/ros2/#launch-fajlok","title":"Launch f\u00e1jlok","text":"<p>T\u00f6bb node (ROS program) k\u00f6tegelt v\u00e9gehajt\u00e1sa. Megtartva az <code>ROS 1</code>konvenci\u00f3kat lehet XML form\u00e1tum\u00fa f\u00e1jl, amely az ROS szinte minden aspektus\u00e1t / m\u0171velet\u00e9t meghat\u00e1rozhatja. \u00dajabban viszont ezek <code>python</code> f\u00e1jlok is lehetnek, \u00edgy sokkkal nagyobb szabads\u00e1gunk van. Node ind\u00edt\u00e1s, param\u00e9terek be\u00e1ll\u00edt\u00e1sa / bet\u00f6lt\u00e9se, topic lek\u00e9pez\u00e9se, parancssori argumentumok \u00e1tad\u00e1sa.</p> <p>Err\u0151l egy r\u00f6vid vide\u00f3:</p>"},{"location":"bevezetes/ros2/#forrasok","title":"Forr\u00e1sok","text":"<ul> <li>docs.ros.org/en/humble</li> <li>ros.org/blog/ecosystem</li> <li>husarnet.com/blog/ros2-docker</li> <li>design.ros2.org/articles/intraprocess_communications.html</li> <li>Towards Using ROS in the RoboCup Humanoid Soccer League - Masterthesis</li> </ul>"},{"location":"bevezetes/ros2gyak/","title":"<code>ROS 2</code> bevezet\u00e9s \u00e9s gyakorlat","text":""},{"location":"bevezetes/ros2gyak/#emlekezteto","title":"Eml\u00e9keztet\u0151","text":"<p>P\u00e1r alapfogalom az el\u0151z\u0151 alkalomr\u00f3l: </p> <ul> <li>Node: Gyakorlatilag ROS programot jelent. (pl. <code>turtlesim_node</code>, <code>cmd_gen_node</code>, <code>foxglove_bridge</code>)</li> <li>Topic (topik): Nevekkel ell\u00e1tott kommunik\u00e1ci\u00f3s csatorna. (pl. <code>/turtle1/cmd_vel</code>, <code>/turtle1/pose</code>, <code>/raw_cmd</code>)</li> <li>Message (\u00fczenet): (pl. <code>std_msgs/msg/Bool</code>, <code>geometry_msgs/msg/Twist</code>, <code>turtlesim/msg/Pose</code>)</li> <li>Package (csomag): ROS programok (node-ok) gy\u0171jtem\u00e9nye (pl. <code>turtlesim</code>, <code>arj_intro_cpp</code>, <code>arj_transforms_cpp</code>)</li> <li>Launch f\u00e1jlok: T\u00f6bb node param\u00e9terezett elind\u00edt\u00e1s\u00e1ra alkalmas (pl. <code>multisim.launch.py</code>, <code>foxglove_bridge.launch.xml</code>, <code>foxglove_bridge.launch.py</code>)</li> <li>Publish / subscribe: \u00dczenetekre t\u00f6rt\u00e9n\u0151 publik\u00e1l\u00e1s \u00e9s feliratkoz\u00e1s. </li> <li>Build: A package forr\u00e1sk\u00f3dj\u00e1b\u00f3l futtathat\u00f3 \u00e1llom\u00e1nyok k\u00e9sz\u00edt\u00e9s\u00e9nek folyamata. ROS2-ben a <code>colcon</code> az alap\u00e9rtelmezett build eszk\u00f6z. </li> </ul>"},{"location":"bevezetes/ros2gyak/#1-feladat-node-es-publish","title":"<code>1.</code> feladat - Node \u00e9s publish","text":"<p>Nyissunk k\u00e9t termin\u00e1lt. Az els\u0151 termin\u00e1lb\u00f3l ind\u00edtsuk a be\u00e9p\u00edtett <code>turtlesim_node</code> szimul\u00e1tort, ami a <code>turtlesim</code> package-ben tal\u00e1lhat\u00f3.</p> <pre><code>ros2 run turtlesim turtlesim_node\n</code></pre> <p>Megjegyz\u00e9s: ha esetleg valami\u00e9rt hi\u00e1nyozna, telep\u00edthet\u0151 a <code>sudo apt install ros-humble-turtlesim</code> paranccsal.</p> <p>A m\u00e1sodik ablakb\u00f3l publik\u00e1ljunk egy parancsot, melynek hat\u00e1s\u00e1ra k\u00f6rbe fordul:</p> <pre><code>ros2 topic pub /turtle1/cmd_vel geometry_msgs/msg/Twist '{linear: {x: 0.5, y: 0.0, z: 0.0}, angular: {x: 0.0, y: 0.0, z: 1.2}}'\n</code></pre> Turtlesim anim\u00e1ci\u00f3 <p>A h\u00e1tt\u00e9rben a <code>turtlesim_node</code> node (kerek jel\u00f6l\u00e9s) feliratkozik a <code>/turtle1/cmd_vel</code> topicra (sz\u00f6gletes jel\u00f6l\u00e9s), ennek hat\u00e1s\u00e1ra indul a mozg\u00e1s. </p> <pre><code>flowchart LR\n\nC[ /turtle1/cmd_vel]:::light --&gt;|geometry_msgs/msg/Twist| S([turtlesim_node]):::red\n\nclassDef light fill:#34aec5,stroke:#152742,stroke-width:2px,color:#152742  \nclassDef dark fill:#152742,stroke:#34aec5,stroke-width:2px,color:#34aec5\nclassDef white fill:#ffffff,stroke:#152742,stroke-width:2px,color:#152742\nclassDef red fill:#ef4638,stroke:#152742,stroke-width:2px,color:#fff\n</code></pre> <p>Ahogy a flowcharton is l\u00e1tszik, a <code>/turtle1/cmd_vel</code> t\u00edpusa <code>geometry_msgs/msg/Twist</code>. Ezt a k\u00f6vetkez\u0151 parancsb\u00f3l tudhatjuk meg:</p> <pre><code>ros2 topic type /turtle1/cmd_vel\n</code></pre> <p>A <code>geometry_msgs/msg/Twist</code> a \u00fczenet strut\u00far\u00e1j\u00e1t pedig ez a parancs adja:</p> <pre><code>ros2 interface show geometry_msgs/msg/Twist\n</code></pre> <p><pre><code>Vector3  linear\n        float64 x\n        float64 y\n        float64 z\nVector3  angular\n        float64 x\n        float64 y\n        float64 z\n</code></pre> Az \u00f6sszes topic-ot \u00edgy lehet list\u00e1zni:</p> <pre><code>ros2 topic list\n</code></pre> <p>Az adott topic tartalm\u00e1t, k\u00fcl\u00f6nb\u00f6z\u0151 form\u00e1tumban, sz\u0171r\u00e9sekkel a k\u00f6vetkez\u0151k\u00e9pp lehet ki\u00edratni vagy f\u00e1jlba iratni:</p> <pre><code>ros2 topic echo /turtle1/pose\nros2 topic echo /turtle1/pose --csv\nros2 topic echo /turtle1/pose --csv &gt; turtle_data_01.csv\nros2 topic echo /turtle1/pose --once\nros2 topic echo /turtle1/pose --once | grep velocity\nros2 topic echo /turtle1/pose --field x\nros2 topic echo /turtle1/pose --field linear_velocity\nros2 topic echo /turtle1/cmd_vel --field linear.x\n</code></pre> <p>P\u00e9lda kimenet: <pre><code>x: 6.2\ny: 4.0\ntheta: 0.0\nlinear_velocity: 0.0\nangular_velocity: 0.0\n</code></pre></p> <p>Tip</p> <p>A <code>ros2 topic echo --help</code> parancsot kiadva tov\u00e1bbi haszn\u00e1latra vonatkoz\u00f3 le\u00edr\u00e1st kapunk. A <code>--help</code> kapcsol\u00f3 term\u00e9szetesen a t\u00f6bbi <code>ros2</code> parancsn\u00e1l is haszn\u00e1lhat\u00f3.</p>"},{"location":"bevezetes/ros2gyak/#workspace-es-build-tudnivalok","title":"Workspace \u00e9s build tudnival\u00f3k","text":"<p>Els\u0151 l\u00e9p\u00e9sk\u00e9nt az <code>ls ~ | grep ros2</code> parancs seg\u00edts\u00e9g\u00e9vel ellen\u0151rizz\u00fck, hogy l\u00e9tezik-e a workspace a home directoryban(<code>~</code>). A tant\u00e1rgyban a workspace-t <code>ros2_ws</code>-nek nevezz\u00fck. A n\u00e9v igaz\u00e1b\u00f3l nem sz\u00e1m\u00edt, de a legt\u00f6bb tutorial is ezt a nevet haszn\u00e1lja, \u00edgy mi is k\u00f6vetj\u00fck ezt a hagyom\u00e1nyt. T\u00f6bb workspace is haszn\u00e1lhat\u00f3 egyidej\u00fcleg, k\u00fcl\u00f6n source-olhat\u00f3, nagyobb rendszerekn\u00e9l ez k\u00e9nyelmes megold\u00e1s lehet. Mi egyel\u0151re maradunk az egytelen <code>ros2_ws</code>-n\u00e9l. Ha nem l\u00e9tezne a <code>mkdir -p ros2_ws/src</code> parancs seg\u00edts\u00e9g\u00e9vel k\u00e9sz\u00edthetj\u00fck el a workspace \u00e9s a source mapp\u00e1kat.</p>"},{"location":"bevezetes/ros2gyak/#colcon","title":"Colcon","text":"<p>A legfontosabb parancs tal\u00e1n a <code>colcon build</code>. Eml\u00edt\u00e9sre m\u00e9lt\u00f3 m\u00e9g a <code>colcon list</code> \u00e9s a <code>colcon graph</code>. El\u0151bbi list\u00e1zza az el\u00e9rhet\u0151 packageket, ut\u00f3bbi pedig a f\u00fcgg\u0151s\u00e9gekr\u0151l ad gyors n\u00e9zetet.</p> <p>A <code>colcon build</code> sz\u00e1mos hasznos kapcsol\u00f3val \u00e9rkezik:</p> <ul> <li><code>--packages-select</code>: Tal\u00e1n az egyik leggyakrabban haszn\u00e1lt kapcsol\u00f3, ut\u00e1na meggadhatunk t\u00f6bb package-t, amit buildelni szeretn\u00e9nk. Ha nincs megadva, akkor az alap\u00e9rtelmezett, hogy a teljes workspace-t buildeli. A gyakorlatban lesz is egy <code>colcon build --packages-select arj_intro_cpp arj_transforms_cpp</code> parancs, ez a k\u00e9t arj package-t buildeli.</li> <li><code>--symlink-install</code>: A f\u00e1jlok forr\u00e1sb\u00f3l val\u00f3 m\u00e1sol\u00e1sa helyett haszn\u00e1ljon szimbolikus hivatkoz\u00e1sokat. \u00cdgy elker\u00fclhet\u0151, hogy pl. minden egyes launch f\u00e1jl m\u00f3dos\u00edt\u00e1s eset\u00e9n \u00fajra kelljen buildelni a package-t.</li> <li><code>--parallel-workers 2</code>: A p\u00e1rhuzamosan feldolgozhat\u00f3 feladatok maxim\u00e1lis sz\u00e1ma, ebben az esetben <code>2</code>. Ha nincs megadva, akkor az alap\u00e9rtelmezett \u00e9rt\u00e9k a logikai CPU magok sz\u00e1ma. Akkor \u00e9rdemes korl\u00e1tozni, ha a build nem fut v\u00e9gig er\u0151forr\u00e1s hi\u00e1ny miatt. </li> <li><code>--continue-on-error</code>: Nagyobb build eset\u00e9n, ne \u00e1lljon meg az els\u0151 hib\u00e1s package ut\u00e1n. \u00cdgy ha 100 packageb\u0151l 1 nem m\u0171k\u00f6dne, akkor is 99 buildel\u0151dik. Ha ez nincs megadva, akkor 0 \u00e9s 99 k\u00f6z\u00f6tti package buildel\u0151dik, a f\u00fcgg\u0151s\u00e9gek \u00e9s egy\u00e9b sorrendis\u00e9gek alapj\u00e1n. </li> </ul>"},{"location":"bevezetes/ros2gyak/#source","title":"Source","text":"<p>Ahhoz hogy az ROS2 futtathat\u00f3 f\u00e1jlainkat val\u00f3ban el tudjuk ind\u00edtani, be kell \u00e1ll\u00edani a be a k\u00f6rnyezetet (\u00fagynevezett source-ol\u00e1s), teh\u00e1t meg kell adni a bash sz\u00e1m\u00e1ra, hogy hol keresse az adott futtathat\u00f3 f\u00e1jlokat, azoknak milyen f\u00fcgg\u0151s\u00e9gei vannak stb. Ez egyszer\u0171bb, mint hangzik, csak egy <code>source &lt;\u00fatvonal&gt;/&lt;n\u00e9v&gt;.bash</code> parancsot kell kiadni. Kor\u00e1bban \u00edrtuk, hogy a worksapce neve nem sz\u00e1m\u00edt, \u00e9s val\u00f3ban, a source megad\u00e1sa ut\u00e1n mindegy, hogy fizikailag hol tal\u00e1lhat\u00f3 a futtathat\u00f3 \u00e1llom\u00e1ny, k\u00e9nyelmesen elind\u00edthat\u00f3 egy paranccsal b\u00e1rmelyik mapp\u00e1b\u00f3l.  Mivel a packagek k\u00fcl\u00f6nb\u00f6z\u0151 workspace-eken bel\u00fcl egym\u00e1sra is \u00e9p\u00fclhetnek, az ROS2 bevezette az overlay / underlay elvet. Ez azt jelenti, hogy egyik workspace buildel\u00e9sekor egy m\u00e1sik workspace m\u00e1r be volt source-olva, annak valamely package-e f\u00fcgg a az el\u0151z\u0151leg lebuildelt package-t\u0151l. Teh\u00e1t annak funkcionalit\u00e1sa, k\u00f3dja sz\u00fcks\u00e9ges a r\u00e1\u00e9p\u00fcl\u0151 package-nek. Ennek megfele\u0151en a source-ol\u00e1s is k\u00e9tf\u00e9le lehet: - A <code>local_setup.bash</code> script csak a jelenlegi workspace-ben \u00e1ll\u00edtja be a k\u00f6rnyezetet (source-ol). Teh\u00e1t nem source-ol sz\u00fcl\u0151 (f\u00fcgg\u0151) workspace-t. - A <code>setup.bash</code> szkript viszont a <code>local_setup.bash</code> parancsf\u00e1jlt adja az \u00f6sszes olyan workspace-hez, amely a munkater\u00fclet l\u00e9trehoz\u00e1sakor f\u00fcgg\u0151s\u00e9g volt. </p> <p>Note</p> <p>A tant\u00e1rgyban nem kell ilyen \u00f6sszetett rendszereket haszn\u00e1lni, legt\u00f6bbsz\u00f6r egy <code>ros2_ws</code> is el\u00e9g.</p>"},{"location":"bevezetes/ros2gyak/#2-feladat-package-build-es-hasznalat","title":"<code>2.</code> feladat - Package build \u00e9s haszn\u00e1lat","text":"Eml\u00e9keztet\u0151\u00fcl a mapparendszer. <pre><code>~/ros2_ws/\n\u251c\u2500\u2500build  \n\u251c\u2500\u2500install  \n\u251c\u2500\u2500log\n\u2514\u2500\u2500src/\n    \u251c\u2500\u2500 bundle_packages \n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 cone_detection_lidar\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 launch\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 src\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 my_vehicle_bringup\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 launch\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 other bundle package1\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 other bundle package2\n    \u2502\u00a0\u00a0 \u2514\u2500\u2500 img\n    \u2514\u2500\u2500 wayp_plan_tools\n        \u251c\u2500\u2500 csv\n        \u251c\u2500\u2500 launch\n        \u2514\u2500\u2500 src\n</code></pre> <p>docs.ros.org/en/humble/Tutorials/Beginner-Client-Libraries/Creating-A-Workspace/Creating-A-Workspace.html</p> <p>Nyissunk n\u00e9gy termin\u00e1lt. Az els\u0151 termin\u00e1lb\u00f3l most is ind\u00edtsuk a be\u00e9p\u00edtett <code>turtlesim_node</code> szimul\u00e1tort, ami a <code>turtlesim</code> package-ben tal\u00e1lhat\u00f3.</p> <pre><code>ros2 run turtlesim turtlesim_node\n</code></pre> <p>Success</p> <p>A m\u00e1sodik termin\u00e1lban ellen\u0151rizz\u00fck a <code>ros2_ws/src</code> tartalm\u00e1t, \u00e9s ha sz\u00fcks\u00e9ges kl\u00f3nozzuk, majd buildelj\u00fck a p\u00e9lda package-t.</p> <p><pre><code>ls ~/ros2_ws/src | grep arj_\n</code></pre> vagy </p> <pre><code>cd ~ &amp;&amp; test -d \"ros2_ws/src/arj_packages\" &amp;&amp; echo Letezik || echo Nem letezik\n</code></pre> <ul> <li><code>A. opci\u00f3:</code> Ha nincs package (az el\u0151z\u0151 <code>ls</code> nem ad vissza tal\u00e1latot), akkor <code>git clone</code> \u00e9s <code>colcon</code> build.</li> <li><code>B. opci\u00f3:</code> Ha van package, de nem a legfrissebb, akkor <code>git pull</code> \u00e9s <code>colcon</code> build.</li> <li><code>C. opci\u00f3:</code> Ha van package \u00e9s friss is, akkor nincs k\u00fcl\u00f6n teend\u0151nk.</li> </ul> <p><code>A. opci\u00f3:</code> <pre><code>cd ~/ros2_ws/src\n</code></pre> <pre><code>git clone https://github.com/sze-info/arj_packages\n</code></pre> <pre><code>cd ~/ros2_ws\n</code></pre> <pre><code>colcon build --packages-select arj_intro_cpp\n</code></pre></p> <p><code>B. opci\u00f3:</code> <pre><code>cd ~/ros2_ws/src/arj_packages\n</code></pre> <pre><code>git checkout -- .\n</code></pre> <pre><code>git pull\n</code></pre> <pre><code>cd ~/ros2_ws\n</code></pre></p> <pre><code>colcon build --packages-select arj_intro_cpp\n</code></pre> <p>A <code>git checkout -- .</code> az \u00f6sszes esetleges lok\u00e1lis v\u00e1ltoz\u00e1s visszavon\u00e1s\u00e1ra j\u00f3.</p> <p>A harmadik termin\u00e1lban futtassuk a <code>cmd_gen_node</code> ROS node-ot.</p> <p>El\u0151sz\u00f6r <code>source</code>-olnunk kell, ha saj\u00e1t package-ket haszn\u00e1lunk:</p> <pre><code>source ~/ros2_ws/install/setup.bash\n</code></pre> <p>Ezut\u00e1n m\u00e1r futtathat\u00f3 a node:</p> <pre><code>ros2 run arj_intro_cpp cmd_gen_node\n</code></pre> <p>A k\u00f6vetkez\u0151k\u00e9pp mozog most a tekn\u0151s:</p> Turtle <p>Forr\u00e1sk\u00f3dja el\u00e9rhet\u0151 a github.com/sze-info/arj_packages repon.A l\u00e9nyeg, hogy a <code>loop</code> f\u00fcggv\u00e9ny 5 Hz (200 ms) frekvenci\u00e1n fut le, \u00e9s </p> <pre><code>void loop()\n{\n  // Publish transforms\n  auto cmd_msg = geometry_msgs::msg::Twist();\n  if (loop_count_ &lt; 20)\n  {\n    cmd_msg.linear.x = 1.0;\n    cmd_msg.angular.z = 0.0;\n  }\n  else\n  {\n    cmd_msg.linear.x = -1.0;\n    cmd_msg.angular.z = 1.0;\n  }\n  cmd_pub_-&gt;publish(cmd_msg);\n  loop_count_++;\n  if (loop_count_ &gt; 40)\n  {\n    loop_count_ = 0;\n  }\n}\n</code></pre> <p>Python megfelel\u0151je</p> <p>A C++ k\u00f3d python verzi\u00f3ja szint\u00e9n el\u00e9rhet\u0151 a github.com/sze-info/arj_packages c\u00edmen. \u00c9rdemes \u00f6sszehasonl\u00edtani a C++ \u00e9s a python k\u00f3dokat.</p> <p>N\u00e9zz\u00fck meg az utols\u00f3 termin\u00e1lban a Foxglove seg\u00edts\u00e9g\u00e9vel az \u00e9l\u0151 adatokat (itt se felejts\u00fck a <code>source</code>-t):</p> <pre><code>ros2 launch arj_intro_cpp foxglove_bridge.launch.py\n</code></pre> <p>Vizsg\u00e1ljuk meg Foxglove Studio-val is WebSocketen kereszt\u00fcl (Open connection <code>ws://localhost:8765</code>):</p> <p></p> <p>Megjegyz\u00e9s: g\u00e9pteremben fel van t\u00e9ve a <code>foxglove_bridge</code>, otthon <code>sudo apt install ros-humble-foxglove-bridge</code> paranccsal (el\u0151tte update) telep\u00edthet\u0151.</p> <p><pre><code>flowchart LR\n\nC[ /turtle1/cmd_vel]:::light --&gt; S([turtlesim_node]):::red\nC[ /turtle1/cmd_vel] --&gt; F([foxglove_bridge]):::red\nG([cmd_gen_node]):::red--&gt; C\n\nclassDef light fill:#34aec5,stroke:#152742,stroke-width:2px,color:#152742  \nclassDef dark fill:#152742,stroke:#34aec5,stroke-width:2px,color:#34aec5\nclassDef white fill:#ffffff,stroke:#152742,stroke-width:2px,color:#152742\nclassDef red fill:#ef4638,stroke:#152742,stroke-width:2px,color:#fff\n</code></pre> Mindeh\u00e1rom node-ot egyben a k\u00f6vetkez\u0151k\u00e9pp ind\u00edthatjuk:</p> <pre><code>ros2 launch arj_intro_cpp turtle.launch.py\n</code></pre> <p>Vizsg\u00e1ljuk meg a package tartalm\u00e1t r\u00f6viden a <code>code ~/ros2_ws/src/arj_packages/arj_intro_cpp</code> parancs ut\u00e1n.</p>"},{"location":"bevezetes/ros2gyak/#3-feladat-sajat-package-keszitese","title":"<code>3.</code> feladat - Saj\u00e1t package k\u00e9sz\u00edt\u00e9se","text":"<p>A feladat a hivatalos ROS2 dokument\u00e1ci\u00f3n alapul: docs.ros.org/en/humble/Tutorials/Beginner-Client-Libraries/Creating-Your-First-ROS2-Package.html. K\u00e9sz\u00edts\u00fck el a <code>my_package</code> nev\u0171 ROS 2 package-t.</p> <p>Python megfelel\u0151je</p> <p>Jelenleg C++ package-t k\u00e9sz\u00edt\u00fcnk, de az eredeti tutorial is taralmazza a CMake(c++) package Python megfelel\u0151it.</p> <p>Els\u0151 l\u00e9p\u00e9s, hogy a a workspace <code>src</code> mapp\u00e1j\u00e1ba l\u00e9pj\u00fcnk:</p> <pre><code>cd ~/ros2_ws/src\n</code></pre> <p>K\u00e9sz\u00edts\u00fcnk egy <code>my_package</code> nev\u0171 package-t \u00e9s egy <code>my_node</code> nev\u0171 node-ot.</p> <pre><code>ros2 pkg create --build-type ament_cmake --node-name my_node my_package\n</code></pre> <p>Buildelj\u00fck a szok\u00e1sos m\u00f3don:</p> <p><pre><code>cd ~/ros2_ws\n</code></pre> <pre><code>colcon build --packages-select my_package\n</code></pre></p> <p>Majd source:</p> <pre><code>source ~/ros2_ws/install/setup.bash\n</code></pre> <p>\u00c9s m\u00e1r futtathat\u00f3 is:</p> <p><pre><code>ros2 run my_package my_node\n</code></pre> <pre><code># output:\n\nhello world my_package package\n</code></pre></p> <p>Vizsg\u00e1ljuk meg a <code>my_package</code> tartalm\u00e1t!</p> <p><pre><code>ls -R ~/ros2_ws/src/my_package\n</code></pre> <pre><code># output:\n/home/he/ros2_ws/src/my_package:\n  CMakeLists.txt  include  package.xml  src\n/home/he/ros2_ws/src/my_package/include:\n  my_package\n/home/he/ros2_ws/src/my_package/include/my_package:\n  [empty]\n/home/he/ros2_ws/src/my_package/src:\n  my_node.cpp\n</code></pre></p> <p><pre><code>tree ~/ros2_ws/src/my_package\n</code></pre> <pre><code># output:\nmy_package\n\u251c\u2500\u2500 CMakeLists.txt\n\u251c\u2500\u2500 include\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 my_package\n\u251c\u2500\u2500 package.xml\n\u2514\u2500\u2500 src\n    \u2514\u2500\u2500 my_node.cpp\n</code></pre></p> <p><pre><code>cat ~/ros2_ws/src/my_package/src/my_node.cpp\n</code></pre> <pre><code>#include &lt;cstdio&gt;\n\nint main(int argc, char ** argv)\n{\n  (void) argc;\n  (void) argv;\n\n  printf(\"hello world my_package package\\n\");\n  return 0;\n}\n</code></pre> \u00c9rdemes megfigyelni, hogy a cpp f\u00e1jl m\u00e9g semmilyen <code>ros2</code> headert nem haszn\u00e1l.</p> <p>Futtat\u00e1sa: </p> <p><pre><code>source ~/ros2_ws/install/setup.bash\n</code></pre> <pre><code>ros2 run my_package my_node\n</code></pre></p> <p>Alternat\u00edvak\u00e9nt VS code-b\u00f3l is megnyinthatjuk a teljes mapp\u00e1t. <pre><code>code ~/ros2_ws/src/my_package\n</code></pre></p> <p>Tip</p> <p>A <code>code</code> parancs ut\u00e1n f\u00e1jlt megadva a f\u00e1jl niyt\u00f3dik meg, m\u00edg mapp\u00e1t (k\u00f6nyvt\u00e1rat) megadva az adott mappa tartalma ny\u00edlik meg. Gyakran forul el\u0151, hogy p\u00e9ld\u00e1ul egy adott package-ben vagyunk \u00e9s szeretn\u00e9nk az aktu\u00e1lis mapp\u00e1t megnyitni. Ezt megtehetj\u00fck a <code>code .</code> paranccsal, amikoris az aktu\u00e1lis mappa nyit\u00f3dik meg, hiszen a <code>.</code> karakter az aktu\u00e1lis mapp\u00e1t jelenti linuxban. </p>"},{"location":"bevezetes/ros2gyak/#4-feladat-c-publisher-subscriber","title":"<code>4.</code> feladat - C++ publisher / subscriber","text":"<p>A gyakorlat a hivatalos ROS 2 tutorialokon alapszik: docs.ros.org/en/humble/Tutorials/Beginner-Client-Libraries/Writing-A-Simple-Cpp-Publisher-And-Subscriber.html</p> <ul> <li>C++ publisher</li> <li>C++ subscriber</li> </ul>"},{"location":"bevezetes/ros2gyak/#hozzuk-letre-a-cpp_pubsub-package-t","title":"Hozzuk l\u00e9tre a <code>cpp_pubsub</code> package-t","text":"<p>Nyissunk egy \u00faj termin\u00e1lt, \u00e9s source-oljunk a telep\u00edt\u00e9st, hogy a <code>ros2</code> parancsok m\u0171k\u00f6djenek.</p> <p>Navig\u00e1ljunk az m\u00e1r l\u00e9trehozott <code>ros2_ws</code> k\u00f6nyvt\u00e1rba.</p> <p>Fontos, hogy a csomagokat az <code>src' k\u00f6nyvt\u00e1rban kell l\u00e9trehozni, nem a munkater\u00fclet gy\u00f6ker\u00e9ben. Teh\u00e1t navig\u00e1ljunk a</code>ros2_ws/src` f\u00e1jlba, \u00e9s futtassuk a package l\u00e9trehoz\u00f3 parancsot:</p> <pre><code>ros2 pkg create --build-type ament_cmake cpp_pubsub\n</code></pre> <p>A termin\u00e1l egy \u00fczenetet k\u00fcld vissza, amely meger\u0151s\u00edti a <code>cpp_pubsub</code> csomag \u00e9s az \u00f6sszes sz\u00fcks\u00e9ges f\u00e1jl \u00e9s mappa l\u00e9trehoz\u00e1s\u00e1t.</p>"},{"location":"bevezetes/ros2gyak/#irjuk-meg-a-publisher-node-ot","title":"\u00cdrjuk meg a publisher node-ot","text":"<p>L\u00e9pj\u00fcnk a <code>ros2_ws/src/cpp_pubsub/src</code> mapp\u00e1ba. Ez az a k\u00f6nyvt\u00e1r minden CMake package-ben, ahov\u00e1 a forr\u00e1sf\u00e1jlok tartoznak (pl <code>.cpp</code> kiterjeszt\u00e9ssel).</p> <p>T\u00f6lts\u00fck le a p\u00e9lda talker k\u00f3dj\u00e1t:</p> <pre><code>wget -O publisher_member_function.cpp https://raw.githubusercontent.com/ros2/examples/humble/rclcpp/topics/minimal_publisher/member_function.cpp\n</code></pre> <p>Ez a parancs l\u00e9trehozza a  <code>publisher_member_function.cpp</code> f\u00e1jlt. Nyissuk meg pl VS code seg\u00edts\u00e9g\u00e9vel a mapp\u00e1t (<code>code .</code>)</p> <pre><code>#include &lt;chrono&gt;\n#include &lt;functional&gt;\n#include &lt;memory&gt;\n#include &lt;string&gt;\n\n#include \"rclcpp/rclcpp.hpp\"\n#include \"std_msgs/msg/string.hpp\"\n\nusing namespace std::chrono_literals;\n\n/* This example creates a subclass of Node and uses std::bind() to register a\n* member function as a callback from the timer. */\n\nclass MinimalPublisher : public rclcpp::Node\n{\n    public:\n    MinimalPublisher()\n    : Node(\"minimal_publisher\"), count_(0)\n    {\n        publisher_ = this-&gt;create_publisher&lt;std_msgs::msg::String&gt;(\"topic\", 10);\n        timer_ = this-&gt;create_wall_timer(\n        500ms, std::bind(&amp;MinimalPublisher::timer_callback, this));\n    }\n\n    private:\n    void timer_callback()\n    {\n        auto message = std_msgs::msg::String();\n        message.data = \"Hello, world! \" + std::to_string(count_++);\n        RCLCPP_INFO(this-&gt;get_logger(), \"Publishing: '%s'\", message.data.c_str());\n        publisher_-&gt;publish(message);\n    }\n    rclcpp::TimerBase::SharedPtr timer_;\n    rclcpp::Publisher&lt;std_msgs::msg::String&gt;::SharedPtr publisher_;\n    size_t count_;\n};\n\nint main(int argc, char * argv[])\n{\n    rclcpp::init(argc, argv);\n    rclcpp::spin(std::make_shared&lt;MinimalPublisher&gt;());\n    rclcpp::shutdown();\n    return 0;\n}\n</code></pre>"},{"location":"bevezetes/ros2gyak/#fuggosegek-hozzaadasa","title":"F\u00fcgg\u0151s\u00e9gek hozz\u00e1ad\u00e1sa","text":"<p>L\u00e9pj\u00fcnk vissza egy szinttel a <code>ros2_ws/src/cpp_pubsub</code> k\u00f6nyvt\u00e1rba, ahol a <code>CMakeLists.txt</code> \u00e9s a <code>package.xml</code> f\u00e1jlok m\u00e1r l\u00e9trej\u00f6ttek.</p> <p>Nyissuk meg a <code>package.xml</code> f\u00e1jlt a sz\u00f6vegszerkeszt\u0151vel (pl. <code>vs code</code>). Tipp: a teljes k\u00f6nyvt\u00e1rat is meg lehet, nyitni, ami k\u00e9s\u0151bb p\u00e1r dolgot egyszer\u0171s\u00edt:</p> <pre><code>code ~/ros2_ws/src/cpp_pubsub/\n</code></pre> <p>Mindig \u00e9rdemes kit\u00f6lteni a <code>&lt;description&gt;</code>, <code>&lt;maintainer&gt;</code> \u00e9s <code>&lt;license&gt;</code> tag-eket:</p> <pre><code>&lt;description&gt;Examples of minimal publisher/subscriber using rclcpp&lt;/description&gt;\n&lt;maintainer email=\"you@email.com\"&gt;Your Name&lt;/maintainer&gt;\n&lt;license&gt;Apache License 2.0&lt;/license&gt;\n</code></pre> <p>Adjunk hozz\u00e1 egy \u00faj sort az <code>ament_cmake</code> buildtool f\u00fcgg\u0151s\u00e9ge ut\u00e1n, \u00e9s illessze be a k\u00f6vetkez\u0151 f\u00fcgg\u0151s\u00e9geket a node include utas\u00edt\u00e1sainak megfelel\u0151en:</p> <pre><code>&lt;depend&gt;rclcpp&lt;/depend&gt;\n&lt;depend&gt;std_msgs&lt;/depend&gt;\n</code></pre> <p>Ez deklar\u00e1lja, hogy a pacakge-nek sz\u00fcks\u00e9ges az <code>rclcpp</code> \u00e9s a <code>std_msgs</code> ford\u00edt\u00e1skor \u00e9s futtat\u00e1skor.</p>"},{"location":"bevezetes/ros2gyak/#cmakeliststxt","title":"CMakeLists.txt","text":"<p>Most nyissuk meg a <code>CMakeLists.txt</code> f\u00e1jlt. A megl\u00e9v\u0151 <code>find_package(ament_cmake REQUIRED)</code> f\u00fcgg\u0151s\u00e9g al\u00e1 adjuk hozz\u00e1 a k\u00f6vetkez\u0151 sorokat:</p> <pre><code>find_package(rclcpp REQUIRED)\nfind_package(std_msgs REQUIRED)\n</code></pre> <p>Ezut\u00e1n adjuk hozz\u00e1 a v\u00e9grehajthat\u00f3 f\u00e1jlt, \u00e9s nevezz\u00fck el <code>talker</code>-nak, hogy a <code>ros2 run</code> haszn\u00e1lat\u00e1val futtassa a node-ot:</p> <pre><code>add_executable(talker src/publisher_member_function.cpp)\nament_target_dependencies(talker rclcpp std_msgs)\n</code></pre> <p>V\u00e9g\u00fcl az <code>install(TARGETS...)</code> r\u00e9szt adjuk hozz\u00e1, hogy az <code>ros 2</code> megtal\u00e1lja a futtathat\u00f3 \u00e1llom\u00e1nyt, amit leford\u00edtottunk</p> <pre><code>install(TARGETS\ntalker\nDESTINATION lib/${PROJECT_NAME})\n</code></pre> <p>A <code>CMakeLists.txt</code> megtiszt\u00edthat\u00f3 n\u00e9h\u00e1ny felesleges szakasz \u00e9s megjegyz\u00e9s elt\u00e1vol\u00edt\u00e1s\u00e1val, \u00edgy a k\u00f6vetkez\u0151k\u00e9ppen n\u00e9z ki:</p> <pre><code>cmake_minimum_required(VERSION 3.5)\nproject(cpp_pubsub)\n\n# Default to C++14\nif(NOT CMAKE_CXX_STANDARD)\nset(CMAKE_CXX_STANDARD 14)\nendif()\n\nif(CMAKE_COMPILER_IS_GNUCXX OR CMAKE_CXX_COMPILER_ID MATCHES \"Clang\")\nadd_compile_options(-Wall -Wextra -Wpedantic)\nendif()\n\nfind_package(ament_cmake REQUIRED)\nfind_package(rclcpp REQUIRED)\nfind_package(std_msgs REQUIRED)\n\nadd_executable(talker src/publisher_member_function.cpp)\nament_target_dependencies(talker rclcpp std_msgs)\n\ninstall(TARGETS\ntalker\nDESTINATION lib/${PROJECT_NAME})\n\nament_package()\n</code></pre> <p>M\u00e1r buildelhet\u0151 a package, adjuk hozz\u00e1 a feliratkoz\u00f3 (subscriber) node-ot is, hogy l\u00e1thassuk a teljes rendszert m\u0171k\u00f6d\u00e9s k\u00f6zben.</p> <p><pre><code>cd ~/ros2_ws/\n</code></pre> <pre><code>colcon build --packages-select cpp_pubsub\n</code></pre></p>"},{"location":"bevezetes/ros2gyak/#irjuk-meg-a-subscriber-node-ot","title":"\u00cdrjuk meg a subscriber node-ot","text":"<p>A subscriber node elk\u00e9sz\u00edt\u00e9s\u00e9t a k\u00f6vetkez\u0151 tutorial 3-a pontja is le\u00edrja: docs.ros.org/en/humble/Tutorials/Beginner-Client-Libraries/Writing-A-Simple-Cpp-Publisher-And-Subscriber.html</p> <p>L\u00e9pj\u00fcnk vissza a <code>ros2_ws/src/cpp_pubsub/src</code> mapp\u00e1ba \u00e9s t\u00f6lts\u00fck le a sunbscriber node-ot is:</p> <pre><code>wget -O subscriber_member_function.cpp https://raw.githubusercontent.com/ros2/examples/humble/rclcpp/topics/minimal_subscriber/member_function.cpp\n</code></pre> <p>Ha most <code>ls</code>-el list\u00e1zunk, a k\u00f6vetkez\u0151t kell l\u00e1ssuk:</p> <pre><code>publisher_member_function.cpp  subscriber_member_function.cpp\n</code></pre> <p>A <code>CMakeList.txt</code>-hez adjuk hozz\u00e1 a subscribe node-ot is:</p> <pre><code>add_executable(listener src/subscriber_member_function.cpp)\nament_target_dependencies(listener rclcpp std_msgs)\n\ninstall(TARGETS\n  talker\n  listener\n  DESTINATION lib/${PROJECT_NAME})\n</code></pre>"},{"location":"bevezetes/ros2gyak/#forditsuk-a-package-t","title":"Ford\u00edtsuk a package-t","text":"<p><pre><code>cd ~/ros2_ws/\n</code></pre> <pre><code>colcon build --packages-select cpp_pubsub\n</code></pre></p> <p>Futtat\u00e1s:</p> <p><pre><code>source ~/ros2_ws/install/setup.bash\n</code></pre> <pre><code>ros2 run cpp_pubsub talker\n</code></pre></p> <pre><code>[INFO] [minimal_publisher]: Publishing: \"Hello World: 0\"\n[INFO] [minimal_publisher]: Publishing: \"Hello World: 1\"\n[INFO] [minimal_publisher]: Publishing: \"Hello World: 2\"\n[INFO] [minimal_publisher]: Publishing: \"Hello World: 3\"\n[INFO] [minimal_publisher]: Publishing: \"Hello World: 4\"\n</code></pre> <p>Egy \u00fajabb terminalba: <pre><code>source ~/ros2_ws/install/setup.bash\n</code></pre> <pre><code>ros2 run cpp_pubsub listener\n</code></pre></p> <pre><code>[INFO] [minimal_subscriber]: I heard: \"Hello World: 10\"\n[INFO] [minimal_subscriber]: I heard: \"Hello World: 11\"\n[INFO] [minimal_subscriber]: I heard: \"Hello World: 12\"\n[INFO] [minimal_subscriber]: I heard: \"Hello World: 13\"\n[INFO] [minimal_subscriber]: I heard: \"Hello World: 14\"\n</code></pre>"},{"location":"bevezetes/ros2gyak/#5-feladat-python-publisher-subscriber","title":"<code>5.</code> feladat - Python publisher / subscriber","text":"<p>A gyakorlat a hivatalos ROS 2 tutorialokon alapszik: docs.ros.org/en/humble/Tutorials/Beginner-Client-Libraries/Writing-A-Simple-Py-Publisher-And-Subscriber.html</p> PythonC++ <pre><code>import rclpy      ## ROS2 Python API \nfrom std_msgs.msg import String ## ROS2 Standard String\nfrom rclpy.node import Node \n\n\n\n\n## MinimalPublisher oszt\u00e1ly\nclass MinimalPublisher(Node):\n\n    def __init__(self):\n        super().__init__('minimal_publisher')\n        self.publisher_ = self.create_publisher(String, 'topic', 10)\n        timer_period = 0.5  # seconds\n        self.timer = self.create_timer(timer_period, self.timer_callback)\n        self.i = 0\n\n    def timer_callback(self):\n        msg = String()\n        msg.data = 'Hello World: %d' % self.i\n        self.publisher_.publish(msg)\n        self.get_logger().info('Publishing: \"%s\"' % msg.data)\n        self.i += 1\n\n\n\n\n\ndef main(args=None):\n    rclpy.init(args=args)\n    minimal_publisher = MinimalPublisher()\n    rclpy.spin(minimal_publisher)\n    minimal_publisher.destroy_node()\n    rclpy.shutdown()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <pre><code>#include \"rclcpp/rclcpp.hpp\" // ROS2 C++ API \n#include \"std_msgs/msg/string.hpp\" // ROS2 standard String\n#include &lt;chrono&gt;\n#include &lt;functional&gt;\n#include &lt;memory&gt;\n#include &lt;string&gt;\nusing namespace std::chrono_literals;\n// MinimalPublisher oszt\u00e1ly\nclass MinimalPublisher : public rclcpp::Node\n{\n    public: MinimalPublisher() : Node(\"minimal_publisher\"), count_(0) {\n        publisher_ = this-&gt;create_publisher&lt;std_msgs::msg::String&gt;(\"topic\", 10);\n        timer_ = this-&gt;create_wall_timer(\n        500ms, std::bind(&amp;MinimalPublisher::timer_callback, this));\n    }\n\n    private:\n    void timer_callback(){\n        auto message = std_msgs::msg::String();\n        message.data = \"Hello, world! \" + std::to_string(count_++);\n        RCLCPP_INFO(this-&gt;get_logger(), \"Publishing: '%s'\", message.data.c_str());\n        publisher_-&gt;publish(message);\n    }\n    rclcpp::TimerBase::SharedPtr timer_;\n    rclcpp::Publisher&lt;std_msgs::msg::String&gt;::SharedPtr publisher_;\n    size_t count_;\n};\n\nint main(int argc, char * argv[]){\n    rclcpp::init(argc, argv);\n    rclcpp::spin(std::make_shared&lt;MinimalPublisher&gt;());\n    rclcpp::shutdown();\n    return 0;\n}\n</code></pre> <ul> <li>Python publisher</li> <li>Python subscriber</li> </ul>"},{"location":"bevezetes/ros2gyak/#forrasok","title":"Forr\u00e1sok","text":"<ul> <li>docs.ros.org/en/humble/Tutorials/Beginner-CLI-Tools/Introducing-Turtlesim/Introducing-Turtlesim.html</li> <li>docs.ros.org/en/humble/Tutorials/Beginner-Client-Libraries/Creating-Your-First-ROS2-Package.html</li> <li>docs.ros.org/en/humble/Tutorials/Beginner-Client-Libraries/Writing-A-Simple-Cpp-Publisher-And-Subscriber.html</li> <li>docs.ros.org/en/humble/Tutorials/Beginner-Client-Libraries/Writing-A-Simple-Py-Publisher-And-Subscriber.html</li> </ul>"},{"location":"bevezetes/vscodegit/","title":"VS code \u00e9s Git","text":"<p>A <code>VS code</code> Linux, Windows \u00e9s Mac rendszerekre k\u00e9sz\u00fclt egyszer\u0171 k\u00f3d \u00e9s sz\u00f6vegszerkezst\u0151, amely k\u00fcl\u00f6nb\u00f6z\u0151 kieg\u00e9sz\u00edt\u00e9sekkel egy teljes \u00e9rt\u00e9k\u0171 IDE (integr\u00e1lt fejleszt\u0151k\u00f6rnyezet) lehet. Neve a Visual Studio Code r\u00f6vid\u00edt\u00e9se, ingyenes, ny\u00edlt forr\u00e1sk\u00f3d\u00fa, a Microsoft fejleszti. N\u00e9pszer\u0171 fejleszt\u0151k\u00f6rnyezet (pl. 2021-ben a Stack Overflow Developer Survey alapj\u00e1n 82000 v\u00e1laszad\u00f3b\u00f3l 70% haszn\u00e1lta, \u00edgy az egyik legn\u00e9pszer\u0171bb IDE).</p>"},{"location":"bevezetes/vscodegit/#navigacio-a-fejlesztokornyezetben","title":"Navig\u00e1ci\u00f3 a fejleszt\u0151k\u00f6rnyezetben","text":"<p>A k\u00f6vetkez\u0151kben a fontosabb fele\u00fcleteket mutatjuk be.</p> <p></p> <p>Tal\u00e1n az egyik legfontosabb billenty\u0171kombin\u00e1ci\u00f3 a <code>Ctrl-Shift-P</code>, mellyel a Command Palette j\u00f6n el\u0151, ahol be\u00e1ll\u00edt\u00e1sok, f\u00e1jlok, parancsok k\u00f6z\u00f6tt b\u00f6ng\u00e9szhet\u00fcnk.</p>"},{"location":"bevezetes/vscodegit/#source-control-forraskezeles-attetintese","title":"Source control (forr\u00e1skezel\u00e9s) \u00e1ttetint\u00e9se","text":"<p>A forr\u00e1skezel\u0151 szoftvereket, mint p\u00e9ld\u00e1ul a Git, a k\u00f6vetkez\u0151 okok miatt haszn\u00e1ljuk a modern szoftverfejleszt\u00e9sben:</p> <ul> <li>V\u00e1ltoz\u00e1sk\u00f6vet\u00e9s: Lehet\u0151v\u00e9 teszik a forr\u00e1sk\u00f3d minden m\u00f3dos\u00edt\u00e1s\u00e1nak nyomon k\u00f6vet\u00e9s\u00e9t, \u00edgy k\u00f6nnyen vissza lehet t\u00e9rni kor\u00e1bbi verzi\u00f3khoz, ha hib\u00e1t fedeznek fel, vagy ha egy \u00faj funkci\u00f3 nem m\u0171k\u00f6dik megfelel\u0151en.</li> <li>Egy\u00fcttm\u0171k\u00f6d\u00e9s: T\u00f6bb fejleszt\u0151 egyidej\u0171leg dolgozhat ugyanazon a projekten. A forr\u00e1skezel\u0151 szoftverek seg\u00edtenek kezelni a k\u00fcl\u00f6nb\u00f6z\u0151 v\u00e1ltoztat\u00e1sokat \u00e9s megoldani az esetleges \u00fctk\u00f6z\u00e9seket.</li> <li>Biztons\u00e1gi ment\u00e9s: A projekt minden verzi\u00f3j\u00e1t t\u00e1rolja, \u00edgy ha valami elromlik vagy elveszik, k\u00f6nnyen vissza lehet \u00e1ll\u00edtani az el\u0151z\u0151 \u00e1llapotot.</li> <li>\"K\u00eds\u00e9rletez\u00e9s\": Lehet\u0151v\u00e9 teszi a fejleszt\u0151k sz\u00e1m\u00e1ra, hogy k\u00fcl\u00f6nb\u00f6z\u0151 verzi\u00f3kat vagy \u00e1gakat (branch) hozzanak l\u00e9tre, \u00e9s \u00faj funkci\u00f3kat vagy jav\u00edt\u00e1sokat pr\u00f3b\u00e1ljanak ki an\u00e9lk\u00fcl, hogy befoly\u00e1soln\u00e1k a f\u0151 projektk\u00f3dot.</li> <li>Dokument\u00e1l\u00e1s: A forr\u00e1skezel\u0151 rendszerekben lehet\u0151s\u00e9g van a m\u00f3dos\u00edt\u00e1sokhoz kapcsol\u00f3d\u00f3 \u00fczenetek (commit message) r\u00f6gz\u00edt\u00e9s\u00e9re, ami seg\u00edti a v\u00e1ltoztat\u00e1sok okainak \u00e9s c\u00e9ljainak dokument\u00e1l\u00e1s\u00e1t.</li> <li>Integr\u00e1ci\u00f3 \u00e9s folyamatos fejleszt\u00e9s: Seg\u00edtik az automatikus tesztel\u00e9st \u00e9s a folyamatos integr\u00e1ci\u00f3s folyamatokat (CI/CD), mivel biztos\u00edtj\u00e1k, hogy minden v\u00e1ltoztat\u00e1s k\u00f6nnyen kezelhet\u0151 \u00e9s nyomon k\u00f6vethet\u0151 legyen.</li> </ul> <p></p>"},{"location":"bevezetes/vscodegit/#git-source-control-forraskezeles-hasznalata-a-vs-code-ban","title":"Git source control (forr\u00e1skezel\u00e9s) haszn\u00e1lata a VS Code-ban","text":"<p>A Visual Studio Code integr\u00e1lt forr\u00e1skezel\u00e9ssel (SCM) rendelkezik, \u00e9s tartalmazza a Git t\u00e1mogat\u00e1st. Sok m\u00e1s forr\u00e1skezel\u0151 szolg\u00e1ltat\u00f3 \u00e9rhet\u0151 el a extensions oldalon a VS Code Marketplace-en.</p>"},{"location":"bevezetes/vscodegit/#git-repository","title":"Git repository","text":"<p>Gy\u0151z\u0151dj\u00f6n meg arr\u00f3l, hogy a Git telep\u00edtve van. A VS Code a sz\u00e1m\u00edt\u00f3g\u00e9pe Git-telep\u00edt\u00e9s\u00e9t fogja haszn\u00e1lni (legal\u00e1bb <code>2.0.0</code> verzi\u00f3 sz\u00fcks\u00e9ges), ez\u00e9rt telep\u00edtenie kell a Git-et, miel\u0151tt ezeket a szolg\u00e1ltat\u00e1sokat ig\u00e9nybe vehetn\u00e9.</p> <p>A bal oldali tev\u00e9kenys\u00e9gs\u00e1vban tal\u00e1lhat\u00f3 <code>Source control</code> ikon mindig \u00e1ttekint\u00e9st ad arr\u00f3l, hogy h\u00e1ny v\u00e1ltoz\u00e1s van jelenleg a t\u00e1rhelyen (repo). Az ikon kiv\u00e1laszt\u00e1s\u00e1val megjelennek az aktu\u00e1lis adatt\u00e1r-m\u00f3dos\u00edt\u00e1sok r\u00e9szletei: CHANGES, STAGED CHANGES \u00e9s MERGE CHANGES.</p> <p>Az egyes elemekre kattintva r\u00e9szletesen megtekintheti az egyes f\u00e1jlokon bel\u00fcli sz\u00f6veges v\u00e1ltoz\u00e1sokat. Vegye figyelembe, hogy a nem szakaszos m\u00f3dos\u00edt\u00e1sok eset\u00e9n a jobb oldali szerkeszt\u0151 tov\u00e1bbra is lehet\u0151v\u00e9 teszi a f\u00e1jl szerkeszt\u00e9s\u00e9t.</p> <p>A repo st\u00e1tusz\u00e1ra vonatkoz\u00f3 indik\u00e1torokat is megtal\u00e1lhat\u00f3k a VS Code bal als\u00f3 sark\u00e1ban: az aktu\u00e1lis branch (current branch), dirty indicators, valamint a bej\u00f6v\u0151 \u00e9s kimen\u0151 commitok sz\u00e1ma. az aktu\u00e1lis \u00e1gb\u00f3l. A t\u00e1rhely b\u00e1rmely \u00e1g\u00e1t checkout-olhatja, ha r\u00e1kattint az \u00e1llapotjelz\u0151re, \u00e9s kiv\u00e1lasztja a Git hivatkoz\u00e1st a list\u00e1b\u00f3l.</p> <p>Tip</p> <p>A VS Code-ot megnyithatjuk egy Git-repo k\u00f6nyvt\u00e1r\u00e1ban. Ehhez a parancs a k\u00f6nyt\u00e1rban \u00e1llva: <code>code .</code> illetve pl: <code>code ~/ros2_ws/src/arj_packages/</code>, ha a tant\u00e1rgy <code>arj_packages</code> repoj\u00e1t szeret\u00e9nk megnyitni. A VS Code Git szolg\u00e1ltat\u00e1sai tov\u00e1bbra is a szok\u00e1sos m\u00f3don m\u0171k\u00f6dnek, \u00e9s minden v\u00e1ltoz\u00e1st megjelen\u00edtenek a t\u00e1rol\u00f3n bel\u00fcl, de a hat\u00f3k\u00f6r\u0171 k\u00f6nyvt\u00e1ron k\u00edv\u00fcli f\u00e1jlm\u00f3dos\u00edt\u00e1sok egy eszk\u00f6ztippel vannak \u00e1rny\u00e9kolva, jelezve, hogy az aktu\u00e1lis munkater\u00fcleten k\u00edv\u00fcl helyezkednek el.</p>"},{"location":"bevezetes/vscodegit/#commit","title":"Commit","text":"<p>Az staging (git add) \u00e9s unstaging (git reset) v\u00e9grehajthat\u00f3 a f\u00e1jlok kontextus szerinti m\u0171veleteivel vagy h\u00faz\u00e1ssal.</p> <p>Konfigur\u00e1lja a Git-felhaszn\u00e1l\u00f3nev\u00e9t \u00e9s e-mail-c\u00edm\u00e9t. Commitol\u00e1skor, figyelni kell, hogy ha a felhaszn\u00e1l\u00f3n\u00e9v \u00e9s/vagy e-mail-c\u00edm be legyen \u00e1ll\u00edtva a Git-konfigur\u00e1ci\u00f3ban. R\u00e9szletek: [Git commit information] (https://git-scm.com/docs/git-commit#_commit_information).</p> <p></p> <p>Be\u00edrhat\u00f3 egy commit \u00fczenetet a v\u00e1ltoztat\u00e1sok jelz\u00e9s\u00e9re, ezut\u00e1n <code>kbstyle(Ctrl+Enter)</code> (macOS: <code>kbstyle(\u2318+Enter)</code>) billenty\u0171t kell \u00fctni a v\u00e9gleges\u00edt\u00e9shez. Ha vannak v\u00e1ltoztat\u00e1sok(staged chnages), csak azokat a v\u00e1ltoztat\u00e1sokat hajtj\u00e1k v\u00e9gre. Ellenkez\u0151 esetben a rendszer k\u00e9ri, hogy v\u00e1lassza ki, milyen v\u00e1ltoztat\u00e1sokat szeretne v\u00e9grehajtani.</p> <p>P\u00e9ld\u00e1ul a kor\u00e1bbi k\u00e9perny\u0151k\u00e9pen csak az \"overview.png\" szakaszos m\u00f3dos\u00edt\u00e1sai szerepelnek a v\u00e9gleges\u00edt\u00e9sben. A k\u00e9s\u0151bbi szakaszol\u00e1si \u00e9s v\u00e9gleges\u00edt\u00e9si m\u0171veletek k\u00fcl\u00f6n v\u00e9gleges\u00edt\u00e9sk\u00e9nt tartalmazhatj\u00e1k a \"versioncontrol.md\" \u00e9s a m\u00e1sik k\u00e9t \".png\" k\u00e9p m\u00f3dos\u00edt\u00e1sait.</p> <p>A pontosabb Commit m\u0171veletek a forr\u00e1skezel\u00e9s n\u00e9zet tetej\u00e9n tal\u00e1lhat\u00f3 Views and More Actions <code>...</code> men\u00fcben tal\u00e1lhat\u00f3k.</p> <p></p> <p>Tipp: Ha rossz \u00e1gon (branch) hajtja v\u00e9gre a m\u00f3dos\u00edt\u00e1st, vonja vissza a v\u00e9gleges\u00edt\u00e9st a Command Palette Git: Undo Last Commit (Utols\u00f3 commit visszavon\u00e1sa) paranccsal (<code>Ctrl+Shift+P</code>).</p>"},{"location":"bevezetes/vscodegit/#repo-klonozasa","title":"Repo kl\u00f3noz\u00e1sa","text":"<p>Ha m\u00e9g nincs kl\u00f3nozva repository, akkor a Forr\u00e1skezel\u00e9s n\u00e9zetben a Open Folder a helyi g\u00e9pr\u0151l vagy a Clone Repository (t\u00e1voli g\u00e9pr\u0151l) lehet\u0151s\u00e9gek k\u00f6z\u00fcl v\u00e1laszthat.</p> <p></p> <p>A Clone Repository lehet\u0151s\u00e9get v\u00e1lasztva, a rendszer meg fogja k\u00e9rni a t\u00e1voli t\u00e1rhely URL-c\u00edm\u00e9t (p\u00e9ld\u00e1ul a GitHubon) \u00e9s azt a k\u00f6nyvt\u00e1rat, amelybe a helyi t\u00e1rat helyezi.</p> <p>GitHub-t\u00e1rhely eset\u00e9n az URL-t a GitHub K\u00f3d p\u00e1rbesz\u00e9dpanelen tal\u00e1lja meg.</p> <p></p> <p>Ezut\u00e1n illessze be ezt az URL-t a Git: Clone promptba.</p> <p></p> <p>Megjelenik a Clone from GitHub lehet\u0151s\u00e9g is. Miut\u00e1n hiteles\u00edtette GitHub-fi\u00f3kj\u00e1t a VS Code-ban, kereshet\u0151 v\u00e1lnak a saj\u00e1t (ak\u00e1r priv\u00e1t) rep\u00f3k is, n\u00e9v alapj\u00e1n.</p>"},{"location":"bevezetes/vscodegit/#beepitett-terminal","title":"Be\u00e9p\u00edtett terminal","text":"<p>A fejleszt\u0151k\u00f6rnyezet be\u00e9p\u00edtett termin\u00e1lja, mind Windowson, mind Linuxon m\u0171k\u00f6dik.</p> <p></p> <p></p>"},{"location":"bevezetes/vscodegit/#hasznos-tudni","title":"Hasznos tudni","text":"<ul> <li>pl <code>code .</code> megnyintja az aktu\u00e1lis mappa tartalm\u00e1t</li> <li>pl <code>code ~/.bashrc</code> megnyintja a  <code>~/.bashrc</code> tartalm\u00e1t szerkeszt\u00e9sre</li> </ul>"},{"location":"bevezetes/vscodegit/#wsl-vs-code-video","title":"WSL VS code vide\u00f3","text":""},{"location":"bevezetes/vscodegit/#ros-2-ajanlott-beallitasok","title":"ROS 2 aj\u00e1nlott be\u00e1ll\u00edt\u00e1sok","text":"<p>ROS 2 C++ fejleszt\u00e9sn\u00e9l alapvet\u0151en a VS code nem ismeri fel az ROS header f\u00e1jlokat, \u00edgy az pl az IntelliSense se m\u0171k\u00f6dik megfelel\u0151en:</p> Includepath VS code-ban <p>Erre egyszer\u0171 megold\u00e1s az <code>includePath settings</code>-re kattintva be\u00e1ll\u00edtani az <code>/opt/ros/humble/**</code> el\u00e9r\u00e9si utat. (Term\u00e9szetesen ugyanez m\u0171k\u00f6dik nem <code>humble</code> verzi\u00f3n\u00e1l is, ott a megfelel\u0151 el\u00e9r\u00e9si utat sz\u00fcks\u00e9ges megadni). Ez a k\u00f6vetkez\u0151k\u00e9pp n\u00e9z ki:</p> Includepath settings VS code-ban <p>Amennyiben mentette a VS code, az IntelliSense \u00e9s egy\u00e9b funkci\u00f3k is ennek megfelel\u0151en fognak m\u0171k\u00f6dni.</p> <p>Forr\u00e1sok: code.visualstudio.com/docs/sourcecontrol/overview</p>"},{"location":"erzekeles/","title":"\u00c9rz\u00e9kel\u00e9s","text":"<p>Az \u00e9rz\u00e9kel\u00e9s nyers adatok beolvas\u00e1s\u00e1t jelenti.</p> <p></p> <p>\u00c9rz\u00e9kel\u00e9s eset\u00e9ben fontos felh\u00edvi a figyelmet, hogy ez m\u00e9g nem jelent magas szint\u0171 adatfeldolgoz\u00e1st. Szenzorai lehetnek kamer\u00e1k, mikrofonok, LIDAR-ok stb. Ahogy az \u00e1bra is mutatja a tananyagban az \u00e9rz\u00e9kel\u00e9ssel egy\u00fctt t\u00e1rgyaljuk az aktu\u00e1l\u00e1st is.</p> <p>Note</p> <p>Magyar nyelven k\u00f6nny\u0171 \u00f6sszekeverni az \u00e9rz\u00e9kel\u00e9s (sensing) \u00e9s az \u00e9szlel\u00e9s (perception) foglamakat. Az \u00e9rz\u00e9kel\u00e9s egyszer\u0171 driver szint\u0171 nyers adatok el\u0151\u00e1ll\u00edt\u00e1s\u00e1val foglakozik.</p>"},{"location":"erzekeles/#kamera","title":"Kamera","text":"<p>A kamera az \u00e9rz\u00e9kel\u0151j\u00e9re (pl CCD CMOS szenzor) \u00e9rkez\u0151 f\u00e9nyt elektronikus jell\u00e9 alak\u00edtja, diit\u00e1lisan. Megk\u00fcl\u00f6nb\u00f6ztethet\u00fcnk mono, sztereo vagy m\u00e9lys\u00e9g\u00e9rz\u00e9kel\u00e9sre k\u00e9pes kamer\u00e1kat is.</p> <ul> <li>Jellemz\u0151 gy\u00e1rt\u00f3k: Allied Vision, Basler, Stereolabs, Orbbec, Intel</li> <li>Jellemz\u0151 interf\u00e9sz: GigE, USB3</li> <li>Jellemz\u0151 <code>ROS 2</code> topic t\u00edpusok: <code>sensor_msgs/msg/Image</code>, <code>sensor_msgs/msg/CameraInfo</code></li> </ul> <p></p>"},{"location":"erzekeles/#lidar","title":"LIDAR","text":"<p>A LIDAR (Light Detection and Ranging) szenzor egy olyan eszk\u00f6z, amely l\u00e9zerpulzusokkal \u00e9s azok visszaver\u0151d\u00e9si idej\u00e9b\u0151l t\u00e1vols\u00e1gokat k\u00e9pes meg\u00e1llap\u00edtani. Az elve hasnol\u00f3 a l\u00e9zeres t\u00e1vols\u00e1gm\u00e9r\u0151h\u00f6z, \u00e1m a m\u00e9r\u00e9s gyakoris\u00e1ga \u00e9s frekvenci\u00e1ja is sokkal naygobb ann\u00e1l. P\u00e9ldak\u00e9pp vegy\u00fcnk egy forg\u00f3 64 csatorn\u00e1s LIDAR-t. Ez jellemz\u0151en <code>10</code> vagy <code>20</code> Hz-en m\u00e9r, teh\u00e1t m\u00e1sodpercenk\u00e9nt <code>10</code> vagy <code>20</code> teljes <code>360\u00b0</code>-os k\u00f6rbefordul\u00e1st tesz meg. A <code>64</code> csatorna azt jelenti, hogy minden pillanatban <code>64</code> egym\u00e1s alatti \u00e9rz\u00e9kel\u0151 \u00e9rz\u00e9kel. Egy k\u00f6rbefordul\u00e1st jellemz\u0151en <code>512</code> / <code>1024</code> / <code>2048</code> m\u00e9r\u00e9st jelent csatorn\u00e1nk\u00e9nt. Innen ki is sz\u00e1molhat\u00f3 a m\u00e1sodpercenk\u00e9nti m\u00e9r\u00e9sadat: pl <code>20*64*1024 = 1 310 720</code>. Teh\u00e1t jellemz\u0151en m\u00e1sodpercenk\u00e9nt, t\u00f6bb mint egymilli\u00f3 3D pontot m\u00e9r az eszk\u00f6z, amihez intenzit\u00e1s, ambient, reflekt\u00edv tulajdons\u00e1gok is t\u00e1rsulnak.</p> <ul> <li>Jellemz\u0151 gy\u00e1rt\u00f3k: Velodyne, Ouster, Livox, SICK, Hokuy, Pioneer, Luminar, Hesai, Robosense, Ibeo, Innoviz, Quanenergy, Cepton, Blickfeld, Aeva</li> <li>Jellemz\u0151 interf\u00e9sz: GigE</li> <li>Jellemz\u0151 <code>ROS 2</code> topic t\u00edpusok: <code>sensor_msgs/msg/PointCloud2</code>, <code>sensor_msgs/msg/LaserScan</code></li> </ul> <p>LIDAR gy\u00e1rt\u00f3kat, dataseteket, algoritmusokat tartlamaz\u00f3 gy\u0171jtem\u00e9ny: github.com/szenergy/awesome-lidar.</p> <p></p>"},{"location":"erzekeles/#radar","title":"Radar","text":"<ul> <li>Jellemz\u0151 gy\u00e1rt\u00f3k: Aptiv, Bosch, Continental,  Denso</li> <li>Jellemz\u0151 interf\u00e9sz: CAN bus</li> <li>Jellemz\u0151 <code>ROS 2</code> topic t\u00edpusok: <code>radar_msgs/msg/RadarTrack</code></li> </ul> <p>A LIDAR \u00e9s a kamera jellemz\u0151inek \u00f6sszehasonl\u00edt\u00e1sa</p>"},{"location":"erzekeles/#imu","title":"IMU","text":"<p>Az IMU kis m\u00e9ret\u0171 elektromechanikus giroszk\u00f3pokat \u00e9s gyorsul\u00e1sm\u00e9r\u0151ket, valamint jelfeldolgoz\u00f3 processzorokat tartalmaz\u00f3 szenzor. Gyakran kombin\u00e1lj\u00e1k tov\u00e1bbi szenzorokkal, pl. barometrikus magass\u00e1gm\u00e9r\u0151vel, magnetom\u00e9terrel, ir\u00e1nyt\u0171vel. N\u00e9mely GPS (GNSS) rendszerben is megtal\u00e1lhat\u00f3k.</p> <ul> <li>Jellemz\u0151 gy\u00e1rt\u00f3k: Lord MicroStrain, Bosch, XSens</li> <li>Jellemz\u0151 interf\u00e9sz: Serial, Ethernet, USB, CAN bus</li> <li>Jellemz\u0151 <code>ROS 2</code> topic t\u00edpusok: <code>sensor_msgs/msg/Imu</code>, <code>sensor_msgs/msg/MagneticField</code></li> </ul> <p></p>"},{"location":"erzekeles/#gnss-gps","title":"GNSS (GPS)","text":"<p>A GNSS (global navigation satellite system) glob\u00e1lis szatelit-alap\u00fa navig\u00e1ci\u00f3s rendszert jelent, k\u00f6znapi sz\u00f3haszn\u00e1latban ezt szok\u00e1s GPS-nek nevezni. Ha pontosak szeretn\u00e9nk lenni, akkor a GPS csup\u00e1n az els\u0151 ilyen technol\u00f3gia ezen k\u00edv\u00fcl l\u00e9tezik m\u00e9g GLONASS, BeiDou, Galileo \u00e9s QZSS rendszer is, ezek \u00fczemeltet\u00e9se k\u00fcl\u00f6nb\u00f6z\u0151 \u00e1llamokhoz / sz\u00f6vets\u00e9gekhez k\u00f6t\u0151dik.</p> <ul> <li>Jellemz\u0151 gy\u00e1rt\u00f3k: SwiftNavigation, VectorNav, Ublox, NovaTel</li> <li>Jellemz\u0151 interf\u00e9sz: GigE, CAN bus</li> <li>Jellemz\u0151 <code>ROS 2</code> topic t\u00edpusok: <code>sensor_msgs/msg/NavSatFix</code>, <code>geometry_msgs/msg/PoseStamped</code></li> </ul> <p></p> <p>R\u00f6vid, de j\u00f3 le\u00edr\u00e1s a GNSS pontoss\u00e1gr\u00f3l: www.sbg-systems.com/news/mastering-accurac-gnss-and-its-errors-sources/</p>"},{"location":"erzekeles/#can-bus","title":"CAN bus","text":"<p>A CAN bus (Controller Area Network) egy jellem\u0151en aut\u00f3ipari szabv\u00e1ny, mely lehet\u0151v\u00e9 teszi a mikrokontrollerek \u00e9s az eszk\u00f6z\u00f6k sz\u00e1m\u00e1ra, hogy k\u00f6zponti egys\u00e9g (host) n\u00e9lk\u00fcl kommunik\u00e1ljanak egym\u00e1ssal. Az ethernet kommunk\u00e1ci\u00f3val \u00f6sszevetve egyszer\u0171bb megval\u00f3s\u00edt\u00e1s, alacsonyabb s\u00e1vsz\u00e9less\u00e9g\u0171, robosztus.</p> <ul> <li>Sebess\u00e9g adat lek\u00e9rdez\u00e9se, refencia jel</li> <li>Korm\u00e1nysz\u00f6g adat lek\u00e9rdez\u00e9se, refencia jel</li> <li>Jellemz\u0151 <code>ROS 2</code> topic t\u00edpusok: <code>can_msgs/msg/Frame</code>, <code>geometry_msgs/msg/Twist</code></li> </ul> <p></p>"},{"location":"erzekeles/#ros-2-idokezeles","title":"<code>ROS 2</code> id\u0151kezel\u00e9s","text":"<p>Az <code>ROS</code> id\u0151 kezel\u00e9sre a Unix-id\u0151t, vagy a POSIX-id\u0151t haszn\u00e1lja. Ez a UTC (greenwichi id\u0151) szerinti 1970. janu\u00e1r 1. 00:00:00 \u00f3ta eltelt m\u00e1sodpercek \u00e9s nanoszekundumok sz\u00e1m\u00e1t jelenti (<code>int32 sec</code>, <code>int32 nsec</code>). Ez egyr\u00e9szt relat\u00edv kis helyet foglal a mem\u00f3ri\u00e1ban, m\u00e1sr\u00e9szt k\u00f6nnyen sz\u00e1molhat\u00f3 k\u00e9t id\u0151pont k\u00f6z\u00f6tt eltelt id\u0151, m\u00e9gpedig egy egyszer\u0171 kivon\u00e1ssal. </p> <p>ros2time.ipynb  </p> <p>H\u00e1tr\u00e1nya, hogy nem t\u00fal intuit\u00edv, nem olvashat\u00f3 az ember sz\u00e1m\u00e1ra. Pl. a Foxglove Studio ez\u00e9rt is gyakran \u00e1talak\u00edtja olvashat\u00f3bb form\u00e1tumra. </p> <p> </p> <p>A m\u00e1sodpercek \u00e9s nanoszekundumok a k\u00f6vetkez\u0151k\u00e9pp k\u00e9pzelhet\u0151k el:</p> <pre><code>import rclpy\ncurrent_time = node.get_clock().now()\nprint(current_time.to_msg())\n\nOutput: \nsec=1694595162, nanosec=945886859\n</code></pre> <p>Az id\u0151b\u00e9lyeg t\u00f6bb helyen is szerepet kap:</p> <pre><code>ros2 topic echo /clock --once\nclock:\n  sec: 1689687476\n  nanosec: 770421827\n</code></pre> <pre><code>ros2 topic echo --once /lexus3/gps/duro/current_pose\n\nheader:\n  stamp:\n    sec: 1694595162\n    nanosec: 945886859\n  frame_id: map\npose:\n  position:\n    x: 640142.9676535318\n    y: 5193606.439717201\n    z: 1.7999999523162842\n  orientation:\n    x: 0.008532664424537166\n    y: 0.0018914791588597107\n    z: 0.44068499630505714\n    w: 0.8976192678279703\n</code></pre> <p>Ha szeretn\u00e9nk \u00e1tv\u00e1latni a m\u00e1sodperceket \u00e9s nanoszekundumokat, azt a k\u00f6vetkez\u0151 m\u00f3don tehetj\u00fck meg:</p> <pre><code>from datetime import datetime\ncurrent_time_float = current_time.to_msg().sec + current_time.to_msg().nanosec / 1e9 # 1e9 is 1,000,000,000: nanosec to sec\nprint(\"As a float:\\t%.5f\" % (current_time_float))\nprint(\"ISO format:\", end=\"\\t\")\nprint(datetime.utcfromtimestamp(current_time_float).isoformat())\n\n\nOutput:\nAs a float: 1694595162.94589\nISO format: 2023-09-13T08:52:42.945887\n</code></pre>"},{"location":"erzekeles/#forrasok","title":"Forr\u00e1sok","text":"<ul> <li>Szenzorok ROS-ben (online google prezent\u00e1ci\u00f3 magyarul)</li> <li>docs.ros.org/en/humble/Tutorials/Beginner-CLI-Tools/Understanding-ROS2-Topics/Understanding-ROS2-Topics.html</li> </ul>"},{"location":"erzekeles/practice/","title":"Gyakorlat","text":"<p>A gyakorlat Ubuntu 22.04 <code>ROS humble</code>, Windows 10/11 WSL <code>humble</code> mellett m\u0171k\u00f6dik. A k\u00fcl\u00f6nb\u00f6z\u0151 verzi\u00f3k telep\u00edt\u00e9s\u00e9nek le\u00edr\u00e1sa itt tal\u00e1lhat\u00f3.</p> <p>El\u0151zetes ellen\u0151rz\u00e9s</p> <p>Otthoni g\u00e9pen a gyakorlat el\u0151tt \u00e9rdemes ellen\u0151rizni, hogy a megfelel\u0151 <code>ROS 2</code> szoftvercsomagok telep\u00edtve vannak-e.</p> <pre><code>sudo apt install ros-humble-rosbag2 ros-humble-rosbag2-storage-mcap\n</code></pre> <p>G\u00e9pteremben is ellen\u0151rizz\u00fck a <code>check_all.sh</code> seg\u00edts\u00e9g\u00e9vel: <pre><code>cd /mnt/kozos/script\n./bag_mcap.sh\n./check_all.sh\n</code></pre></p>"},{"location":"erzekeles/practice/#elokeszuletek","title":"El\u0151k\u00e9sz\u00fcletek","text":"<p>Az el\u0151z\u0151 gyakorlaton megismerkedt\u00fcnk a k\u00f6vetkez\u0151 rosbag-gel (ROS 2-ben a form\u00e1tum m\u00e1r <code>.mcap</code>):</p> <p></p> <p>El\u0151k\u00e9sz\u00fcletk\u00e9nt n\u00e9zz\u00fck meg, hogy l\u00e9tezik-e a <code>C:\\temp</code> k\u00f6nyvt\u00e1r</p> <p><pre><code>test -d \"/mnt/c/temp\" &amp;&amp; echo Letezik || echo Nem letezik\n</code></pre> Vagy egyszer\u0171bben: <pre><code>ls /mnt/c/temp\n</code></pre></p> <ul> <li>Ha nem l\u00e9tezik (<code>No such file or directory</code>), akkor hozzuk l\u00e9tre: <code>mkdir /mnt/c/temp</code></li> <li>Ha l\u00e9tezik, akkor nincs teend\u0151nk, l\u00e9pj\u00fcnk a k\u00f6vetkez\u0151 l\u00e9p\u00e9sre, m\u00e1soljuk \u00e1t ide az <code>.mcap</code> f\u00e1jlokat</li> </ul> <p>Tanteremben a m\u00e1sol\u00e1s a k\u00f6vetkez\u0151 parancsok egyike legyen:</p> <pre><code>rsync -avzh --progress /mnt/kozos/measurement_files/lexus3sample01.mcap  /mnt/c/temp/\nrsync -avzh --progress /mnt/kozos/measurement_files/lexus3sample02.mcap  /mnt/c/temp/\nrsync -avzh --progress /mnt/kozos/measurement_files/lexus3sample03.mcap  /mnt/c/temp/\nrsync -avzh --progress /mnt/kozos/measurement_files/lexus3sample04.mcap  /mnt/c/temp/\nrsync -avzh --progress /mnt/kozos/measurement_files/lexus3sample05.mcap  /mnt/c/temp/\n</code></pre> <p>Otthon a k\u00f6vetkez\u0151 linkr\u0151l (z\u00f6ld gomb), vagy parancsk\u00e9nt <code>wget</code>-el lehet let\u00f6lteni:</p> <pre><code>wget  -O lexus3sample02.mcap https://laesze-my.sharepoint.com/:u:/g/personal/herno_o365_sze_hu/EakTOhcjblNInqjRMfaGVmsB0diDv0SWpXw9rwo0MD7f3w?download=1\n</code></pre> <p>MCAP let\u00f6lt\u00e9se  553 MB</p> <p>MCAP sample let\u00f6lt\u00e9se  300 MB </p> <p>List\u00e1zzuk a megfelel\u0151 \u00e1tm\u00e1solt <code>.mcap</code> f\u00e1jl alap inform\u00e1ci\u00f3it, hasonl\u00f3an:  </p> <pre><code>ros2 bag info /mnt/c/temp/lexus3sample06.mcap\n\nclosing.\n\nFiles:             /mnt/c/temp/lexus3sample06.mcap\nBag size:          286.7 MiB\nStorage id:        mcap\nDuration:          3.367s\nStart:             Jul 18 2023 15:37:09.211 (1689687429.211)\nEnd:               Jul 18 2023 15:38:03.314 (1689687483.314)\nMessages:          29598\nTopic information: \n  Topic: /lexus3/zed2i/zed_node/right_raw/image_raw_color/compressed | Type: sensor_msgs/msg/CompressedImage\n  Topic: /lexus3/os_left/points | Type: sensor_msgs/msg/PointCloud2\n  Topic: /lexus3/os_right/points | Type: sensor_msgs/msg/PointCloud2\n  Topic: /lexus3/os_center/imu | Type: sensor_msgs/msg/Imu\n  Topic: /tf_static | Type: tf2_msgs/msg/TFMessage\n  Topic: /lexus3/os_center/points | Type: sensor_msgs/msg/PointCloud2\n  Topic: /tf | Type: tf2_msgs/msg/TFMessage\n  Topic: /lexus3/gps/duro/mag | Type: sensor_msgs/msg/MagneticField\n  Topic: /lexus3/gps/duro/imu | Type: sensor_msgs/msg/Imu\n  Topic: /lexus3/gps/duro/status_string | Type: std_msgs/msg/String\n  Topic: /lexus3/gps/duro/current_pose | Type: geometry_msgs/msg/PoseStamped\n</code></pre>"},{"location":"erzekeles/practice/#jatsszuk-vissza-az-mcap-fajlt","title":"J\u00e1tsszuk vissza az <code>.mcap</code> f\u00e1jlt","text":"<p>A k\u00f6vetkez\u0151ken a m\u00e9r\u00e9sadatf\u00e1jlt visszaj\u00e1tsszuk \u00e9s ellen\u0151rizz\u00fck, hogy milyen adatok jelennek meg, milyen t\u00edpusban \u00e9s sebess\u00e9ggel. A <code>--loop</code> kapcsol\u00f3 a v\u00e9gtelen ism\u00e9tl\u00e9st, a <code>--clock</code> kapcsol\u00f3 pedig egy <code>/clock</code> topic hirdet\u00e9s\u00e9\u00e9rt felel, ehhez igaz\u00edtja a lej\u00e1tsz\u00e1st.</p> <p><pre><code>ros2 bag play /mnt/c/temp/lexus3sample06.mcap --clock --loop\n</code></pre> Ugyanez, csak lassabban visszaj\u00e1tszva pl.:</p> <pre><code>ros2 bag play /mnt/c/temp/lexus3sample06.mcap --clock --loop --rate 0.2\n</code></pre> <p>A k\u00f6vetkez\u0151 topic-ok jelennek meg:</p> <pre><code>ros2 topic list\n\n/clock\n/events/read_split\n/lexus3/gps/duro/current_pose\n/lexus3/gps/duro/imu\n/lexus3/gps/duro/mag\n/lexus3/gps/duro/status_string\n/lexus3/os_center/imu\n/lexus3/os_center/points\n/lexus3/os_left/points\n/lexus3/os_right/points\n/lexus3/zed2i/zed_node/right_raw/image_raw_color\n/parameter_events\n/rosout\n/tf\n/tf_static\n</code></pre> <p>A <code>ros2 topic hz</code> az adott topic frekvenci\u00e1j\u00e1t mutatja. A poz\u00edci\u00f3 ebben az esetben ~20Hz.</p> <pre><code>ros2 topic hz /lexus3/gps/duro/current_pose\naverage rate: 20.133\n        min: 0.002s max: 0.101s std dev: 0.03451s window: 22\n</code></pre>"},{"location":"erzekeles/practice/#ros-2-idokezeles","title":"<code>ROS 2</code> id\u0151kezel\u00e9s","text":"<p>Az <code>ROS</code> id\u0151 kezel\u00e9sre a Unix-id\u0151t, vagy a POSIX-id\u0151t haszn\u00e1lja. Ez a UTC (greenwichi id\u0151) szerinti 1970. janu\u00e1r 1. 00:00:00 \u00f3ta eltelt m\u00e1sodpercek \u00e9s nanoszekundumok sz\u00e1m\u00e1t jelenti (<code>int32 sec</code>, <code>int32 nsec</code>). Ez egyr\u00e9szt relat\u00edv kis helyet foglal a mem\u00f3ri\u00e1ban, m\u00e1sr\u00e9szt k\u00f6nnyen sz\u00e1molhat\u00f3 k\u00e9t id\u0151pont k\u00f6z\u00f6tt eltelt id\u0151, m\u00e9gpedig egy egyszer\u0171 kivon\u00e1ssal. </p> <p>ros2time.ipynb </p> <p>H\u00e1tr\u00e1nya, hogy nem t\u00fal intuit\u00edv, nem olvashat\u00f3 az ember sz\u00e1m\u00e1ra. Pl. a Foxglove Studio ez\u00e9rt is gyakran \u00e1talak\u00edtja olvashat\u00f3bb form\u00e1tumra. </p> <p> </p> <p>A m\u00e1sodpercek \u00e9s nanoszekundumok a k\u00f6vetkez\u0151k\u00e9pp k\u00e9pzelhet\u0151k el:</p> <pre><code>import rclpy\ncurrent_time = node.get_clock().now()\nprint(current_time.to_msg())\n\nOutput: \nsec=1694595162, nanosec=945886859\n</code></pre> <p>Az id\u0151b\u00e9lyeg t\u00f6bb helyen is szerepet kap:</p> <pre><code>ros2 topic echo /clock --once\nclock:\n  sec: 1689687476\n  nanosec: 770421827\n</code></pre> <pre><code>ros2 topic echo --once /lexus3/gps/duro/current_pose\n\nheader:\n  stamp:\n    sec: 1694595162\n    nanosec: 945886859\n  frame_id: map\npose:\n  position:\n    x: 640142.9676535318\n    y: 5193606.439717201\n    z: 1.7999999523162842\n  orientation:\n    x: 0.008532664424537166\n    y: 0.0018914791588597107\n    z: 0.44068499630505714\n    w: 0.8976192678279703\n</code></pre> <p>Ha szeretn\u00e9nk \u00e1tv\u00e1latni a m\u00e1sodperceket \u00e9s nanoszekundumokat, azt a k\u00f6vetkez\u0151 m\u00f3don tehetj\u00fck meg:</p> <pre><code>from datetime import datetime\ncurrent_time_float = current_time.to_msg().sec + current_time.to_msg().nanosec / 1e9 # 1e9 is 1,000,000,000: nanosec to sec\nprint(\"As a float:\\t%.5f\" % (current_time_float))\nprint(\"ISO format:\", end=\"\\t\")\nprint(datetime.utcfromtimestamp(current_time_float).isoformat())\n\n\nOutput:\nAs a float: 1694595162.94589\nISO format: 2023-09-13T08:52:42.945887\n</code></pre> <p>Eml\u00e9keztet\u0151: a nanoszekundum a m\u00e1sodperc egy milli\u00e1rdodr\u00e9sze (10^-9 s).</p>"},{"location":"erzekeles/practice/#global-navigation-satellite-system-gnss-global-positioning-system-gps","title":"Global Navigation Satellite System (GNSS) / Global Positioning System (GPS)","text":"<p>A k\u00f6veztkez\u0151kben \u00e1tn\u00e9z\u00fcnk p\u00e1r jellemz\u0151 szenzort (GPS, kamera, LIDAR) \u00e9s azok topic-jait, node-jait (driver package-ekbe szervezve). Vess\u00fcnk egy pillant\u00e1st a saj\u00e1t fejleszt\u00e9s\u0171 Duro GPS (GNSS) driverre: github.com/szenergy/duro_gps_driver. A GPS-t etherneten a sz\u00e1m\u00edt\u00f3g\u00e9phez csatlakoztatva, az ROS drivert ind\u00edtva a k\u00f6vetkez\u0151 topicokat fogja hirdetni:</p> Topic Type <code>/gps/duro/current_pose</code> <code>[geometry_msgs/PoseStamped]</code> <code>/gps/duro/fix</code> <code>[sensor_msgs/NavSatFix]</code> <code>/gps/duro/imu</code> <code>[sensor_msgs/Imu]</code> <code>/gps/duro/mag</code> <code>[sensor_msgs/MagneticField]</code> <code>/gps/duro/odom</code> <code>[nav_msgs/Odometry]</code> <code>/gps/duro/rollpitchyaw</code> <code>[geometry_msgs/Vector3]</code> <code>/gps/duro/status_flag</code> <code>[std_msgs/UInt8]</code> <code>/gps/duro/status_string</code> <code>[std_msgs/String]</code> <code>/gps/duro/time_ref</code> <code>[sensor_msgs/TimeReference]</code>"},{"location":"erzekeles/practice/#inertial-measurement-unit-imu","title":"Inertial Measurement Unit (IMU)","text":"<p>Jellemz\u0151 <code>ROS 2</code> topic t\u00edpusok: <code>sensor_msgs/msg/Imu</code>, <code>sensor_msgs/msg/MagneticField</code></p> <pre><code>ros2 topic echo --once /lexus3/gps/duro/imu\n\nheader:\n  stamp:\n    sec: 1695039048\n    nanosec: 44466475\n  frame_id: duro\norientation:\n  x: 0.0\n  y: 0.0\n  z: 0.7071067811865475\n  w: 0.7071067811865476\norientation_covariance:\n  - [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]\nangular_velocity:\n  x: 0.01330030487804878\n  y: 0.015893864329268294\n  z: 0.037307355182926834\nangular_velocity_covariance:\n  - [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]\nlinear_acceleration:\n  x: -0.5291185668945312\n  y: 0.031124621582031248\n  z: -9.610325463867188\nlinear_acceleration_covariance:\n  - [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]\n</code></pre>"},{"location":"erzekeles/practice/#kamera","title":"Kamera","text":"<p>Jellemz\u0151 <code>ROS 2</code> topic t\u00edpusok: <code>sensor_msgs/msg/Image</code>, <code>sensor_msgs/msg/CameraInfo</code></p> <pre><code>ros2 topic echo --once /lexus3/zed2i/zed_node/right_raw/image_raw_color\n\nheader:\n  stamp:\n    sec: 1695039047\n    nanosec: 340698516\n  frame_id: zed2i_right_camera_optical_frame\nheight: 720\nwidth: 1280\nencoding: bgra8\nis_bigendian: 0\nstep: 5120\ndata: 21,66,93,255,21,66,94,255,25,69,94,255,14,63,90,255,31,55,80,255,19,49,75,255,26,55,76,255,24,57,80,255,35,51,72,255,30,52,74,255,57,73,88,255,55,74,90,255,64,74,93,255,52,66,86,255,56,61,76,255,25,34,48,255,25,31,52,255,16,24,43,255,14,22,41,255,19,27,46,255,13,20,38,255,23,28,45,255,31,41,65,255,36,37,59,255,23,59,82,255,45,71,91,255,51,84,116,255,70,94,122,255,57,105,141,255,42,84,117,255,42,90,126,255,36,81,116,255,..\n</code></pre>"},{"location":"erzekeles/practice/#lidar","title":"LIDAR","text":"<p>Jellemz\u0151 <code>ROS 2</code> topic t\u00edpusok: <code>sensor_msgs/msg/PointCloud2</code>, <code>sensor_msgs/msg/LaserScan</code></p> <pre><code>ros2 topic echo --once /lexus3/os_center/points\n\nheader:\n  stamp:\n    sec: 1695039048\n    nanosec: 390894137\n  frame_id: lexus3/os_center_a_laser_data_frame\nheight: 64\nwidth: 1024\nfields:\n- name: x, y, z, intensity, t, reflectivity, ring, ambient, range\ndata: 0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,63,0,0,16,65,96,211,241,2,0,0,0,0,12,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,63,0,0,16,65,116,145,242,2,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,63,0,0,32,65,18,92,243,2,0,0,0,0,253,2,0,0,...,\n</code></pre>"},{"location":"erzekeles/practice/#vizualizacio","title":"Vizualiz\u00e1ci\u00f3","text":""},{"location":"erzekeles/practice/#rviz2","title":"RVIZ2","text":"<pre><code>ros2 run rviz2 rviz2\n</code></pre> <p>Alak\u00edtsunk ki hasonl\u00f3 elrendez\u00e9st:</p> <p></p>"},{"location":"erzekeles/practice/#foxglove-studio","title":"Foxglove studio","text":"<pre><code>ros2 launch foxglove_bridge foxglove_bridge_launch.xml port:=8765\n</code></pre> <p>Alak\u00edtsunk ki hasonl\u00f3 elrendez\u00e9st:</p> <p></p> <p>Forr\u00e1s: foxglove.dev/blog/introducing-foxglove-studios-new-navigation</p>"},{"location":"erzekeles/practice/#hozzuk-letre-a-simple_sub_cpp-package-t","title":"Hozzuk l\u00e9tre a <code>simple_sub_cpp</code> package-t","text":"<p>A k\u00f6vetkez\u0151kben egy egyszer\u0171 subscriber node fog feliratkozni <code>geometry_msgs/PoseStamped</code> \u00fczenetekre, majd ki\u00edrni az X \u00e9s az Y koordin\u00e1t\u00e1kat. A gyakorlat a hivatalos ROS 2 tutorialokon alapszik fel\u00e9p\u00edt\u00e9s\u00e9t tekintve.</p> <p>Nyissunk egy \u00faj termin\u00e1lt, \u00e9s source-oljuk a telep\u00edt\u00e9st, hogy a <code>ros2</code> parancsok m\u0171k\u00f6djenek.</p> <p>Navig\u00e1ljunk az m\u00e1r l\u00e9trehozott <code>ros2_ws</code> k\u00f6nyvt\u00e1rba.</p> <p>Fontos, hogy a csomagokat az <code>src</code> k\u00f6nyvt\u00e1rban kell l\u00e9trehozni, nem a munkater\u00fclet gy\u00f6ker\u00e9ben. Teh\u00e1t navig\u00e1ljunk a <code>ros2_ws/src</code> mapp\u00e1ba, \u00e9s futtassuk a package l\u00e9trehoz\u00f3 parancsot:</p> <pre><code>cd ~/ros2_ws/src\nros2 pkg create --build-type ament_cmake simple_sub_cpp\n</code></pre> <p>A termin\u00e1l egy \u00fczenetet k\u00fcld vissza, amely meger\u0151s\u00edti a <code>simple_sub_cpp</code> csomag \u00e9s az \u00f6sszes sz\u00fcks\u00e9ges f\u00e1jl \u00e9s mappa l\u00e9trehoz\u00e1s\u00e1t.</p>"},{"location":"erzekeles/practice/#irjuk-meg-a-subscriber-node-ot-print_posecpp-simple_sub_node","title":"\u00cdrjuk meg a subscriber node-ot (<code>print_pose.cpp</code> &gt;&gt; <code>simple_sub_node</code>)","text":"<p>L\u00e9pj\u00fcnk a <code>ros2_ws/src/simple_sub_cpp/src</code> mapp\u00e1ba.</p> <pre><code>cd ~/ros2_ws/src/simple_sub_cpp/src\n</code></pre> <p>Ez az a k\u00f6nyvt\u00e1r minden CMake package-ben, ahov\u00e1 a forr\u00e1sf\u00e1jlok tartoznak (pl. <code>.cpp</code> kiterjeszt\u00e9ssel).</p> <p>T\u00f6lts\u00fck le a p\u00e9lda feliratkoz\u00f3 k\u00f3dj\u00e1t:</p> <pre><code>wget -O print_pose.cpp https://raw.githubusercontent.com/sze-info/arj_packages/main/etc/print_pose.cpp\n</code></pre> <p>Ez a parancs l\u00e9trehozta a  <code>print_pose.cpp</code> f\u00e1jlt.</p> <p>L\u00e9pj\u00fcnk vissza egy szinttel: <code>cd ~/ros2_ws/src/simple_sub_cpp</code> k\u00f6nyvt\u00e1rba, ahol a <code>CMakeLists.txt</code> \u00e9s a <code>package.xml</code> f\u00e1jlok m\u00e1r l\u00e9trej\u00f6ttek. Nyissuk meg pl. VS code seg\u00edts\u00e9g\u00e9vel a mapp\u00e1t: <code>code .</code> parancs. Itt a <code>.</code> a <code>code</code> ut\u00e1n az aktu\u00e1lis mapp\u00e1t jelenti. Tipp: ha nem a k\u00f6nyvt\u00e1rban \u00e1lln\u00e1nk, akkor is lehets\u00e9ges teljes k\u00f6nyvt\u00e1rat megnyitni, ami k\u00e9s\u0151bb p\u00e1r dolgot egyszer\u0171s\u00edt:</p> <pre><code>code ~/ros2_ws/src/simple_sub_cpp/\n</code></pre> <p></p> <pre><code>// ros2 topic type /lexus3/gps/duro/current_pose\n// geometry_msgs/msg/PoseStamped\n// ros2 interface show geometry_msgs/msg/PoseStamped\n\n#include &lt;memory&gt;\n#include \"rclcpp/rclcpp.hpp\"\n#include \"geometry_msgs/msg/pose_stamped.hpp\"\n\nusing std::placeholders::_1;\n\nclass SimplePoseSub : public rclcpp::Node\n{\npublic:\n  SimplePoseSub() : Node(\"simple_pose_sub\")\n  {\n    sub1_ = this-&gt;create_subscription&lt;geometry_msgs::msg::PoseStamped&gt;(\"/lexus3/gps/duro/current_pose\", 10, std::bind(&amp;SimplePoseSub::topic_callback, this, _1));\n  }\n\nprivate:\n  void topic_callback(const geometry_msgs::msg::PoseStamped &amp;msg) const\n  {\n    RCLCPP_INFO(this-&gt;get_logger(), \"x: %.3f, y: %.3f\", msg.pose.position.x, msg.pose.position.y);\n  }\n  rclcpp::Subscription&lt;geometry_msgs::msg::PoseStamped&gt;::SharedPtr sub1_;\n};\n\nint main(int argc, char *argv[])\n{\n  rclcpp::init(argc, argv);\n  rclcpp::spin(std::make_shared&lt;SimplePoseSub&gt;());\n  rclcpp::shutdown();\n  return 0;\n}\n</code></pre> <p>Python megfelel\u0151je</p> <p>A C++ k\u00f3d python verzi\u00f3ja szint\u00e9n el\u00e9rhet\u0151 a github.com/sze-info/arj_packages c\u00edmen. \u00c9rdemes \u00f6sszehasonl\u00edtani a C++ \u00e9s a python k\u00f3dokat.</p>"},{"location":"erzekeles/practice/#fuggosegek-hozzaadasa","title":"F\u00fcgg\u0151s\u00e9gek hozz\u00e1ad\u00e1sa","text":"<p>Mindig \u00e9rdemes kit\u00f6lteni a <code>&lt;description&gt;</code>, <code>&lt;maintainer&gt;</code> \u00e9s <code>&lt;license&gt;</code> tag-eket:</p> <pre><code>&lt;description&gt;Examples of minimal publisher/subscriber using rclcpp&lt;/description&gt;\n&lt;maintainer email=\"you@email.com\"&gt;Your Name&lt;/maintainer&gt;\n&lt;license&gt;Apache License 2.0&lt;/license&gt;\n</code></pre> <p>Adjunk hozz\u00e1 egy \u00faj sort az <code>ament_cmake</code> buildtool f\u00fcgg\u0151s\u00e9ge ut\u00e1n, \u00e9s illessz\u00fck be a k\u00f6vetkez\u0151 f\u00fcgg\u0151s\u00e9geket a node include utas\u00edt\u00e1sainak megfelel\u0151en:</p> <pre><code>&lt;depend&gt;rclcpp&lt;/depend&gt;\n&lt;depend&gt;geometry_msgs&lt;/depend&gt;\n</code></pre> <p>Ez deklar\u00e1lja, hogy a pacakge-nek sz\u00fcks\u00e9ges az <code>rclcpp</code> \u00e9s a <code>geometry_msgs</code> ford\u00edt\u00e1skor \u00e9s futtat\u00e1skor.</p>"},{"location":"erzekeles/practice/#cmakeliststxt","title":"CMakeLists.txt","text":"<p>Most nyissuk meg a <code>CMakeLists.txt</code> f\u00e1jlt. A megl\u00e9v\u0151 <code>find_package(ament_cmake REQUIRED)</code> f\u00fcgg\u0151s\u00e9g al\u00e1 adjuk hozz\u00e1 a k\u00f6vetkez\u0151 sorokat:</p> <pre><code>find_package(rclcpp REQUIRED)\nfind_package(geometry_msgs REQUIRED)\n</code></pre> <p>Ezut\u00e1n adjuk hozz\u00e1 a v\u00e9grehajthat\u00f3 f\u00e1jlt (ez most a <code>print_pose.cpp</code>-b\u0151l fog csak \u00e1llni), \u00e9s nevezz\u00fck el <code>simple_sub_node</code>-nak, hogy az <code>ros2 run</code> haszn\u00e1lat\u00e1val futtassa a node-ot:</p> <pre><code>add_executable(simple_sub_node src/print_pose.cpp)\nament_target_dependencies(simple_sub_node rclcpp geometry_msgs)\n</code></pre> <p>V\u00e9g\u00fcl az <code>install(TARGETS...)</code> r\u00e9szt adjuk hozz\u00e1, hogy az <code>ros 2</code> megtal\u00e1lja a futtathat\u00f3 \u00e1llom\u00e1nyt, amit leford\u00edtottunk:</p> <pre><code>install(TARGETS\nsimple_sub_node\nDESTINATION lib/${PROJECT_NAME})\n</code></pre> <p>A <code>CMakeLists.txt</code> megtiszt\u00edthat\u00f3 n\u00e9h\u00e1ny felesleges szakasz \u00e9s megjegyz\u00e9s elt\u00e1vol\u00edt\u00e1s\u00e1val, \u00edgy a k\u00f6vetkez\u0151k\u00e9ppen n\u00e9z ki:</p> <pre><code>cmake_minimum_required(VERSION 3.8)\nproject(simple_sub_cpp)\n\n# Default to C++14\nif(NOT CMAKE_CXX_STANDARD)\nset(CMAKE_CXX_STANDARD 14)\nendif()\n\nif(CMAKE_COMPILER_IS_GNUCXX OR CMAKE_CXX_COMPILER_ID MATCHES \"Clang\")\nadd_compile_options(-Wall -Wextra -Wpedantic)\nendif()\n\nfind_package(ament_cmake REQUIRED)\nfind_package(rclcpp REQUIRED)\nfind_package(geometry_msgs REQUIRED)\n\nadd_executable(simple_sub_node src/print_pose.cpp)\nament_target_dependencies(simple_sub_node rclcpp geometry_msgs)\n\ninstall(TARGETS\nsimple_sub_node\nDESTINATION lib/${PROJECT_NAME})\n\nament_package()\n</code></pre> <p>\u00d6sszefoglal\u00e1sk\u00e9pp, a k\u00f6vetkez\u0151 m\u00f3dos\u00edt\u00e1sokat hajtottuk v\u00e9gre:</p> <p></p> <p></p>"},{"location":"erzekeles/practice/#build-es-futtatas","title":"Build \u00e9s futtat\u00e1s","text":"<p>Success</p> <p>M\u00e1r buildelhet\u0151 a package:</p> <pre><code>cd ~/ros2_ws/\ncolcon build --packages-select simple_sub_cpp\n</code></pre> <p>Futtassuk a szok\u00e1sos m\u00f3don:</p> <pre><code>source ~/ros2_ws/install/setup.bash\nros2 run simple_sub_cpp simple_sub_node\n</code></pre> <p>Kimenet:</p> <pre><code>[simple_pose_sub]: x: 697201.725, y: 5285679.845\n[simple_pose_sub]: x: 697201.796, y: 5285679.548\n[simple_pose_sub]: x: 697201.838, y: 5285679.251\n[simple_pose_sub]: x: 697201.886, y: 5285678.949\n</code></pre>"},{"location":"erzekeles/practice/#forrasok","title":"Forr\u00e1sok","text":"<ul> <li>docs.ros.org/en/humble/Tutorials/Beginner-Client-Libraries/Creating-Your-First-ROS2-Package.html</li> <li>docs.ros.org/en/humble/Tutorials/Beginner-Client-Libraries/Writing-A-Simple-Cpp-Publisher-And-Subscriber.html</li> <li>docs.ros.org/en/humble/Tutorials/Beginner-Client-Libraries/Writing-A-Simple-Py-Publisher-And-Subscriber.html</li> </ul>"},{"location":"eszleles/","title":"\u00c9szlel\u00e9s","text":"<p>Az \u00e9szlel\u00e9s (perception) az \u00e9rz\u00e9kelt nyers adatokb\u00f3l t\u00f6rt\u00e9n\u0151 inform\u00e1ci\u00f3 kinyer\u00e9se. </p> <p></p> <p>Az \u00e9szlel\u00e9s c\u00e9lja lehet:</p> <ul> <li>Objektumfelismer\u00e9s (detekci\u00f3), pl: <ul> <li>Gyalogos, biciklis j\u00e1rm\u0171 felimer\u00e9s </li> <li>T\u00e1bla felismer\u00e9s, jelz\u0151l\u00e1mpa felismer\u00e9s</li> <li>Vezethet\u0151 fel\u00fclet \u00e9s fogalmi s\u00e1v felismer\u00e9s (lokaliz\u00e1ci\u00f3hoz \u00e9s tervez\u00e9shez is)</li> </ul> </li> <li>Objektumklasszifik\u00e1ci\u00f3:<ul> <li>A m\u00e1r felismert objektumok oszt\u00e1lyz\u00e1sa. Pl a jelz\u0151l\u00e1mpa milyen sz\u00edn\u0171 \u00e9ppen, melyik j\u00e1rm\u0171 kisteheraut\u00f3 \u00e9s melyik lovaskocsi.</li> </ul> </li> <li>Objektum k\u00f6vet\u00e9s \u00e9s predikci\u00f3: <ul> <li>Merre haladtak eddig a j\u00e1rm\u0171vek, gyalogosok illetve becsl\u00e9s, hogy merre haladnak majd a j\u00f6v\u0151ben. Ez \u00f6sszef\u00fcgghet a klasszifik\u00e1ci\u00f3val, hiszen b\u00e1r egy lovaskocsi m\u00e9retre hasonl\u00f3 egy ut\u00e1nfut\u00f3s aut\u00f3hoz, m\u00e9gis eg\u00e9sz m\u00e1s gyorsul\u00e1sra k\u00e9pes. Az \u00edgy gy\u0171jt\u00f6tt infrom\u00e1ci\u00f3nak megfele\u0151en lehet \u00fatvonalat, tarjekt\u00f3ri\u00e1t tevezni.   </li> </ul> </li> <li>Lokaliz\u00e1ci\u00f3 \u00e9s t\u00e9rk\u00e9p\u00e9p\u00edt\u00e9s<ul> <li>SLAM: nem illetve nem csak GNSS alap\u00fa helymeghat\u00e1roz\u00e1s kieg\u00e9sz\u00edt\u00e9se lok\u00e1lis t\u00e9rk\u00e9pp k\u00e9sz\u00edt\u00e9ssel. LOAM: LIDAR alap\u00fa odometria.</li> </ul> </li> </ul> <p>A felhaszn\u00e1lt szenzorok alapj\u00e1n lehet: - LIDAR - Kamera - Radar - IMU - GNSS/GPS - Mikrofon - A fenti szenzorok tetsz\u0151leges kombin\u00e1ci\u00f3ja</p> <p>Danger</p> <p>Magyar nyelven k\u00f6nny\u0171 \u00f6sszekeverni az \u00e9rz\u00e9kel\u00e9s (sensing) \u00e9s az \u00e9szlel\u00e9s (perception) foglamakat. Az \u00e9szlel\u00e9s \u00f6sszetett funkci\u00f3 a nyers adatokb\u00f3l feldolgozott, \u00e9rtelmezett kimenet el\u0151\u00e1ll\u00edt\u00e1s\u00e1val foglakozik.</p> <pre><code>flowchart LR\n\nL[Tervez\u00e9s]:::light\n\nsubgraph Perception [\u00c9szlel\u00e9s]\n  T[T\u00e9rk\u00e9pez\u00e9s]:::light \n  H[Lokaliz\u00e1ci\u00f3]:::light\n  P[Objektum\n  predikci\u00f3]:::light \n  D[Objektum\n  detekci\u00f3]:::light\n  K[Objektum \n  klasszifik\u00e1ci\u00f3]:::light\n  D--&gt;K\nend\nsubgraph Sensing [\u00c9rz\u00e9kel\u00e9s]\n  GPS[GPS/GNSS]:::light -.-&gt; T\n  GPS -.-&gt; H\n  LIDAR[LIDAR]:::light\n  KAM[Kamera]:::light\n  IMU[IMU]:::light\n  LIDAR -.-&gt; D\n  LIDAR -.-&gt; P\n  LIDAR -.-&gt; T\n  KAM-.-&gt; P\n  KAM-.-&gt; D\n  IMU-.-&gt; T\n  D-.-&gt;P\nend\n\nT --&gt;|t\u00e9rk\u00e9p| L\nH --&gt;|pose| L\nP --&gt;|obj.| L\nK --&gt;|obj.| L\n\n\nclassDef light fill:#34aec5,stroke:#152742,stroke-width:2px,color:#152742  \nclassDef dark fill:#152742,stroke:#34aec5,stroke-width:2px,color:#34aec5\nclassDef white fill:#ffffff,stroke:#152742,stroke-width:2px,color:#152742\nclassDef red fill:#ef4638,stroke:#152742,stroke-width:2px,color:#fff\n</code></pre> <p>Ez a tananyagr\u00e9sz a TU M\u00fcnchen Autonomous Driving Software Engineering tant\u00e1rgy tananyag\u00e1n alapszik, amit az Institute of Automotive Technology int\u00e9zet munkat\u00e1rsai \u00e1ll\u00edtottak \u00f6ssze. Az \u00f3rai vide\u00f3 el\u00e9rhet\u0151 n\u00e9met nyelven:</p>"},{"location":"eszleles/#kihivasok-nehezsegek","title":"Kih\u00edv\u00e1sok, neh\u00e9zs\u00e9gek","text":"<p>Sz\u00e1mos kih\u00edv\u00e1s nehez\u00edtheti a felismer\u00e9st illetve annak pontoss\u00e1g\u00e1t: - Id\u0151j\u00e1r\u00e1s (es\u0151, h\u00f3, k\u00f6d, ...) - Napszak (\u00e9jszaka, naplemente, napfelkelte ...) - Takar\u00e1s (objektumok csak r\u00e9szlegesen l\u00e1tszanak) - Sz\u00e1m\u00edt\u00e1si id\u0151 (nagyobb sebess\u00e9gekn\u00e9l hatv\u00e1nyozottan) - K\u00fcl\u00f6nb\u00f6z\u0151 k\u00f6nyezetek (v\u00e1rosi, aut\u00f3p\u00e1lya, erd\u0151s szakasz ...)</p>"},{"location":"eszleles/#use-case-esettanulmanyok","title":"Use case (esettanulm\u00e1nyok)","text":"<p>Mivel az \u00e9szlel\u00e9s minden egyes aspektus\u00e1t neh\u00e9z lenne bemutani, ink\u00e1bb p\u00e1r use-case seg\u00edts\u00e9g\u00e9vel mutatn\u00e1nk be.</p>"},{"location":"eszleles/#kamera-alapu-jelzolampa-klasszifikacio","title":"Kamera-alap\u00fa jelz\u0151l\u00e1mpa klasszifik\u00e1ci\u00f3","text":"<p>Mesters\u00e9ges intelligencia (neur\u00e1lis h\u00e1l\u00f3: YOLOv7) seg\u00edts\u00e9g\u00e9vel kamerak\u00e9p feldolgoz\u00e1s. </p>"},{"location":"eszleles/#lidar-alapu-egyszeru-magassag-szures","title":"LIDAR-alap\u00fa egyszer\u0171 magass\u00e1g sz\u0171r\u00e9s","text":"<p>A gyakorlaton is el\u0151ker\u00fcl\u0151 feladat egyszer\u0171 LIDAR sz\u0171r\u00e9s, X, Y \u00e9s Z koordin\u00e1t\u00e1k szerint. Mivel a LIDAR a 3D k\u00f6rnyezet egyszer\u0171 reprezent\u00e1ci\u00f3j\u00e1t adja bizonyos szempontb\u00f3l k\u00f6nnyebb dolgunk van vele, mint a kamer\u00e1val. Gyakori technol\u00f3gia, hogy az \u00fat szintj\u00e9t sz\u0171rik ki a LIDAR adatb\u00f3l(ground-segmentation), majd a marad\u00e9k pontok (non-ground) jelentik az \u00f6sszes objektumot. Itt egy sokkal egyszer\u0171bb technol\u00f3gi\u00e1t demonstr\u00e1lunk:</p> <p></p>"},{"location":"eszleles/#klaszterezes","title":"Klaszterez\u00e9s","text":"<p>Miut\u00e1n az \u00fat szintj\u00e9t kisz\u0171rt\u00fck a LIDAR adatb\u00f3l (ground-segmentation), \u00fat pontok (ground) \u00e9s marad\u00e9k pontok (non-ground) keletkeztek. A non-ground pontokat term\u00e9szetesen klaszterezni (cluster) kell, hogy kialakuljanak az objektumokat le\u00edr\u00f3 pontok. A klaszterez\u00e9s l\u00e9nyege, hogy egy adott objektum (pl egy aut\u00f3) pontjai egym\u00e1shoz k\u00f6zel \u00e1llnak.</p> <p></p> <p>Forr\u00e1s: codeahoy.com</p>"},{"location":"eszleles/#szenzorfuzio","title":"Szenzorf\u00fazi\u00f3","text":"<p>A k\u00f6vetkez\u0151 vide\u00f3 egy val\u00f3 \u00e9letb\u0151l vett p\u00e9ld\u00e1n kereszt\u00fcl mutatja be az \u00e9szlel\u00e9st.</p>"},{"location":"eszleles/#lidar-alapu-utfelulet-padka-detekcio","title":"LIDAR-alap\u00fa \u00fatfel\u00fclet / padka detekci\u00f3","text":"<p>Egyetem\u00fcnk egyik saj\u00e1t fejleszt\u00e9s\u0171 algoritmusa.</p>"},{"location":"eszleles/#lidar-alapu-objektum-kovetes-es-predikcio","title":"LIDAR-alap\u00fa objektum k\u00f6vet\u00e9s \u00e9s predikci\u00f3","text":""},{"location":"eszleles/#slam-lidar-es-kamera-fuzio","title":"SLAM LIDAR \u00e9s kamera f\u00fazi\u00f3","text":"<p>A Simultaneous Localization and Mapping (SLAM) l\u00e9nyege, hogy egy mozg\u00f3 rendszer (robot vagy j\u00e1rm\u0171) poz\u00edci\u00f3j\u00e1t \u00e9s a k\u00f6rnyezet\u00e9t t\u00e9rk\u00e9pezze egyszerre, mik\u00f6zben navig\u00e1l.</p>"},{"location":"eszleles/#forrasok","title":"Forr\u00e1sok","text":"<ul> <li>github.com/TUMFTM/Lecture_ADSE</li> <li>Kim and Kum (2019) \u2013 Deep Learning based Vehicle Position and Orientation Estimation via Inverse Perspective Mapping Image</li> <li>Object Perception: LIDAR youtube APEX AI</li> <li>Object Perception: CAMERA youtube APEX AI</li> <li>Object Perception: Radar youtube APEX AI</li> </ul>"},{"location":"eszleles/ground_filter/","title":"Ground filter","text":"<p>El\u00e9rhet\u0151: - url-kaist/patchwork-plusplus-ros/tree/ROS2 - github.com/MohamedHussein736/patchwork-plusplus-ros/tree/ROS2 - github.com/jkk-research/patchwork-plusplus-ros az eredeti repo forkja, ami csak az ROS 2-es brenchet tartalmazza, az eredeti Urban Robotics Lab repora a SZE-JKK pull request-j\u00e9t mergelt\u00e9k.</p> <pre><code>cd ~/ros2_ws/src\n</code></pre> <pre><code>git clone https://github.com/jkk-research/patchwork-plusplus-ros\n</code></pre> <pre><code>cd ~/ros2_ws/src\n</code></pre> <pre><code>colcon build --packages-select patchworkpp\n</code></pre> <pre><code>ros2 launch patchworkpp demo.launch\n</code></pre> <p>TODO</p> <pre><code>ros2 bag play kitti_00_sample.db3\n</code></pre>"},{"location":"eszleles/practice/","title":"El\u0151k\u00e9sz\u00fcletek","text":"<p>Kor\u00e1bbi gyakorlaton megismerkedt\u00fcnk a rosbag form\u00e1tummal (ROS 2-ben a form\u00e1tum m\u00e1r <code>.mcap</code>). </p> <p>El\u0151k\u00e9sz\u00fcletk\u00e9nt n\u00e9zz\u00fck meg, hogy l\u00e9tezik-e a <code>C:\\temp</code> k\u00f6nyvt\u00e1r</p> <p><pre><code>test -d \"/mnt/c/temp\" &amp;&amp; echo Letezik || echo Nem letezik\n</code></pre> Vagy egyszer\u0171bben: <pre><code>ls /mnt/c/temp\n</code></pre></p> <ul> <li>Ha nem l\u00e9tezik (<code>No such file or directory</code>), akkor hozzuk l\u00e9tre: <code>mkdir /mnt/c/temp</code></li> <li>Ha l\u00e9tezik, akkor nincs teend\u0151nk, l\u00e9pj\u00fcnk a k\u00f6vetkez\u0151 l\u00e9p\u00e9sre, m\u00e1soljuk \u00e1t ide az <code>.mcap</code> f\u00e1jlokat</li> </ul> <p>Tanteremben a m\u00e1sol\u00e1s a k\u00f6vetkez\u0151 parancsok egyike legyen:</p> <pre><code>rsync -avzh --progress /mnt/kozos/measurement_files/lexus3sample01.mcap  /mnt/c/temp/\n</code></pre> <pre><code>rsync -avzh --progress /mnt/kozos/measurement_files/lexus3sample02.mcap  /mnt/c/temp/\n</code></pre> <pre><code>rsync -avzh --progress /mnt/kozos/measurement_files/lexus3sample03.mcap  /mnt/c/temp/\n</code></pre> <pre><code>rsync -avzh --progress /mnt/kozos/measurement_files/lexus3sample04.mcap  /mnt/c/temp/\n</code></pre> <p>Otthon a k\u00f6vetkez\u0151 linkr\u0151l (z\u00f6ld gomb), vagy parancsk\u00e9nt <code>wget</code>-el lehet let\u00f6lteni:</p> <pre><code>wget  -O lexus3sample02.mcap https://laesze-my.sharepoint.com/:u:/g/personal/herno_o365_sze_hu/EakTOhcjblNInqjRMfaGVmsB0diDv0SWpXw9rwo0MD7f3w?download=1\n</code></pre> <p>Rosbag let\u00f6lt\u00e9se 300 MB </p>"},{"location":"eszleles/practice/#1-feladat","title":"<code>1.</code> feladat","text":"<p>A feladat egyszer\u0171 LIDAR sz\u0171r\u00e9s, X, Y \u00e9s Z koordin\u00e1t\u00e1k szerint.</p> <p></p> <p>Ha m\u00e9g nem tett\u00fck volna, kl\u00f3nozzuk az <code>arj_packages</code> repot \u00e9s buildelj\u00fck az <code>arj_simple_perception</code> package-t.</p> <pre><code>cd ~/ros2_ws/src\n</code></pre> <pre><code>git clone https://github.com/sze-info/arj_packages\n</code></pre> <p>Ha m\u00e1r l\u00e9tezik, akkor az el\u0151z\u0151 l\u00e9p\u00e9s helyett, csak friss\u00edts\u00fck.</p> <pre><code>cd ~/ros2_ws/src/arj_packages/\n</code></pre> <pre><code>git status\n</code></pre> <pre><code>git checkout -- .\n</code></pre> <p><pre><code>git pull\n</code></pre> A <code>git checkout -- .</code> az \u00f6sszes esetleges lok\u00e1lis v\u00e1ltoz\u00e1s visszavon\u00e1s\u00e1ra j\u00f3.</p> <pre><code>cd ~/ros2_ws\n</code></pre> <pre><code>MAKEFLAGS=\"-j4\" colcon build --packages-select arj_simple_perception --cmake-args -DCMAKE_BUILD_TYPE=Release\n</code></pre> <p>Tip</p> <p>A klasszikus <code>colcon build --packages-select arj_simple_perception</code> is m\u0171k\u00f6dik, csup\u00e1n egy kicsit lassabb, ez\u00e9rt haszn\u00e1ljuk most a build flageket.</p> <pre><code>source ~/ros2_ws/install/setup.bash\n</code></pre> <pre><code>ros2 run arj_simple_perception lidar_filter_simple\n</code></pre> <pre><code>ros2 bag play /mnt/c/temp/lexus3sample02.mcap --loop --clock --rate 0.5 --read-ahead-queue-size 2048\n</code></pre> <p>N\u00e9zz\u00fck meg, hogy a k\u00f6vetkez\u0151 toicok l\u00e9teznek-e? - <code>/lexus3/os_center/points</code> - <code>/lidar_filter_output</code></p> <pre><code>ros2 topic list\n</code></pre> <p>K\u00e9rdezz\u00fck le a topicok t\u00edpus\u00e1t.</p> <pre><code>ros2 topic type /lidar_filter_output\n</code></pre> <pre><code>ros2 topic type /lexus3/os_center/points\n</code></pre> <p>Mindk\u00e9t esetben <code>sensor_msgs/msg/PointCloud2</code> kell, hogy legyen.</p> <p>Vizsg\u00e1ljuk meg k\u00f6zelebbr\u0151l a node-ot.</p> <pre><code>ros2 node info /lidar_filter_simple\n</code></pre> <pre><code>Subscribers:\n    /lexus3/os_center/points: sensor_msgs/msg/PointCloud2\n    /parameter_events: rcl_interfaces/msg/ParameterEvent\nPublishers:\n    /lidar_filter_output: sensor_msgs/msg/PointCloud2\n    /parameter_events: rcl_interfaces/msg/ParameterEvent\n    /rosout: rcl_interfaces/msg/Log\n</code></pre> <p>\u00daj terminalban vizsg\u00e1ljuk meg a gr\u00e1fot:</p> <pre><code>ros2 run rqt_graph rqt_graph\n</code></pre> <p></p>"},{"location":"eszleles/practice/#2-feladat","title":"<code>2.</code> feladat","text":"<p>Nyissuk meg VS code-ban a package-t:</p> <pre><code>code ~/ros2_ws/src/arj_packages/arj_simple_perception\n</code></pre> <p>Hasnol\u00edtsuk \u00f6ssze a <code>lidar_filter_simple_param.cpp</code>-t a <code>lidar_filter_simple.cpp</code>-vel. Vs code jobb kilikk a f\u00e1jlon <code>Select for compare</code> \u00e9s <code>Compare with Selected</code>.</p> <p></p> <p>Az el\u0151z\u0151 feladatban haszn\u00e1lt egyszer\u0171 filter minimum \u00e9s maximum X,Y,Z \u00e9rt\u00e9keit dinamikusan v\u00e1ltoztassuk.</p> <pre><code>source ~/ros2_ws/install/setup.bash\n</code></pre> <pre><code>ros2 run arj_simple_perception lidar_filter_simple_param\n</code></pre> <pre><code>source ~/ros2_ws/install/setup.bash\n</code></pre> <pre><code>ros2 launch arj_simple_perception run_rviz1.launch.py\n</code></pre> <p>\u00c1ll\u00edtsuk \u00e1t a param\u00e9tereket:</p> <pre><code>ros2 run rqt_reconfigure rqt_reconfigure\n</code></pre> <p>A 3 terminal helyett haszn\u00e1lhatunk egy <code>launch</code> f\u00e1jlt is: <pre><code>source ~/ros2_ws/install/setup.bash\n</code></pre></p> <pre><code>ros2 launch arj_simple_perception run_all.launch.py\n</code></pre> <p>Nagyj\u00e1b\u00f3l \u00edgy fog kin\u00e9zni az <code>rqt_reconfigure</code> meg az <code>rviz2</code>:</p> <p></p>"},{"location":"eszleles/practice/#onallo-feladat-1","title":"\u00d6n\u00e1ll\u00f3 feladat 1","text":"<p>\u00cdrjunk egy launch f\u00e1jlt, nevezz\u00fck <code>run_fliter_and_rviz.launch.py</code>-nak, ami a filtert \u00e9s az rviz configot ind\u00edtja. \u00cdgy lehessen ind\u00edtani:</p> <pre><code>ros2 launch arj_simple_perception run_fliter_and_rviz.launch.py\n</code></pre>"},{"location":"eszleles/practice/#onallo-feladat-2","title":"\u00d6n\u00e1ll\u00f3 feladat 2","text":"<p>M\u00f3dos\u00edtsuk a <code>lidar_filter_simple_param.cpp</code>-t, \u00fagy, hogy amennyiben a minimum \u00e9rt\u00e9k nagyobb, mint a maximum, akkor is m\u0171k\u00f6dj\u00f6n. Ebben az esetben kezelje a minimum \u00e9rt\u00e9ket maximumk\u00e9nt \u00e9s ford\u00edtva.</p> <p>\u00cdrjon ki egy <code>warning</code> \u00fczenetet.</p> <pre><code>if ...\nRCLCPP_WARN_STREAM(this-&gt;get_logger(), \"Minimum is bigger than maximum, inverse usage.\");\n</code></pre>"},{"location":"eszleles/practice/#utolso-lepesek","title":"Utols\u00f3 l\u00e9p\u00e9sek","text":"<p>A tanteremben \u00e1ll\u00edtsuk vissza az eredeti \u00e1llapotot. (Otthon commitolhatjuk saj\u00e1t repo-ba, ha szeretn\u00e9nk.)</p> <p><pre><code>cd ~/ros2_ws/src/arj_packages/\n</code></pre> <pre><code>git status\n</code></pre> A <code>git checkout -- .</code>: Minden nem staged (unstaged) v\u00e1ltoz\u00e1s elvet\u00e9se lok\u00e1lisan. VS code-ban kb ez a \"discard all changes\" parancs lenne. <pre><code>git checkout -- .\n</code></pre> N\u00e9zz\u00fck \u00fajra a st\u00e1tuszt:</p> <pre><code>git status\n</code></pre> <pre><code>git pull\n</code></pre>"},{"location":"eszleles/practice_cluster/","title":"ROS 2 LIDAR klaszterez\u00e9s","text":"<p>A r\u00f6vid gyakorlat / workshop c\u00e9lja, hogy a LIDAR adatok objektumokk\u00e1 t\u00f6rt\u00e9n\u0151 sz\u0171r\u00e9s\u00e9t bemutassa. Teh\u00e1t az egyes LIDAR pontob\u00f3l nagyobb objektumoat / klasztereket k\u00e9sz\u00edt\u00fcnk. Ezek az objektumok lehetnek gyalogosok, aut\u00f3k, \u00e9p\u00fcletek stb. A gyakorlat ROS 2 kompatibilis. </p>"},{"location":"eszleles/practice_cluster/#kovetelmenyek-magas-szintu-attekintes","title":"K\u00f6vetelm\u00e9nyek (magas szint\u0171 \u00e1ttekint\u00e9s)","text":"<ol> <li>ROS 2 Humble: \ud83d\udfe0 l\u00e1sd a kor\u00e1bbi tananyagok vagy a docs.ros.org/en/humble/Installation.html</li> <li>Logf\u00e1jl nyers LIDAR adatokkal (MCAP form\u00e1tum, bag) \u2705</li> <li>A <code>patchworkpp</code> csomag az alaps\u00edk kisz\u0171r\u00e9s\u00e9re \u2705</li> <li>A <code>lidar_cluster</code> csomag a klaszterez\u00e9s v\u00e9grehajt\u00e1s\u00e1hoz \u2705</li> </ol>"},{"location":"eszleles/practice_cluster/#video-attekintese","title":"Vide\u00f3 \u00e1ttekint\u00e9se","text":"<p>A k\u00f6vetkez\u0151 k\u00e9perny\u0151felv\u00e9tel bemutatja a sz\u00fcks\u00e9ges l\u00e9p\u00e9seket:</p>"},{"location":"eszleles/practice_cluster/#1-lepes-toltsuk-le-a-nyers-adatokat","title":"<code>1. l\u00e9p\u00e9s.</code> - T\u00f6lts\u00fck le a nyers adatokat","text":"<p>A LIDAR adatok klaszterez\u00e9s\u00e9hez el\u0151sz\u00f6r \u2013 nem meglep\u0151 m\u00f3don \u2013 LIDAR adatokra van sz\u00fcks\u00e9g. Haszn\u00e1lja a k\u00f6vetkez\u0151 3 lehet\u0151s\u00e9g valamelyik\u00e9t.</p>"},{"location":"eszleles/practice_cluster/#a-lehetoseg-mcap-letoltese-az-alabbi-linkrol","title":"<code>A lehet\u0151s\u00e9g</code>: MCAP let\u00f6lt\u00e9se az al\u00e1bbi linkr\u0151l","text":"<p>Download MCAP [~540MB]  </p> <p>P\u00e9ld\u00e1inkban az <code>.mcap</code> f\u00e1jl a <code>/mnt/c/bag/</code> mapp\u00e1ba ker\u00fcl ment\u00e9sre. Ha m\u00e1sik k\u00f6nyvt\u00e1rat szeretne haszn\u00e1lni, k\u00e9rj\u00fck, m\u00f3dos\u00edtsad azt ennek megfelel\u0151en.</p>"},{"location":"eszleles/practice_cluster/#b-lehetoseg-toltsuk-le-mcap-unkat-a-terminaljan-keresztul","title":"<code>B lehet\u0151s\u00e9g</code>: T\u00f6lts\u00fck le MCAP-unkat a termin\u00e1lj\u00e1n kereszt\u00fcl","text":"Ne felejtse el el\u0151sz\u00f6r a k\u00f6nyvt\u00e1rat m\u00f3dos\u00edtani.  Eset\u00fcnkben a `/mnt/c/bag/` a hely, ahova tenni fogjuk:  <pre><code>cd /mnt/c/bag/\n</code></pre> <pre><code>wget https://laesze-my.sharepoint.com/:u:/g/personal/herno_o365_sze_hu/Eclwzn42FS9GunGay5LPq-EBA6U1dZseBFNDrr6P0MwB2w?download=1  -O lexus3-2024-04-05-gyor.mcap\n</code></pre>"},{"location":"eszleles/practice_cluster/#c-lehetoseg-sajat-mcap-hasznalata","title":"<code>C lehet\u0151s\u00e9g</code>: Saj\u00e1t MCAP haszn\u00e1lata","text":"<p>Haszn\u00e1lhatunk saj\u00e1t MCAP f\u00e1jt, de ebben az esetben a k\u00f6vetkez\u0151ket kell m\u00f3dos\u00edtani:</p> <ul> <li>A LIDAR topic</li> <li>P\u00e9ld\u00e1nkban ez a <code>/lexus3/os_center/points</code></li> <li>LIDAR frame</li> <li>P\u00e9ld\u00e1nkban ez a <code>lexus3/os_center_a_laser_data_frame</code></li> </ul> <p>K\u00e9s\u0151bb se felejts\u00fck el friss\u00edteni ezeket a tov\u00e1bbi l\u00e9p\u00e9sekben.</p>"},{"location":"eszleles/practice_cluster/#ellenorizzuk-a-nyers-adatokat","title":"Ellen\u0151rizz\u00fck a nyers adatokat","text":"<p>J\u00e1tsszuk le a bag-et k\u00f6vetkez\u0151h\u00f6z hasonl\u00f3 paranccsal: <pre><code>ros2 bag play /mnt/c/bag/lexus3-2024-04-05-gyor.mcap -l\n</code></pre></p> <p>Info</p> <p>Az <code>-l</code> kapcsol\u00f3 a <code>play</code> parancsban v\u00e9gtelen\u00edtett lej\u00e1tsz\u00e1st jelent.</p> <p>Success</p> <p>Ha minden a v\u00e1rt m\u00f3don m\u0171k\u00f6dik, t\u00f6bb topicot kellene l\u00e1tnunk egy m\u00e1sik termin\u00e1lon   Topic-ok Egy m\u00e1sik termin\u00e1lkiad\u00e1sban a k\u00f6vetkez\u0151 parancsot adjuk ki: <p><pre><code>ros2 topic list\n</code></pre> Hasonl\u00f3 topiclist\u00e1t kellene l\u00e1tni:</p> <p><pre><code>/clock\n/events/read_split\n/lexus3/gps/duro/current_pose\n/lexus3/gps/duro/imu\n/lexus3/gps/duro/mag\n/lexus3/gps/duro/navsatfix\n/lexus3/gps/duro/status_flag\n/lexus3/gps/duro/status_string\n/lexus3/gps/duro/time_diff\n/lexus3/gps/duro/time_ref\n/lexus3/os_center/points\n/lexus3/os_left/points\n/lexus3/os_right/points\n/lexus3/zed2i/zed_node/left/image_rect_color/compressed\n/parameter_events\n/rosout\n/tf\n/tf_static   \n</code></pre> </p> <p>Also there must be at least one <code>sensor_msgs/msg/PointCloud2</code>, check with: <pre><code> ros2 topic type /lexus3/os_center/points\n</code></pre> Result: <pre><code>sensor_msgs/msg/PointCloud2\n</code></pre></p>"},{"location":"eszleles/practice_cluster/#2-lepes-ros-2-package-ek-telepitese","title":"<code>2. l\u00e9p\u00e9s</code> - <code>ROS 2</code> package-ek telep\u00edt\u00e9se","text":"<p>Info</p> <p>Amennyiben nincs <code>~/ros2_ws/</code> workspace, a k\u00f6vetkez\u0151 parancsara lesz sz\u00fcks\u00e9g\u00fcnk: <pre><code>mkdir -p ~/ros2_ws/src\n</code></pre> Ett\u0151l elt\u00e9r\u0151 workspace n\u00e9v szerint \u00e9rtelemszer\u0171en m\u00f3dos\u00edtani kell a k\u00f6vetkez\u0151 parancsokat is.</p>"},{"location":"eszleles/practice_cluster/#clone-patchworkpp-package","title":"Clone <code>patchworkpp</code> package","text":"<p>A <code>patchwork-plusplus-ros</code> a Patchwork++ (@ IROS'22) ROS 2 csomagja, amely gyors \u00e9s robusztus LIDAR talajszegment\u00e1l\u00e1st biztos\u00edt. Javasoljuk a JKK-research fork-ot, amely n\u00e9h\u00e1ny fejleszt\u00e9st tartalmaz, vagy haszn\u00e1lhatjuk az eredeti KAIST v\u00e1ltozat\u00e1t is.</p> <p><pre><code>cd ~/ros2_ws/src\n</code></pre> <pre><code>git clone https://github.com/jkk-research/patchwork-plusplus-ros\n</code></pre> or <pre><code>git clone https://github.com/url-kaist/patchwork-plusplus-ros -b ROS2\n</code></pre></p>"},{"location":"eszleles/practice_cluster/#clone-lidar_cluster-package","title":"Clone <code>lidar_cluster</code> package","text":"<pre><code>cd ~/ros2_ws/src\n</code></pre> <pre><code>git clone https://github.com/jkk-research/lidar_cluster_ros2\n</code></pre>"},{"location":"eszleles/practice_cluster/#build-the-packages","title":"Build the packages","text":"<pre><code>cd ~/ros2_ws\n</code></pre> <pre><code>colcon build --packages-select patchworkpp lidar_cluster --symlink-install\n</code></pre>"},{"location":"eszleles/practice_cluster/#3-lepes-futtatas","title":"<code>3. l\u00e9p\u00e9s</code> - Futtat\u00e1s","text":""},{"location":"eszleles/practice_cluster/#milyen-az-elvart-mukodes","title":"Milyen az elv\u00e1rt m\u0171k\u00f6d\u00e9s?","text":"<pre><code>graph TD;\n\n    p1[ /lexus3/os_center/points&lt;br/&gt;sensor_msgs::PointCloud2]:::white --&gt; patchwork([ /patchwork_node]):::light\n    patchwork --&gt; p\n    p[ /nonground&lt;br/&gt;sensor_msgs::PointCloud2]:::white --&gt; cluster([ /cluster_node]):::light\n    cluster --&gt; f1[ /clustered_points&lt;br/&gt;sensor_msgs::PointCloud2]:::white\n    cluster --&gt; f2[ /clustered_marker&lt;br/&gt;visualization_msgs::MarkerArray]:::white\n    classDef light fill:#34aec5,stroke:#152742,stroke-width:2px,color:#152742  \n    classDef dark fill:#152742,stroke:#34aec5,stroke-width:2px,color:#34aec5\n    classDef white fill:#ffffff,stroke:#152742,stroke-width:2px,color:#15274\n    classDef dash fill:#ffffff,stroke:#152742,stroke-width:2px,color:#15274, stroke-dasharray: 5 5\n    classDef red fill:#ef4638,stroke:#152742,stroke-width:2px,color:#fff</code></pre>  Ne felejts\u00fcnk el source-olni <pre><code>source ~/ros2_ws/install/setup.bash\n</code></pre> <pre><code>ros2 bag play /mnt/c/bag/lexus3-2024-04-05-gyor.mcap -l\n</code></pre> <p><pre><code>ros2 launch patchworkpp demo.launch.py  cloud_topic:=/lexus3/os_center/points cloud_frame:=lexus3/os_center_a_laser_data_frame\n</code></pre> Haszn\u00e1ljuk a k\u00f6vetkez\u0151 klaszterez\u00e9si algoritmusok egyik\u00e9t:</p> <p><pre><code>ros2 launch lidar_cluster dbscan_spatial.launch.py\n</code></pre> A DBSCAN (Density-Based Spatial Clustering of Applications with Noise) egy nem-grid-alap\u00fa klaszterez\u00e9si algoritmus. Egy modern 6 magos vagy jobb CPU-n legal\u00e1bb 10 Hz-es teljes\u00edtm\u00e9nyre sz\u00e1m\u00edthatunk.</p> <p><pre><code>ros2 launch lidar_cluster euclidean_spatial.launch.py\n</code></pre> Nem-grid klaszterez\u00e9s euklideszi t\u00e1vols\u00e1g alapj\u00e1n. Egy modern 6 magos vagy jobb CPU-n legal\u00e1bb 5 Hz-es teljes\u00edtm\u00e9nyre sz\u00e1m\u00edthatunk. </p> <p><pre><code>ros2 launch lidar_cluster euclidean_grid.launch.py\n</code></pre> Voxel grid alap\u00fa klaszterez\u00e9s az euklideszi t\u00e1vols\u00e1g alapj\u00e1n. Egy modern 6 magos vagy jobb CPU-n legal\u00e1bb 100 Hz-es teljes\u00edtm\u00e9nyre sz\u00e1m\u00edthatunk.</p> <pre><code>ros2 launch lidar_cluster rviz02.launch.py\n</code></pre> <p>Success</p> <p>Ha minden a v\u00e1rt m\u00f3don m\u0171k\u00f6dik, hasonl\u00f3 rviz ablakot kell l\u00e1tnunk. </p>"},{"location":"eszleles/practice_cluster/#linkek","title":"Linkek","text":"<ul> <li>English version of clutering jkk-research.github.io/workshops/clustering_a</li> </ul>"},{"location":"eszleles/road_filter/","title":"Road filter","text":""},{"location":"eszleles/slam/","title":"SLAM \u00e9s LOAM","text":"<p>Simultaneous localization and mapping (SLAM) \u00e9s LIDAR-based odometry and or mapping (LOAM).</p> <p>Egy gy\u0151ri m\u00e9r\u00e9sb\u0151l \u00f6ssze\u00e1ll\u00edtott gob\u00e1lis pontfelh\u0151:</p> <p></p>"},{"location":"eszleles/slam/#direct-lidar-inertial-odometry","title":"Direct LIDAR-Inertial Odometry","text":"<p>A DLIO egy k\u00f6nny\u0171s\u00faly\u00fa LIDAR-inerci\u00e1lis odometra algoritmus, amely \u00fajszer\u0171 coarse-to-fine (durva-finom) megk\u00f6zel\u00edt\u00e9ssel folytonos idej\u0171 trajekt\u00f3ri\u00e1t gener\u00e1l.</p> <p></p>"},{"location":"eszleles/slam/#telepites","title":"Telep\u00edt\u00e9s","text":"<p>El\u00e9rhet\u0151:</p> <ul> <li>github.com/vectr-ucla/direct_lidar_inertial_odometry/tree/feature/ros2 ROS 2 branch</li> <li>github.com/jkk-research/direct_lidar_inertial_odometry csak az ROS 2 branch-et tartalmaz\u00f3 fork</li> </ul> <p>N\u00e9zz\u00fck meg, hogy telep\u00edtve van-e a <code>pcl-ros</code>:</p> <pre><code>sudo apt install ros-humble-pcl-ros\n</code></pre> <pre><code>cd ~/ros2_ws/src/\n</code></pre> <pre><code>git clone https://github.com/jkk-research/direct_lidar_inertial_odometry\n</code></pre> <pre><code>cd ~/ros2_ws/\n</code></pre> <pre><code>colcon build --packages-select direct_lidar_inertial_odometry \n</code></pre>"},{"location":"eszleles/slam/#futtatas","title":"Futtat\u00e1s","text":"<pre><code>code ~/ros2_ws/src/direct_lidar_inertial_odometry/launch/dlio.launch.py\n</code></pre> <pre><code>rviz = LaunchConfiguration('rviz', default='true')\npointcloud_topic = LaunchConfiguration('pointcloud_topic', default='/lexus3/os_center/points')\nimu_topic = LaunchConfiguration('imu_topic', default='/lexus3/os_center/imu')\n</code></pre> <p>Els\u0151 opci\u00f3: Colon-n\u00e1l vagy <code>--symlink-install</code>-t haszn\u00e1lunk: ekkor a f\u00e1jlok forr\u00e1sb\u00f3l val\u00f3 m\u00e1sol\u00e1sa helyett szimbolikus hivatkoz\u00e1sokat haszn\u00e1l. \u00cdgy elker\u00fclhet\u0151, hogy pl. minden egyes launch f\u00e1jl m\u00f3dos\u00edt\u00e1s eset\u00e9n \u00fajra kelljen buildelni a package-t.</p> <pre><code>cd ~/ros2_ws/ &amp;&amp; colcon build --symlink-install --packages-select direct_lidar_inertial_odometry  \n</code></pre> <p>M\u00e1sodik opci\u00f3: \u00fajra buildel\u00fcnk minden egyes launch f\u00e1jl m\u00f3dos\u00edt\u00e1s eset\u00e9n:</p> <pre><code>cd ~/ros2_ws/ &amp;&amp; colcon build --packages-select direct_lidar_inertial_odometry \n</code></pre>"},{"location":"eszleles/slam/#kiss-icp","title":"KISS-ICP","text":"<p>KISS-ICP egy LIDAR odometria pipeline megold\u00e1s, amely tegt\u00f6bb esetben komolyabb param\u00e9ter \u00e1ll\u00edt\u00e1s n\u00e9l\u00fcl is j\u00f3l m\u0171k\u00f6dik.</p> <p></p>"},{"location":"eszleles/slam/#telepites_1","title":"Telep\u00edt\u00e9s","text":"<pre><code>cd ~/ros2_ws/src/\n</code></pre> <pre><code>git clone https://github.com/PRBonn/kiss-icp\n</code></pre> <pre><code>cd ~/ros2_ws/\n</code></pre> <pre><code>colcon build --packages-select kiss_icp\n</code></pre>"},{"location":"eszleles/slam/#futtatas_1","title":"Futtat\u00e1s","text":"<pre><code>ros2 launch kiss_icp odometry.launch.py topic:=/lexus3/os_left/points\n</code></pre>"},{"location":"eszleles/slam/#linkek","title":"Linkek","text":"<ul> <li>fastcampus_slam_codes oktat\u00f3anyag: github.com/changh95/fastcampus_slam_codes</li> <li>learn opencv: learnopencv.com/lidar-slam-with-ros2</li> </ul>"},{"location":"feleves_beadando/","title":"Kis beadand\u00f3 \u00e9s nagy f\u00e9l\u00e9ves","text":"<p>A kis beadand\u00f3 c\u00e9lja, hogy a hallgat\u00f3k az \u00f3r\u00e1n megszerzett kezd\u0151 szint\u0171 elm\u00e9leti tud\u00e1s mell\u00e9 gyakorlati tapasztalatot szerezzenek ROS 2-r\u0151l \u00e9s GitHub-r\u00f3l. A kis beadand\u00f3 viszonylag kev\u00e9s id\u0151 alatt elv\u00e9gezhet\u0151: egy oktat\u00f3 p\u00e1r \u00f3ra alatt, egy \u00e1tlag hallgat\u00f3 p\u00e1r d\u00e9lut\u00e1n alatt elk\u00e9sz\u00fclhet vele. Terjedelme lehet r\u00f6vid, teh\u00e1t 30-100 k\u00f3dsor node-onk\u00e9nt.</p> <p>Ezzel szemben a nagy f\u00e9l\u00e9ves egy kicsit t\u00f6bb id\u0151t vesz ig\u00e9nybe, de sokkal \u00e9rdekesebb feladatra is van lehet\u0151s\u00e9g \u00e9s id\u0151. R\u00e1ad\u00e1sul a j\u00f3 \u00e9s jeles \u00e9rdemjegyet is csak \u00edgy lehet megszerezni.</p> <p>A jegyszerz\u00e9s m\u00e1sik lehet\u0151s\u00e9ge a ZH-k, erre azonban csak szer\u00e9ny \u00e9rdemjegy kaphat\u00f3.</p> <pre><code>flowchart TD\n\nK([K\u00f6telez\u0151&lt;/br&gt;kis beadand\u00f3 ]):::light ------&gt; |sikertelen| X0\nK --&gt; A([Al\u00e1\u00edr\u00e1s]):::green \nA --&gt;|ZH ir\u00e1ny| ZH1([ZH1]):::light\nA --&gt; |f\u00e9l\u00e9ves ir\u00e1ny| N([Nagy f\u00e9l\u00e9ves]):::light\nPZH --&gt; |sikertelen| X1\nZH2 --&gt; |sikertelen| PZH([P\u00f3t ZH]):::light\nZH1 --&gt; ZH2([ZH2]):::light\nZH2 --&gt; |siker| OK1\nPZH --&gt; |siker| OK1\nN ----&gt; |siker| OK2\nX0([Al\u00e1\u00edr\u00e1s megtagad\u00e1s]):::red\nX1([1, el\u00e9gtelen]):::red\nOK2([4/5 \u00e9rdemjegy]):::green\nOK1([2/3 \u00e9rdemjegy]):::green\n\nclassDef light fill:#34aec5,stroke:#152742,stroke-width:2px,color:#152742  \nclassDef dark fill:#152742,stroke:#34aec5,stroke-width:2px,color:#34aec5\nclassDef white fill:#ffffff,stroke:#152742,stroke-width:2px,color:#152742\nclassDef red fill:#ef4638,stroke:#152742,stroke-width:2px,color:#fff\nclassDef green fill:#138b7b,stroke:#152742,stroke-width:2px,color:#fff\n</code></pre>"},{"location":"feleves_beadando/#hataridok-felev-beosztasa","title":"Hat\u00e1rid\u0151k, f\u00e9l\u00e9v beoszt\u00e1sa","text":"<p>Fontos, tudni, hogy a kis beadand\u00f3 al\u00e1\u00edr\u00e1s felt\u00e9tel. A GitHub regisztr\u00e1ci\u00f3, a beadand\u00f3 link bek\u00fcld\u00e9s elmulaszt\u00e1sa, m\u00e1r a szemeszter viszonlag korai szaksz\u00e1ban sikeretelen f\u00e9l\u00e9vet eredm\u00e9nyezhet. Ezek kis feladatok, megl\u00e9t\u00fcket m\u00e9gis szigor\u00faan ellen\u0151rizz\u00fck.</p> <pre><code>flowchart LR\n\nH2([2 alkalom]) --- H2A([Github&lt;br&gt;regisztr\u00e1ci\u00f3])--- H2B([Copilot regisztr\u00e1ci\u00f3&lt;br&gt;ind\u00edt\u00e1sa])\nH3([3 alkalom]) --- H3A([Beadand\u00f3 Github&lt;br&gt;link elk\u00fcld\u00e9se]) --- H3B([Copilot&lt;br&gt;regisztr\u00e1ci\u00f3 k\u00e9sz])\nH5([5 alkalom]) --- H5A([Kis beadand\u00f3&lt;br&gt;v\u00e9glegest\u00e9se])\nH7([7 alkalom]) --- H7A([ZH1]) --- H7B([Nagy f\u00e9l\u00e9ves Github&lt;br&gt;link elk\u00fcld\u00e9se])\nH10([10 alkalom]) --- H10A([ZH2])\nH13([13 alkalom]) --- H13A([P\u00f3tZH])\nV2([Vizsgaid\u0151szak 2. h\u00e9t]) --- V2A([Nagy f\u00e9l\u00e9ves&lt;br&gt;v\u00e9gleges\u00edt\u00e9s])\n\n\nclassDef light fill:#34aec5,stroke:#152742,stroke-width:2px,color:#152742  \nclassDef dark fill:#152742,stroke:#34aec5,stroke-width:2px,color:#34aec5\nclassDef white fill:#ffffff,stroke:#152742,stroke-width:2px,color:#152742\nclassDef red fill:#ef4638,stroke:#152742,stroke-width:2px,color:#fff\nclassDef green fill:#138b7b,stroke:#152742,stroke-width:2px,color:#fff\n\nclass H2,H3,H5,H7,H10,H13,V2 white\nclass H2A,H2B,H3B,H7A,H7B,H10A,V2A light\nclass H3A,H5A,H13A, red</code></pre>"},{"location":"feleves_beadando/kisbeadando/","title":"Kis beadand\u00f3","text":"<p>A kis beadand\u00f3 c\u00e9lja, hogy a hallgat\u00f3k az \u00f3r\u00e1n megszerzett kezd\u0151 szint\u0171 elm\u00e9leti tud\u00e1s mell\u00e9 gyakorlati tapasztalatot szerezzenek ROS 2-r\u0151l \u00e9s GitHub-r\u00f3l. A kis beadand\u00f3 viszonylag kev\u00e9s id\u0151 alatt elv\u00e9gezhet\u0151: egy oktat\u00f3 p\u00e1r \u00f3ra alatt, egy \u00e1tlag hallgat\u00f3 p\u00e1r d\u00e9lut\u00e1n alatt elk\u00e9sz\u00fclhet vele. Fontos, hogy a beadand\u00f3 al\u00e1\u00edr\u00e1s felt\u00e9tel.</p> <p>Elv\u00e1rt kvalit\u00e1sok:</p> <ul> <li>Egy package, 1 vagy 2 node</li> <li>Minimum 1 publisher vagy 1 subscriber (t\u00f6bb lehet)</li> <li>R\u00f6vid dokument\u00e1ci\u00f3, ami a build menet\u00e9t, a node-topic kapcsolatokat tartalmazza, a p\u00e9ld\u00e1k szerinti r\u00e9szletess\u00e9ggel</li> <li>Helyes n\u00e9vad\u00e1s </li> <li>Template haszn\u00e1lata vagy saj\u00e1t megold\u00e1s, de a p\u00e9ld\u00e1k szerinti kidolgozotts\u00e1gi szint</li> <li>Lehet\u0151leg hiba n\u00e9lk\u00fcl forduljon, de a <code>build warning</code> sok esetben megengedhet\u0151, a l\u00e9nyeg a tanul\u00e1s</li> <li>Min\u00e9l t\u00f6bb commit, hogy a munkafolyamatot is l\u00e1ssuk</li> <li>Terjedelem r\u00f6vid: 30-100 k\u00f3dsor node-onk\u00e9nt + CMakeLists.txt, package.xml, README.md, launch f\u00e1jlok (nem baj, ha hosszabb, de nem elv\u00e1rt)</li> <li>Lehet\u0151leg k\u00e9ppel illusztr\u00e1lva (l\u00e1sd p\u00e9ld\u00e1k)</li> <li>Lehet\u0151leg mermaid diagram a node-ok, topic-ok viszony\u00e1r\u00f3l (l\u00e1sd p\u00e9ld\u00e1k, le\u00edr\u00e1s)</li> </ul> <p>Danger</p> <p>A kis beadand\u00f3 akkor lesz elfogadhat\u00f3, ha a node buildelhet\u0151 \u00e9s a feladatki\u00edr\u00e1snak megfelel\u0151 kimenetet adja! Amennyiben ez nem teljes\u00fcl a hallgat\u00f3nak egy hete lesz a jav\u00edt\u00e1sra az issue ki\u00edr\u00e1s\u00e1t\u00f3l sz\u00e1m\u00edtva!</p>"},{"location":"feleves_beadando/kisbeadando/#peldak","title":"P\u00e9ld\u00e1k","text":"<p>P\u00e9lda a kis beadand\u00f3ra, amit az oktat\u00f3k k\u00e9sz\u00edtettek:</p> <ul> <li>github.com/szepilot/sze_sw1_szinusz: A package k\u00e9t node-b\u00f3l \u00e1ll. A <code>/gen_node</code> sz\u00ednusz jelet \u00e9s v\u00e9letlen sz\u00e1mokat genert\u00e1l, amiket k\u00e9t <code>std_msgs/float32</code> topicban hirdet. A <code>/sum_node</code> a \u00f6sszegzi az el\u0151\u00e1llott topicokat \u00e9s egy \u00fajabb <code>std_msgs/float32</code> topicban hirdeti. Megval\u00f3s\u00edt\u00e1s <code>ROS 2 Humble</code> alatt.</li> <li>github.com/horverno/hor_d20_batman_turtle: A package egy node-b\u00f3l \u00e1ll, ez a turtlesim szimul\u00e1torban k\u00e9pes a trajekt\u00f3ra kirajzol\u00e1s\u00e1val egy \"Batman logo\" el\u0151\u00e1ll\u00edt\u00e1s\u00e1ra. A hirdetett topic <code>geometry_msgs/twist</code> t\u00edpus\u00fa. Megval\u00f3s\u00edt\u00e1s <code>ROS 2 Humble</code> alatt.</li> <li>github.com/gfigneczi1/ign_b7e_array_sorter:A package egy node-b\u00f3l \u00e1ll. Ez az <code>/array_sorter</code> node feliratkozik egy <code>std_msgs/msg/float32_multi_array</code> t\u00edpus\u00fa topicra, majd hirdeti a szint\u00e9n ilyen t\u00edpus\u00fa, de n\u00f6vekv\u0151 sorrendbe rendezett verzi\u00f3j\u00e1t. Megval\u00f3s\u00edt\u00e1s <code>ROS 2 Humble</code> alatt.</li> <li>github.com/gfigneczi1/ign_b7e_temp_sens: A package k\u00e9t node-b\u00f3l \u00e1ll. A <code>/sensor_node</code> szimul\u00e1lt szenzordataokat gener\u00e1l: h\u0151m\u00e9rs\u00e9kletet \u00e9s p\u00e1ratartalmat, ezeket k\u00e9t k\u00fcl\u00f6n <code>sensor_msgs/Temperature</code> \u00e9s <code>sensor_msgs/RelativeHumidity</code> t\u00edpus\u00fa topicban hirdeti. A <code>/monitor_node</code> ezen adatokat figyeli, \u00e9s ha a h\u0151m\u00e9rs\u00e9klet meghalad egy bizonyos k\u00fcsz\u00f6b\u00e9rt\u00e9ket vagy a p\u00e1ratartalom meghalad egy m\u00e1sikat, egy riaszt\u00e1st k\u00fcld egy <code>std_msgs/String</code> t\u00edpus\u00fa topicban. Megval\u00f3s\u00edt\u00e1s <code>ROS 2 Humble</code> alatt.</li> <li>A package egy node-b\u00f3l \u00e1ll. A <code>/minecraft_node</code> egy <code>visualization_msgs/Marker</code> t\u00edpus\u00fa topicot hirdet. A topicra feliratkozva egy Minecraft karaktert jelen\u00edthet\u00fcnk meg RViz2-ben. Megval\u00f3s\u00edt\u00e1s <code>ROS 2 Humble</code> alatt.</li> <li>github.com/umiklos/ung_isl_ajr_point_and_orientation: A package k\u00e9t node-b\u00f3l \u00e1ll. Az egyik node egy <code>geometry_msgs/Point</code> t\u00edpust \u00e1ll\u00edt el\u0151, a m\u00e1sik node pedig orient\u00e1ci\u00f3val kieg\u00e9sz\u00edtve ebb\u0151l egy <code>geometry_msgs/Pose</code> t\u00edpus\u00fat hirdet. Megval\u00f3s\u00edt\u00e1s <code>ROS 2 Humble</code> alatt.</li> <li>github.com/umiklos/ung_isl_ajr_data_generation_and_control: A package k\u00e9t node-b\u00f3l \u00e1ll. Az <code>/sensor_data_generator</code> egy fikt\u00edv szenzorral szimul\u00e1lt adatokat gener\u00e1l, p\u00e9ld\u00e1ul t\u00e1vols\u00e1got \u00e9s sebess\u00e9get, ezeket k\u00e9t k\u00fcl\u00f6n <code>sensor_msgs/Range</code> \u00e9s <code>geometry_msgs/Twist</code> t\u00edpus\u00fa topicban hirdeti. A m\u00e1sik node, a <code>/control_node</code> ezeket az adatokat figyeli \u00e9s vez\u00e9rl\u00e9si d\u00f6nt\u00e9seket hoz a robot sz\u00e1m\u00e1ra, amit ki\u00edr a terminalban. Megval\u00f3s\u00edt\u00e1s <code>ROS 2 Humble</code> alatt.</li> <li>A package k\u00e9t node-b\u00f3l \u00e1ll. Az <code>/imu_data_publisher</code> gyorsul\u00e1sm\u00e9r\u0151 \u00e9s giroszk\u00f3p szenzor adatokat szolg\u00e1ltat, ezeket egy <code>sensor_msgs/Imu</code> t\u00edpus\u00fa topicban hirdeti. A m\u00e1sik node, a <code>/imu_data_analyzer</code> ezeket az IMU adatokat elemzi \u00e9s jelent\u00e9seket k\u00e9sz\u00edt a robot \u00e1llapot\u00e1r\u00f3l egy <code>diagnostic_msgs/DiagnosticArray</code> t\u00edpus\u00fa topicban. Megval\u00f3s\u00edt\u00e1s <code>ROS 2 Humble</code> alatt.</li> </ul> <p>\u00c9rdemes, de nem k\u00f6telez\u0151 a <code>diagnostic_msgs</code>, <code>geometry_msgs</code>, <code>nav_msgs</code>, <code>sensor_msgs</code>, <code>shape_msgs</code>, <code>std_msgs</code>, <code>trajectory_msgs</code>, <code>visualization_msgs</code> k\u00f6z\u00fcl v\u00e1lasztani.</p>"},{"location":"feleves_beadando/kisbeadando/#ajanlott-modszer-a-kis-beadando-repo-letrhozasara-template","title":"Aj\u00e1nlott m\u00f3dszer a kis beadand\u00f3 repo l\u00e9trhoz\u00e1s\u00e1ra: <code>template</code>","text":"<p>C++ \u00e9s Python nyelven is l\u00e9trehoztunk egy \u00fagynevezett template repo-t, amely megk\u00f6nny\u00edti az els\u0151 pacakage-t tartalmaz\u00f3 repository l\u00e9trehoz\u00e1s\u00e1t:</p> <ul> <li>github.com/sze-info/ros2_cpp_template</li> <li>github.com/sze-info/ros2_py_template</li> </ul> <p>Tip</p> <p>Err\u0151l le\u00edr\u00e1s itt olvashat\u00f3.</p> <p></p>"},{"location":"feleves_beadando/kisbeadando/#repo-neve","title":"Repo neve","text":"<ul> <li>A repository neve a k\u00f6vetkez\u0151 mint\u00e1t k\u00f6vesse: <code>VVV_NNN_opcionalis</code>, ahol</li> <li>a <code>VVV</code> a vezet\u00e9kn\u00e9v els\u0151 3 karaktere, kisbet\u0171vel</li> <li>az <code>NNN</code> a neptunk\u00f3d els\u0151 3 karaktere, kisbet\u0171vel</li> <li>az <code>opcionalis</code> pedig opcion\u00e1lis kieg\u00e9sz\u00edt\u00e9s, kisbet\u0171vel</li> <li>a fentieket alulvon\u00e1s <code>_</code> karakter v\u00e1lassza el \u00e9s kisbet\u0171 legyen mindenhol</li> <li>Pl: Szab\u00f3 Istv\u00e1n, F99AXW neptunk\u00f3ddal egy v\u00e9letlensz\u00e1mmal foglakoz\u00f3 kis beadand\u00f3j\u00e1nak url-je lehet pl: <code>github.com/szaboistvan/sza_f99_random</code>. </li> </ul>"},{"location":"feleves_beadando/nagyfeleves/","title":"Nagy f\u00e9l\u00e9ves","text":"<p>A nagy f\u00e9l\u00e9ves projekt elk\u00e9sz\u00edt\u00e9se t\u00f6bb id\u0151t ig\u00e9nyel, azonban lehet\u0151s\u00e9g van sokkal \u00e9rdekesebb feladatokat kidolgozni, r\u00e1ad\u00e1sul j\u00f3val t\u00f6bb h\u00e9t alatt. A f\u00e9l\u00e9vesre alapozva, a t\u00e1rgy teljes\u00edt\u00e9se ut\u00e1n ak\u00e1r diplomamunka, szakdolgozat, projektmunka, TDK dolgozat is k\u00e9sz\u00edthet\u0151, illetve van lehet\u0151s\u00e9g a k\u00f6telez\u0151 szakmai gyakorlat teljes\u00edt\u00e9s\u00e9re is.</p>"},{"location":"feleves_beadando/nagyfeleves/#peldak","title":"P\u00e9ld\u00e1k","text":"<p>P\u00e9lda a nagy f\u00e9l\u00e9vesre, amit az oktat\u00f3k k\u00e9sz\u00edtettek:</p> <ul> <li>github.com/horverno/simple_random_trees: A package egy egyszer\u0171 \u00fatvonaltervez\u00e9sre haszn\u00e1lhat\u00f3 v\u00e9letlenszer\u0171 fa algoritmus. Ez a megval\u00f3s\u00edt\u00e1sa a vizualiz\u00e1ci\u00f3ra \u00f6sszpontos\u00edt, nem pedig egy \u00e1tfog\u00f3 v\u00e9letlenszer\u0171 fa-alap\u00fa \u00fatvonal tervez\u0151 rendszer. A <code>/display_tree node</code> egy <code>/path_marker_topic</code>-ot hirdet, ami <code>visualization_msgs/marker_array</code> t\u00edpus\u00fa. A faadatstruk\u00far\u00e1t megval\u00f3s\u00edt\u00f3 f\u00fcggv\u00e9nyek k\u00fcl\u00f6n header f\u00e1jlban kaptak helyet. Megval\u00f3s\u00edt\u00e1s <code>ROS 2 Humble</code> alatt.</li> </ul> <p>Az al\u00e1bbi p\u00e9ld\u00e1k nem felt\u00e9tlen\u00fcl f\u00e9l\u00e9ves munk\u00e1nak k\u00e9sz\u00fcltek, de annak elfogadhat\u00f3ak lenn\u00e9nek:</p> <ul> <li>github.com/jkk-research/wayp_plan_tools</li> <li>github.com/jkk-research/sim_wayp_plan_tools</li> <li>github.com/jkk-research/pointcloud_to_grid</li> <li>github.com/jkk-research/urban_road_filter</li> <li>github.com/dobaybalazs/curb_detection</li> <li>github.com/kkira07/Szakdolgozat</li> <li>github.com/szenergy/rviz_markers</li> <li>github.com/linklab-uva/f1tenth_gtc_tutorial</li> <li>github.com/Farraj007/Jkk-task</li> <li>github.com/leander-dsouza/breakout_gazebo</li> <li>github.com/fjp/ros-turtle-pong</li> </ul> <p>Megjegyz\u00e9s: a t\u00e1rgyban az ROS 2 Humble verzi\u00f3t haszn\u00e1ljuk, de a f\u00e9l\u00e9ves beadand\u00f3t (indokl\u00e1ssal) m\u00e1s verzi\u00f3ban is elfogadjuk.</p>"},{"location":"feleves_beadando/nagyfeleves/#a-feleves-feladatnal-pozitiv-hatast-kelt","title":"A f\u00e9l\u00e9ves feladatn\u00e1l pozit\u00edv hat\u00e1st kelt:","text":"<ul> <li>\ud83d\udc4d J\u00f3l k\u00f6vethet\u0151 magyar \u00e9s/vagy angol nyelv\u0171 dokument\u00e1ci\u00f3 is, k\u00e9pekkel illusztr\u00e1lva. Markdown haszn\u00e1lata.</li> <li>\ud83d\udc4d Alap inform\u00e1ci\u00f3k a <code>README.md</code>-ben, (opcion\u00e1lis) dokument\u00e1ci\u00f3 a <code>/wiki</code>-ben.</li> <li>\ud83d\udc4d Issue-k.</li> <li>\ud83d\udc4d Branch-ek.</li> <li>\ud83d\udc4d Gitignore.</li> <li>\ud83d\udc4d Licensz.</li> <li>\ud83d\udc4d Repository topic-ok, k\u00f6zt\u00fck a t\u00e1rgyk\u00f3d \u00e9s a SZE. A topic-ok alapj\u00e1n azt\u00e1n pl itt is list\u00e1z\u00f3dik a repository: github.com/topics/sze.</li> <li>\ud83d\udc4d Plusz jegy adhat\u00f3, amennyiben a jelen tananyag kieg\u00e9sz\u00edt\u00e9sre / hibajav\u00edt\u00e1sra ker\u00fcl (tem\u00e9szetesen pull request \u00e1ltal).</li> </ul>"},{"location":"feleves_beadando/nagyfeleves/#komoly-hibak-ami-miatt-a-feleves-akar-tobb-erdemjeggyel-is-rosszabb-lehet","title":"Komoly hib\u00e1k, ami miatt a f\u00e9l\u00e9ves ak\u00e1r t\u00f6bb \u00e9rdemjeggyel is rosszabb  lehet:","text":"<ul> <li>\ud83d\ude21 T\u00f6m\u00f6r\u00edtett \u00e1llom\u00e1ny a GitHub repositoryban (pl. <code>zip</code> \u00e9s m\u00e9g rosszabb, ha <code>rar</code>). Kiv\u00e9tel lehet, ha direkt t\u00f6m\u00f6r\u00edtett \u00e1llom\u00e1nykezel\u00e9s a c\u00e9l, de forr\u00e1sk\u00f3d, k\u00e9p, stb. soha ne ker\u00fclj\u00f6n \u00edgy fel. </li> <li>\ud83d\ude21 Nem eredeti munka, vagy az \u00e1tvett k\u00f3d nincs hivatkozva. </li> <li>\ud83d\ude21 Csapatban csak egy hallgat\u00f3 commitol. (Ez nyilv\u00e1n nem vonatkozis egyf\u0151s feladatokra).</li> <li>\ud83d\ude21 Kev\u00e9s commit. Az\u00e9rt lenne fontos a megfelel\u0151 sz\u00e1m\u00fa commit, mert ebb\u0151l tudjuk, meg\u00edt\u00e9lni, hogyan haladt el\u0151re a munkafolyamat, ki, mit \u00e9s mikor dolgozott.</li> <li>\ud83d\ude21 Nincs <code>README.md</code>, hi\u00e1nyzik a r\u00f6vid dokument\u00e1ci\u00f3 vagy a k\u00e9pek.</li> <li>\ud83d\ude21 A dokument\u00e1ci\u00f3 pdf / docx-k\u00e9nt felt\u00f6ltve a <code>/wiki</code> helyett.</li> <li>\ud83d\ude21 File upload commit helyett.</li> <li>\ud83d\ude21 Forr\u00e1sk\u00f3d kik\u00e9pmetsz\u0151zve markdown szintaxis kiemel\u00e9s helyett. (Mivel k\u00e9pk\u00e9nt nem m\u00e1solhat\u00f3, kereshet\u0151, stb a k\u00f3d.)</li> </ul>"},{"location":"feleves_beadando/nagyfeleves/#otletek-temavalasztashoz","title":"\u00d6tletek t\u00e9mav\u00e1laszt\u00e1shoz","text":"<ul> <li>Insprir\u00e1ci\u00f3 lehet a kor\u00e1bbi vagy jelenlegi szakdolgozatok / diplomamunk\u00e1k t\u00e9m\u00e1i: horverno.github.io/temaajanlatok</li> <li>Olyan t\u00e9m\u00e1t c\u00e9lszer\u0171 v\u00e1lasztani, amin sz\u00edvesen dolgozn\u00e1l heteken/h\u00f3napokon kereszt\u00fcl is. Ha pl. a vizualiz\u00e1ci\u00f3, az algoritmusok gyakorlata, a 3D vagy \u00e9pp a mesters\u00e9ges intelligencia vonz\u00f3, akkor ennek megfelel\u0151 t\u00e9m\u00e1t c\u00e9lszer\u0171 v\u00e1lasztani.</li> <li>Kor\u00e1bbi szakdolgozatok, f\u00e9l\u00e9vesek el\u00e9rhet\u0151ek, ezeket ig\u00e9nyelni itt lehet. Fontos, hogy ezeket tilos tov\u00e1bbosztani, csak oktat\u00e1si c\u00e9llal \u00e1llnak rendelkez\u00e9sre.</li> <li>Sz\u00e1mos ROS 2 projekt itt: github.com/fkromer/awesome-ros2</li> </ul> <p>Tip</p> <p>Er\u0151sen aj\u00e1nlott a GitHub Student Developer Pack beszerz\u00e9se, t\u00f6bbek k\u00f6z\u00f6tt Copilot is j\u00e1r hozz\u00e1. Err\u0151l itt lehet r\u00e9szletesen olvasni: sze-info.github.io/ajr/bevezetes/copilot/#github-copilot-beszerzese-sze-hallgatoknak</p> <p></p>"},{"location":"feleves_beadando/nagyfeleves/#ertekelesi-szempontok","title":"\u00c9rt\u00e9kel\u00e9si szempontok","text":"<p>A szempontok kialak\u00edt\u00e1s\u00e1na\u00e1l az \u00d3budai Egyetem hasonl\u00f3 kurzus\u00e1nak \u00e9rt\u00e9kel\u00e9si szempontjait vett\u00fck alapul. - Saj\u00e1t munka \u00e9s fehaszn\u00e1lt k\u00f3db\u00e1zis ar\u00e1nya (megfelel\u0151 hivatkoz\u00e1sok megl\u00e9te) - \u00c9rt\u00e9kelhet\u0151 eredm\u00e9nyeket produk\u00e1l\u00f3 munka - A bemutat\u00f3 min\u0151s\u00e9ge (ppt, vide\u00f3k, \u00e9l\u0151 demo, b\u00e1rmilyen plusz felhaszn\u00e1lt eszk\u00f6z) - A megold\u00e1s teljess\u00e9ge - Megfelel\u0151 <code>ROS 2</code> kommunik\u00e1ci\u00f3 / best practice alkalmaz\u00e1sa - A program szerkezete - Az implement\u00e1ci\u00f3 min\u0151s\u00e9ge - A k\u00f3d dokument\u00e1l\u00e1sa - Konzult\u00e1ci\u00f3 - A v\u00e1lasztott feladat neh\u00e9zs\u00e9ge</p>"},{"location":"feleves_beadando/nagyfeleves/#ajanlott-modszer-a-feleves-repo-letrhozasara-template","title":"Aj\u00e1nlott m\u00f3dszer a f\u00e9l\u00e9ves repo l\u00e9trhoz\u00e1s\u00e1ra: <code>template</code>","text":"<p>C++ \u00e9s Python nyelven is l\u00e9trehoztunk egy \u00fagynevezett template repo-t, amely megk\u00f6nny\u00edti az els\u0151 pacakage-t tartalmaz\u00f3 repository l\u00e9trehoz\u00e1s\u00e1t:</p> <ul> <li>github.com/sze-info/ros2_cpp_template</li> <li>github.com/sze-info/ros2_py_template</li> </ul> <p>Info</p> <p>Err\u0151l le\u00edr\u00e1s itt olvashat\u00f3.</p> <p></p>"},{"location":"feleves_beadando/nagyfeleves/#meme","title":"Meme","text":"<p>Credit: pycoders</p> <p></p> <p>Credit: knowyourmeme</p>"},{"location":"kalman_filter/","title":"K\u00e1lm\u00e1n filter","text":"<p>K\u00e1lm\u00e1n Rudolf Emil (Budapest, 1930. m\u00e1jus 19. \u2013 Gainesville, 2016. j\u00falius 2.) amerikai magyar villamosm\u00e9rn\u00f6k, matematikus, a m\u0171szaki tudom\u00e1nyok doktora, a Magyar Tudom\u00e1nyos Akad\u00e9mia tiszteleti tagja. Munk\u00e1ss\u00e1ga a matematikai elj\u00e1r\u00e1sok folyamatir\u00e1ny\u00edt\u00e1si \u00e9s szab\u00e1lyoz\u00e1selm\u00e9leti alkalmaz\u00e1s\u00e1ban, az oper\u00e1ci\u00f3kutat\u00e1sban jelent\u0151s, t\u00f6bbek k\u00f6z\u00f6tt a nev\u00e9hez f\u0171z\u0151dik a K\u00e1lm\u00e1n-sz\u0171r\u0151 elv\u00e9nek kidolgoz\u00e1sa.</p> <p></p> <p>Newton's Equations of Motion</p> \\[ x = x_0 + v_{x0} * t + \\frac{1}{2}a_x * t^2 \\] \\[ y = y_0 + v_{y0} * t + \\frac{1}{2}a_y * t^2 \\] <p>State Transition (no control input)</p> \\[x_{k+1} = \\begin{bmatrix}1 &amp; 0 &amp; \\Delta t &amp; 0 &amp; \\frac{1}{2}\\Delta t^2 &amp; 0 \\\\ 0 &amp; 1 &amp; 0 &amp; \\Delta t &amp; 0 &amp; \\frac{1}{2}\\Delta t^2 \\\\ 0 &amp; 0 &amp; 1 &amp; 0 &amp; \\Delta t &amp; 0 \\\\ 0 &amp; 0 &amp; 0 &amp; 1 &amp; 0 &amp; \\Delta t \\\\ 0 &amp; 0 &amp; 0 &amp; 0 &amp; 1 &amp; 0  \\\\ 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 1\\end{bmatrix} \\cdot \\begin{bmatrix} x \\\\ y \\\\ \\dot x \\\\ \\dot y \\\\ \\ddot x \\\\ \\ddot y\\end{bmatrix}_{k}\\] \\[y = H \\cdot x\\] <p>Acceleration (IMU) and position (GNSS) (x\u02d9\u02d9, y\u02d9\u02d9, x, y) sensors are used.</p> \\[y = \\begin{bmatrix}0 &amp; 0 &amp; 0 &amp; 0 &amp; 1 &amp; 0 \\\\ 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 1 \\\\ 1 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 \\\\ 0 &amp; 1 &amp; 0 &amp; 0 &amp; 0 &amp; 0 \\end{bmatrix} \\cdot x\\]"},{"location":"kalman_filter/practice/","title":"Gyakorlat","text":"<p>GitHub  link</p>"},{"location":"kalman_filter/practice/#import","title":"Import","text":"<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\nfrom scipy.stats import norm\n%matplotlib inline\nplt.rcParams[\"figure.figsize\"] = [16, 9]\nplt.rc(\"xtick\", labelsize=20)\nplt.rc(\"ytick\", labelsize=20)\n</code></pre>"},{"location":"kalman_filter/practice/#kalman-filter-for-constant-acceleration-model","title":"Kalman Filter for Constant Acceleration Model","text":""},{"location":"kalman_filter/practice/#state-vector-constant-acceleration","title":"State Vector - Constant Acceleration","text":"<p>Constant Acceleration Model for Ego Motion in Plane</p> \\[x_{k+1} = A \\cdot x_{k} + B \\cdot u\\]"},{"location":"kalman_filter/practice/#newtons-equations-of-motion","title":"Newton's Equations of Motion","text":"<p>$$ x = x_0 + v_{x0} * t + \\frac{1}{2}a_x * t^2 $$ </p> \\[ y = y_0 + v_{y0} * t + \\frac{1}{2}a_y * t^2 \\]"},{"location":"kalman_filter/practice/#state-transition-no-control-input","title":"State Transition (no control input)","text":"\\[x_{k+1} = \\begin{bmatrix}1 &amp; 0 &amp; \\Delta t &amp; 0 &amp; \\frac{1}{2}\\Delta t^2 &amp; 0 \\\\ 0 &amp; 1 &amp; 0 &amp; \\Delta t &amp; 0 &amp; \\frac{1}{2}\\Delta t^2 \\\\ 0 &amp; 0 &amp; 1 &amp; 0 &amp; \\Delta t &amp; 0 \\\\ 0 &amp; 0 &amp; 0 &amp; 1 &amp; 0 &amp; \\Delta t \\\\ 0 &amp; 0 &amp; 0 &amp; 0 &amp; 1 &amp; 0  \\\\ 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 1\\end{bmatrix} \\cdot \\begin{bmatrix} x \\\\ y \\\\ \\dot x \\\\ \\dot y \\\\ \\ddot x \\\\ \\ddot y\\end{bmatrix}_{k}\\] \\[y = H \\cdot x\\] <p>Acceleration (IMU) and position (GNSS) (\\(\\ddot x\\), \\(\\ddot y\\), \\(x\\), \\(y\\)) sensors are used.</p> \\[y = \\begin{bmatrix}0 &amp; 0 &amp; 0 &amp; 0 &amp; 1 &amp; 0 \\\\ 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 1 \\\\ 1 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 \\\\ 0 &amp; 1 &amp; 0 &amp; 0 &amp; 0 &amp; 0 \\end{bmatrix} \\cdot x\\]"},{"location":"kalman_filter/practice/#initial-state","title":"Initial State","text":"<pre><code>plt.figure(figsize=(18, 10))\nx = np.matrix([[0.0, 0.0, 0.0, 0.0, 0.0, 0.0]]).T\nn = x.size  # States\nplt.scatter(float(x[0]), float(x[1]), s=100)\nplt.title(\"Initial Location\", fontsize=20)\nplt.ylabel(\"y in m\", fontsize=20)\nplt.xlabel(\"x in m\", fontsize=20)\nplt.grid(True)\n#### Initial Uncertainty\nP = np.matrix(\n    [\n        [10.0, 0.0, 0.0, 0.0, 0.0, 0.0],\n        [0.0, 10.0, 0.0, 0.0, 0.0, 0.0],\n        [0.0, 0.0, 10.0, 0.0, 0.0, 0.0],\n        [0.0, 0.0, 0.0, 10.0, 0.0, 0.0],\n        [0.0, 0.0, 0.0, 0.0, 10.0, 0.0],\n        [0.0, 0.0, 0.0, 0.0, 0.0, 10.0],\n    ]\n)\nprint(P)\n\nfig = plt.figure(figsize=(6, 6))\nim = plt.imshow(P, interpolation=\"none\", cmap=plt.get_cmap(\"binary\"))\nplt.title(\"Initial Covariance Matrix $P$\")\nylocs, ylabels = plt.yticks()\n# set the locations of the yticks\nplt.yticks(np.arange(7))\n# set the locations and labels of the yticks\nplt.yticks(\n    np.arange(6),\n    (\"$x$\", \"$y$\", \"$\\dot x$\", \"$\\dot y$\", \"$\\ddot x$\", \"$\\ddot y$\"),\n    fontsize=22,\n)\n\nxlocs, xlabels = plt.xticks()\n# set the locations of the yticks\nplt.xticks(np.arange(7))\n# set the locations and labels of the yticks\nplt.xticks(\n    np.arange(6),\n    (\"$x$\", \"$y$\", \"$\\dot x$\", \"$\\dot y$\", \"$\\ddot x$\", \"$\\ddot y$\"),\n    fontsize=22,\n)\n\nplt.xlim([-0.5, 5.5])\nplt.ylim([5.5, -0.5])\n\nfrom mpl_toolkits.axes_grid1 import make_axes_locatable\n\ndivider = make_axes_locatable(plt.gca())\ncax = divider.append_axes(\"right\", \"5%\", pad=\"3%\")\nplt.colorbar(im, cax=cax)\n\nplt.tight_layout()\n</code></pre>"},{"location":"kalman_filter/practice/#dynamic-matrix","title":"Dynamic Matrix","text":"<p>It is calculated from the dynamics of the Egomotion.</p> <p>\\(\\(x_{k+1} = x_{k} + \\dot x_{k} \\cdot \\Delta t +  \\ddot x_k \\cdot \\frac{1}{2}\\Delta t^2\\)\\) </p> \\[y_{k+1} = y_{k} + \\dot y_{k} \\cdot \\Delta t +  \\ddot y_k \\cdot \\frac{1}{2}\\Delta t^2\\] <p>\\(\\(\\dot x_{k+1} = \\dot x_{k} + \\ddot x \\cdot \\Delta t\\)\\) </p> \\[\\dot y_{k+1} = \\dot y_{k} + \\ddot y \\cdot \\Delta t\\] <p>\\(\\(\\ddot x_{k+1} = \\ddot x_{k}\\)\\) </p> \\[\\ddot y_{k+1} = \\ddot y_{k}\\] <pre><code>dt = 0.1  # Time Step between Filter Steps\n\nA = np.matrix(\n    [\n        [1.0, 0.0, dt, 0.0, 1 / 2.0 * dt ** 2, 0.0],\n        [0.0, 1.0, 0.0, dt, 0.0, 1 / 2.0 * dt ** 2],\n        [0.0, 0.0, 1.0, 0.0, dt, 0.0],\n        [0.0, 0.0, 0.0, 1.0, 0.0, dt],\n        [0.0, 0.0, 0.0, 0.0, 1.0, 0.0],\n        [0.0, 0.0, 0.0, 0.0, 0.0, 1.0],\n    ]\n)\nprint(A)\n## Measurement Matrix\nThis matrix determines how the sensor measurements map to the vehicle state. In this example, the position and the accelerations are measured ($x$, $y$, $\\ddot x$, $\\ddot y$).\nH = np.matrix(\n    [\n        [0.0, 0.0, 0.0, 0.0, 1.0, 0.0],\n        [0.0, 0.0, 0.0, 0.0, 0.0, 1.0],\n        [1.0, 0.0, 0.0, 0.0, 0.0, 0.0],\n        [0.0, 1.0, 0.0, 0.0, 0.0, 0.0],\n    ]\n)\nprint(H)\n## Measurement Noise Covariance\nra = 10.0 ** 2\nrp = 2.0 ** 2\n\nR = np.matrix(\n    [[ra, 0.0, 0.0, 0.0], [0.0, ra, 0.0, 0.0], [0.0, 0.0, rp, 0.0], [0.0, 0.0, 0.0, rp]]\n)\nprint(R)\n</code></pre>"},{"location":"kalman_filter/practice/#process-noise-covariance-matrix-q-for-ca-model","title":"Process Noise Covariance Matrix Q for CA Model","text":"<p>The Position of an object can be influenced by a force (e.g. wind), which leads to an acceleration disturbance (noise). This process noise has to be modeled with the process noise covariance matrix Q.</p> \\[Q = \\begin{bmatrix}     \\sigma_{x}^2 &amp; 0 &amp; \\sigma_{x \\dot x} &amp; 0 &amp; \\sigma_{x \\ddot x} &amp; 0 \\\\     0 &amp; \\sigma_{y}^2 &amp; 0 &amp; \\sigma_{y \\dot y} &amp; 0 &amp; \\sigma_{y \\ddot y} \\\\     \\sigma_{\\dot x x} &amp; 0 &amp; \\sigma_{\\dot x}^2 &amp; 0 &amp; \\sigma_{\\dot x \\ddot x} &amp; 0 \\\\     0 &amp; \\sigma_{\\dot y y} &amp; 0 &amp; \\sigma_{\\dot y}^2 &amp; 0 &amp; \\sigma_{\\dot y \\ddot y} \\\\     \\sigma_{\\ddot x x} &amp; 0 &amp; \\sigma_{\\ddot x \\dot x} &amp; 0 &amp; \\sigma_{\\ddot x}^2 &amp; 0 \\\\     0 &amp; \\sigma_{\\ddot y y} &amp; 0 &amp; \\sigma_{\\ddot y \\dot y} &amp; 0 &amp; \\sigma_{\\ddot y}^2    \\end{bmatrix} \\cdot \\sigma_{j}\\]"},{"location":"kalman_filter/practice/#symbolic-calculation","title":"Symbolic Calculation","text":"<pre><code>from sympy import Symbol, Matrix\nfrom sympy.interactive import printing\n\ndts = Symbol(\"\\Delta t\")\nsj = 0.1\n\nQ = (\n    np.matrix(\n        [\n            [(dt ** 6) / 36, 0, (dt ** 5) / 12, 0, (dt ** 4) / 6, 0],\n            [0, (dt ** 6) / 36, 0, (dt ** 5) / 12, 0, (dt ** 4) / 6],\n            [(dt ** 5) / 12, 0, (dt ** 4) / 4, 0, (dt ** 3) / 2, 0],\n            [0, (dt ** 5) / 12, 0, (dt ** 4) / 4, 0, (dt ** 3) / 2],\n            [(dt ** 4) / 6, 0, (dt ** 3) / 2, 0, (dt ** 2), 0],\n            [0, (dt ** 4) / 6, 0, (dt ** 3) / 2, 0, (dt ** 2)],\n        ]\n    )\n    * sj ** 2\n)\n\nprint(Q)\nfig = plt.figure(figsize=(6, 6))\nim = plt.imshow(Q, interpolation=\"none\", cmap=plt.get_cmap(\"binary\"))\nplt.title(\"Process Noise Covariance Matrix $Q$\")\nylocs, ylabels = plt.yticks()\n# set the locations of the yticks\nplt.yticks(np.arange(7))\n# set the locations and labels of the yticks\nplt.yticks(\n    np.arange(6),\n    (\"$x$\", \"$y$\", \"$\\dot x$\", \"$\\dot y$\", \"$\\ddot x$\", \"$\\ddot y$\"),\n    fontsize=22,\n)\n\nxlocs, xlabels = plt.xticks()\n# set the locations of the yticks\nplt.xticks(np.arange(7))\n# set the locations and labels of the yticks\nplt.xticks(\n    np.arange(6),\n    (\"$x$\", \"$y$\", \"$\\dot x$\", \"$\\dot y$\", \"$\\ddot x$\", \"$\\ddot y$\"),\n    fontsize=22,\n)\n\nplt.xlim([-0.5, 5.5])\nplt.ylim([5.5, -0.5])\n\nfrom mpl_toolkits.axes_grid1 import make_axes_locatable\n\ndivider = make_axes_locatable(plt.gca())\ncax = divider.append_axes(\"right\", \"5%\", pad=\"3%\")\nplt.colorbar(im, cax=cax)\n\nplt.tight_layout()\n## Identity Matrix\nI = np.eye(n)\n## Measurement\nimport pandas as pd\nfrom pyproj import Proj\n\n# Read data\n\n# Use every 5th value to get GPS updates in every timestep\nn_rows = 10800  # len(df)\nskip = np.arange(n_rows)\nskip = np.delete(skip, np.arange(0, n_rows, 5))\ndf = pd.read_csv(\"data/2014-03-26-000-Data.csv\", skiprows=skip)\n\n# Extract values\nax = df[\"ax\"].dropna()\nay = df[\"ay\"].dropna()\npx = df[\"latitude\"].dropna()\npy = df[\"longitude\"].dropna()\n\nm = len(df[\"ax\"])  # Measurements\n\n# Lat Lon to UTM\nutm_converter = Proj(\n    \"+proj=utm +zone=33U, +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs\"\n)\n\nfor i in range(len(px)):\n    py[i], px[i] = utm_converter(py[i], px[i])\n    px[i] = px[i] + np.random.normal(0, 2.0, 1)\n    py[i] = py[i] + np.random.normal(0, 2.0, 1)\n    # px[i] = 0 #TODO\n    # py[i] = 0 #TODO\n\n# Start from position (0 ,0)\npy_offset = py[0]\npx_offset = px[0]\npx = px - px_offset\npy = py - py_offset\n\n# Stack measurement vector\nmeasurements = np.vstack((ax, ay, px, py))\nfig = plt.figure(figsize=(16, 9))\nplt.step(range(m), ax, label=\"$a_x$\")\nplt.step(range(m), ay, label=\"$a_y$\")\nplt.ylabel(\"Acceleration in m / $s^2$\", fontsize=20)\nplt.xlabel(\"Number of measurements\", fontsize=20)\nplt.title(\"IMU Measurements\", fontsize=20)\nplt.ylim([-20, 20])\nplt.legend(loc=\"best\", prop={\"size\": 18})\nfig = plt.figure(figsize=(16, 9))\nplt.step(px, py, label=\"$GNSS$\")\nplt.xlabel(\"x in m\", fontsize=20)\nplt.ylabel(\"y in m\", fontsize=20)\nplt.title(\"GNSS Measurements\", fontsize=20)\nplt.xlim([min(px), max(px)])\nplt.ylim([min(py), max(py)])\nplt.legend(loc=\"best\", prop={\"size\": 18})\n# Preallocation for Plotting\nxt = []\nyt = []\ndxt = []\ndyt = []\nddxt = []\nddyt = []\nZx = []\nZy = []\nPx = []\nPy = []\nPdx = []\nPdy = []\nPddx = []\nPddy = []\nKx = []\nKy = []\nKdx = []\nKdy = []\nKddx = []\nKddy = []\n</code></pre>"},{"location":"kalman_filter/practice/#kalman-filter","title":"Kalman Filter","text":"<p> <pre><code>for n in range(m):\n\n    # Time Update (Prediction)\n    # ========================\n    # Project the state ahead\n    x = A * x\n\n    # Project the error covariance ahead\n    P = A * P * A.T + Q\n\n    # Measurement Update (Correction)\n    # ===============================\n    # Compute the Kalman Gain\n    S = H * P * H.T + R\n    K = (P * H.T) * np.linalg.pinv(S)\n\n    # Update the estimate via z\n    Z = measurements[:, n].reshape(H.shape[0], 1)\n    y = Z - (H * x)  # Innovation or Residual\n    x = x + (K * y)\n\n    # Update the error covariance\n    P = (I - (K * H)) * P\n\n    # Save states for Plotting\n    xt.append(float(x[0]))\n    yt.append(float(x[1]))\n    dxt.append(float(x[2]))\n    dyt.append(float(x[3]))\n    ddxt.append(float(x[4]))\n    ddyt.append(float(x[5]))\n    Zx.append(float(Z[0]))\n    Zy.append(float(Z[1]))\n    Px.append(float(P[0, 0]))\n    Py.append(float(P[1, 1]))\n    Pdx.append(float(P[2, 2]))\n    Pdy.append(float(P[3, 3]))\n    Pddx.append(float(P[4, 4]))\n    Pddy.append(float(P[5, 5]))\n    Kx.append(float(K[0, 0]))\n    Ky.append(float(K[1, 0]))\n    Kdx.append(float(K[2, 0]))\n    Kdy.append(float(K[3, 0]))\n    Kddx.append(float(K[4, 0]))\n    Kddy.append(float(K[5, 0]))\n## Plots\n### Covariance Matrix\nfig = plt.figure(figsize=(6, 6))\nim = plt.imshow(P, interpolation=\"none\", cmap=plt.get_cmap(\"binary\"))\nplt.title(\"Covariance Matrix $P$ (after %i Filter Steps)\" % (m), fontsize=20)\nylocs, ylabels = plt.yticks()\n# set the locations of the yticks\nplt.yticks(np.arange(7))\n# set the locations and labels of the yticks\nplt.yticks(\n    np.arange(6),\n    (\"$x$\", \"$y$\", \"$\\dot x$\", \"$\\dot y$\", \"$\\ddot x$\", \"$\\ddot y$\"),\n    fontsize=22,\n)\n\nxlocs, xlabels = plt.xticks()\n# set the locations of the yticks\nplt.xticks(np.arange(7))\n# set the locations and labels of the yticks\nplt.xticks(\n    np.arange(6),\n    (\"$x$\", \"$y$\", \"$\\dot x$\", \"$\\dot y$\", \"$\\ddot x$\", \"$\\ddot y$\"),\n    fontsize=22,\n)\n\nplt.xlim([-0.5, 5.5])\nplt.ylim([5.5, -0.5])\n\nfrom mpl_toolkits.axes_grid1 import make_axes_locatable\n\ndivider = make_axes_locatable(plt.gca())\ncax = divider.append_axes(\"right\", \"5%\", pad=\"3%\")\nplt.colorbar(im, cax=cax)\n\n\nplt.tight_layout()\n## State Vector\nfig = plt.figure(figsize=(16, 12))\n\nplt.subplot(311)\nplt.step(range(len(measurements[0])), ddxt, label=\"$\\ddot x$\")\nplt.step(range(len(measurements[0])), ddyt, label=\"$\\ddot y$\")\n\nplt.title(\"Estimate (Elements from State Vector $x$)\", fontsize=20)\nplt.legend(loc=\"best\", prop={\"size\": 22})\nplt.ylabel(\"Acceleration in m/ $s^2$\", fontsize=20)\n\nplt.subplot(312)\nplt.step(range(len(measurements[0])), dxt, label=\"$\\dot x$\")\nplt.step(range(len(measurements[0])), dyt, label=\"$\\dot y$\")\n\nplt.ylabel(\"\")\nplt.legend(loc=\"best\", prop={\"size\": 22})\nplt.ylabel(\"Velocity in m/s\", fontsize=20)\n\nplt.subplot(313)\nplt.step(range(len(measurements[0])), xt, label=\"$x$\")\nplt.step(range(len(measurements[0])), yt, label=\"$y$\")\n\nplt.xlabel(\"Filter Step\", fontsize=20)\nplt.ylabel(\"Position in m\", fontsize=20)\nplt.legend(loc=\"best\", prop={\"size\": 22})\n## Position x/y\nfig = plt.figure(figsize=(16, 9))\n\nplt.step(px, py, label=\"$GNSS$\")\n\nplt.scatter(xt[0], yt[0], s=100, label=\"Start\", c=\"g\")\nplt.scatter(xt[-1], yt[-1], s=100, label=\"Goal\", c=\"r\")\nplt.plot(xt, yt, label=\"State\", alpha=0.5)\nplt.xlabel(\"x in m\", fontsize=20)\nplt.ylabel(\"y in m\", fontsize=20)\nplt.title(\"Position\", fontsize=20)\nplt.legend(loc=\"best\", fontsize=20)\nplt.xlim(min(xt), max(xt))\nplt.ylim(min(yt), max(yt))\n</code></pre></p>"},{"location":"linkek/","title":"Linkek","text":""},{"location":"linkek/#linux-ismeretek","title":"Linux ismeretek","text":"<ul> <li>Egyszer\u0171 linux parancsok - [hun]</li> <li>ROS training - 0.1 Intro to Ubuntu GUI - [eng]</li> <li>ROS training - 0.2 The Linux File System - [eng]</li> <li>ROS training - 0.3 Using the Terminal - [eng]</li> <li>Terminal kezel\u00e9se - [hun]</li> <li>60 Linux Commands you need to know [video, eng]</li> <li>The 50 Most Popular Linux &amp; Terminal Commands, freeCodeCamp [video, eng]</li> <li>Raspberry Pi-hez k\u00e9sz\u00fclt seg\u00e9danyag: [hun]</li> <li>Git kezel\u00e9se:</li> <li>Beadand\u00f3 le\u00edr\u00e1s, Git \u00e9s GitHub - [hun] </li> <li>GitHub first-contributions magyar ford\u00edt\u00e1s - [hun]</li> <li>GitHub Learning Lab - [eng]</li> <li>VS code - [hun], [vid]</li> <li>Python [hun]</li> <li>Python freeCodeCamp video [eng]</li> <li>Python 60 days with python videos [eng]</li> <li>C++ [hun]</li> <li>C++ Optimizations Diary [eng]</li> <li>C++ Code for yourself videos [eng]</li> </ul>"},{"location":"linkek/#robotikai-ismeretek","title":"Robotikai ismeretek","text":"<ul> <li>Alap robotikai ismeretek [eng]</li> <li>K\u00e1lm\u00e1n filter [eng]</li> <li>Universitat Polit\u00e8cnica de Catalunya BarcelonaTech (UPC) - [eng]</li> <li>Pozna Tan\u00e1r \u00dar \u00e9s Antonya Csaba \u00e1ltal \u00edrt angol nyelv\u0171 oktat\u00f3anyag - Autocarsim [eng]</li> </ul>"},{"location":"linkek/#stanford-university","title":"Stanford University","text":"<ul> <li>Stanford University - Introduction to Robotics Oussama Khatib - [eng, video playlist]</li> </ul>"},{"location":"linkek/#tu-munchen","title":"TU M\u00fcnchen","text":"<ul> <li>Github link: github.com/TUMFTM/Lecture_ADSE</li> </ul> Number Session Description Video Lecture Slides 1 Python intro Some basics of programming in python for beginners. ResearchGate 2 Basics of mapping and localization Exemplary implementation of a Kalman filter and application for localization via GNSS-signal. YouTube ResearchGate 3 SLAM The google cartographer SLAM algorithm is applied to data from the KITTI-dataset. Note, that this lecture is held in Linux and has its own dependencies, please refer to the local readme. YouTube ResearchGate 4 Detection Overview about the YOLO-approach from network  architecture to exemplary usage. YouTube ResearchGate 5 Prediction Implementation of the pipeline to setup a motion prediction algorithm based on a Encoder-Decoder architecture. YouTube ResearchGate 6 Global plannings A global optimal race line optimization is shown. This lecture has its own dependencies, please refer to the local readme. YouTube ResearchGate 7 Local planning A local planning algorithm based on a graph-based approach is presented. YouTube ResearchGate 8 Control The design of a velocity controller and numerical solver for differential equation are covered. YouTube ResearchGate 9 Safety assessment The evaluation of the criticality of planned trajectories based on various metrics and their sensitivity is discussed. YouTube ResearchGate 10 Teleoperated driving How to send and receive data via MQTT over network is shown in this practice session. YouTube ResearchGate 11 End-to-End The exemplary pipeline of data collection from expert demonstration, training and application are treated in this session. This lecture has its own dependencies, please refer to the local YouTube ResearchGate"},{"location":"linkek/#magyar-nyelvu-ros-oktatoanyagok","title":"Magyar nyelv\u0171 ROS oktat\u00f3anyagok","text":"<ul> <li>ROS-gyakorlatok kezd\u0151oldal: horverno.github.io/ros-gyakorlatok</li> <li>ROS telep\u00edt\u00e9se (hun) - Melodic</li> <li>ROS \u00d3budai Egytem - Antal Bejczy Center for Intelligent Robotics (hun)</li> </ul>"},{"location":"linkek/#angol-nyelvu-ros-oktatoanyagok","title":"Angol nyelv\u0171 ROS oktat\u00f3anyagok","text":"<ul> <li>ROS telep\u00edt\u00e9se (eng)</li> <li>ETH Z\u00fcrich - Programming for Robotics (ROS)</li> <li>edX - Hello (Real) World with ROS</li> <li>ROS.org tutorials</li> <li>ROS PCL tutorial</li> <li>Felipe Boseong Jeon ROS2 tutorials</li> </ul>"},{"location":"linkek/#apex-ai","title":"Apex AI","text":"<ul> <li>Apex AI youtube</li> <li>1: Development Environment</li> <li>2: ROS2 101</li> <li>3: ROS 2 Tooling - Develop Like a Pro</li> <li>4: Platform HW, RTOS and DDS</li> <li>5: Autonomous Driving Stacks</li> <li>6: Autoware 101</li> <li>7: Object Perception: LIDAR</li> <li>8: Object Perception: CAMERA</li> <li>9: Object Perception: Radar</li> <li>10: State Estimation for Localization</li> <li>11: LGSVL Simulator</li> <li>12: Motion Control</li> <li>13: Data Storage and Analytics</li> <li>14: HD Maps</li> <li>F1/10 ROS</li> </ul>"},{"location":"linkek/#eth-zurich","title":"ETH Z\u00fcrich","text":"<ul> <li>Programming for Robotics - ROS: P\u00e9ter Fankhauser, Dominic Jud, Martin Wermelinger, Prof. Dr. Marco Hutter. rsl.ethz.ch/education-students/lectures/ros.html</li> </ul> 2021TopicsMaterial 22.02.<ul> <li>ROS architecture &amp; philosophy</li> <li>ROS master, nodes, and topics</li> <li>Console commands</li> <li>Catkin workspace and build system</li> <li>Launch-files</li> <li>Gazebo simulator</li> <li>Programming Tools</li> </ul><ul> <li>Lecture Slides (PDF, 2.4 MB)</li> <li>Exercises (PDF, 314 KB)</li> <li>Files: smb_common.zip (ZIP, 2.3 MB)</li> <li>Video Recording </li> </ul>24.02.<ul> <li>ROS package structure</li> <li>Integration and programming with Eclipse</li> <li>ROS C++ client library (roscpp)</li> <li>ROS subscribers and publishers</li> <li>ROS parameter server</li> <li>RViz visualization</li> </ul><ul> <li>Lecture Slides (PDF, 2.4 MB)</li> <li>Exercises (PDF, 219 KB) </li> <li>Files: smb_highlevel_controller.zip (ZIP, 3 KB)</li> <li>Video Recording</li> </ul>26.02.<ul> <li>TF Transformation System</li> <li>rqt User Interface</li> <li>Robot models (URDF)</li> <li>Simulation descriptions (SDF)</li> </ul><ul> <li>Lecture Slides (PDF, 2 MB)</li> <li>Exercises (PDF, 170 KB)</li> <li>Files: smb_common_v2.zip (ZIP, 2.3 MB)</li> <li>Files: singlePillar.world (WORLD, 1 KB)</li> <li>Video Recording </li> </ul>01.03.<ul> <li>ROS services</li> <li>ROS actions (actionlib)</li> <li>ROS time</li> <li>ROS bags</li> <li>Debugging strategies</li> <li>Introduction to ROS2 </li> </ul><ul> <li>Lecture Slides (PDF, 932 KB)</li> <li>Exercises (PDF, 283 KB)</li> <li>Files: smb_navigation.bag (BAG, 158.9 MB)</li> <li>Video Recording </li> </ul>05.03.<ul> <li>Case study: Using ROS in complex real-world applications</li> </ul><ul> <li>Exercises (PDF, 67 KB)</li> </ul> 2021: <ul> <li>ANYbotics Case Study (PDF, 8.6 MB)</li> <li>Video Recording </li> </ul> 2020: <ul> <li>ANYbotics Case Study (PDF, 7.6 MB)</li> </ul> 2018: <ul> <li>Building a Legged Robot with ROS slides (PDF, 11.5 MB)</li> <li>mANYpulator \u2013 Mobile Manipulation slides (PDF, 2 MB)</li> <li>Using ROS with other Simulators slides (PDF, 1.6 MB)</li> </ul> 2017: <ul> <li>ANYmal at the ARGOS Challenge slides</li> </ul>"},{"location":"linkek/#university-of-bonn","title":"University of Bonn","text":"<p>Link: ipb.uni-bonn.de/sdc-2021</p> <p>Self-Driving Cars: An Introduction (Cyrill Stachniss) Introduction lecture for the course \u201cTechniques for Self-Driving Cars\u201d taught at the University of Bonn. A course by Cyrill Stachniss, Jens Behley, Nived Chebrolu, Benedikt Mersch, Igor Bogoslavskyi.</p> <p>Self-Driving Cars: Localization (Daniel Wilbers) Localization lecture for the course \u201cTechniques for Self-Driving Cars\u201d taught at the University of Bonn. Further Information on Deep Learning and CNNs, see our Machine Learning for Robotics and Computer Vision Course: Youtube Link</p> <p>Self-Driving Cars: Control (Nived Chebrolu) Control lecture for the course \u201cTechniques for Self-Driving Cars\u201d taught at the University of Bonn. A course by Cyrill Stachniss, Jens Behley, Nived Chebrolu, Benedikt Mersch, Igor Bogoslavskyi. Youtube Link</p> <p>Model Predictive Control \u2013 Part 1: Introduction to MPC (Lasse Peters) Introduction to Model Predictive Control; lecture presented by Lasse Peters. Youtube Link</p> <p>Model Predictive Control \u2013 Part 2: Numerical Methods for MPC (Lasse Peters) Numerical Methods for Model Predictive Control; lecture presented by Lasse Peters. Youtube Link</p> <p>Self-Driving Cars: Planning (Benedikt Mersch) Planning lecture for the course \u201cTechniques for Self-Driving Cars\u201d taught at the University of Bonn. A course by Cyrill Stachniss, Jens Behley, Nived Chebrolu, Benedikt Mersch, Igor Bogoslavskyi. Youtube Link</p> <p>Self-Driving Cars: Behavior Estimation (Benedikt Mersch) Behavior estimation lecture for the course \u201cTechniques for Self-Driving Cars\u201d taught at the University of Bonn. A course by Cyrill Stachniss, Jens Behley, Nived Chebrolu, Benedikt Mersch, Igor Bogoslavskyi, Lasse Peters. Youtube Link</p> <p>Self-Driving Cars: Perception \u2013 Part 1 (Jens Behley) Youtube Link Perception lecture for the course \u201cTechniques for Self-Driving Cars\u201d taught at the University of Bonn. Further Information on Deep Learning and CNNs, see our Machine Learning for Robotics and Computer Vision Course:  Youtube playlist</p> <p>Self-Driving Cars: Perception \u2013 Part 2 (Jens Behley) Perception lecture for the course \u201cTechniques for Self-Driving Cars\u201d taught at the University of Bonn. Youtube Link</p> <p>Self-Driving Cars: View from Practice (Igor Bogoslavskyi) Lecture giving a view from practice for the course \u201cTechniques for Self-Driving Cars\u201d taught at the University of Bonn. A course by Cyrill Stachniss, Jens Behley, Nived Chebrolu, Benedikt Mersch, Igor Bogoslavskyi. Youtube Link</p>"},{"location":"linkek/#articulated-robotics","title":"Articulated Robotics","text":"<p>ROS 2</p> <ul> <li>Youtube playlist</li> <li>articulatedrobotics.xyz</li> </ul>"},{"location":"linkek/#the-robotics-back-end","title":"The Robotics Back-End","text":"<p>ROS 2</p> <ul> <li>Youtube playlist</li> <li>roboticsbackend.com</li> </ul>"},{"location":"linkek/#foxglove-ros-2-tutorials","title":"Foxglove ROS 2 tutorials","text":"<ul> <li>foxglove.dev/tutorials</li> <li>Install ROS 2 Galactic on Ubuntu</li> <li>Install ROS 2 Galactic on Ubuntu</li> <li>Install ROS 2 Humble on Ubuntu</li> <li>Install ROS 2 Humble on macOS with Docker</li> <li>Introduction to ROS 2</li> <li>Use a Rosbridge connection</li> <li>Create services</li> <li>Create actions</li> <li>Use parameters</li> <li>Use launch files</li> <li>Understand transforms</li> <li>Publish and visualize transforms</li> <li>Calculate object positions across frames</li> </ul>"},{"location":"linkek/#official-ros-2-documentation","title":"Official ROS 2 documentation","text":"<ul> <li>docs.ros.org/en/humble</li> <li>docs.ros.org</li> </ul>"},{"location":"linkek/#egyeb","title":"Egy\u00e9b","text":"<ul> <li>VS code \u00e9s ROS 2 aj\u00e1nlott be\u00e1ll\u00edt\u00e1sok: picknik.ai/vscode/docker/ros2/2024/01/23/ROS2-and-VSCode.html</li> <li>ROS felhaszn\u00e1l\u00f3k a vil\u00e1gban: metrorobots.com/rosmap.html</li> <li>Colcon cheatsheet: github.com/ubuntu-robotics/ros2_cheats_sheet/blob/master/colcon%2Fcolcon_cheats_sheet.pdf</li> <li>IEEE robots guide robotsguide.com/robots</li> </ul>"},{"location":"mesterseges_intelligencia/","title":"Mesters\u00e9ges intelligencia","text":"<p>Az AI az \u00e9szlel\u00e9s mellett ak\u00e1r a tervez\u00e9sn\u00e9l vagy a szab\u00e1lyoz\u00e1sn\u00e1l is megjelenhet.</p> <p></p> <p>B\u00e1r legfontosabb auton\u00f3m alkamaz\u00e1si k\u00f6re az \u00e9szlel\u00e9s, ahogy a fenti \u00e1br\u00e1n is l\u00e1tszik: tervez\u00e9si illetve szab\u00e1lyoz\u00e1si felhaszn\u00e1l\u00e1sa is van.</p> <p>A mesters\u00e9ges intelligencia (AI) \u00f3rai prezent\u00e1ci\u00f3 itt tal\u00e1lhat\u00f3 meg: Link</p> <p>P\u00e9lda vide\u00f3k:</p>"},{"location":"mesterseges_intelligencia/practice/","title":"Mesters\u00e9ges intelligencia gyakorlat","text":""},{"location":"mesterseges_intelligencia/practice/#gyakorlati-anyag-letoltese","title":"Gyakorlati anyag let\u00f6lt\u00e9se","text":"<p>A gyakorlati anyag friss\u00edt\u00e9s\u00e9hez adjuk ki a k\u00f6vetkez\u0151 parancsokat:</p> <p><pre><code>cd ~/ros2_ws/src/arj_packages\n</code></pre> <pre><code>git checkout -- .\n</code></pre> <pre><code>git pull\n</code></pre></p>"},{"location":"mesterseges_intelligencia/practice/#conda-kornyezet-telepitese","title":"Conda k\u00f6rnyezet telep\u00edt\u00e9se","text":"<p>Az anaconda (miniconda) egy izol\u00e1lt virtu\u00e1lis k\u00f6rnyezetet biztos\u00edt, ahol az \u00e9ppen aktu\u00e1lis munk\u00e1hoz sz\u00fcks\u00e9ges verzi\u00f3sz\u00e1m\u00fa Python csomagokat tudjuk telep\u00edteni.</p> <p><pre><code>mkdir -p ~/miniconda3\n</code></pre> <pre><code>wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh -O ~/miniconda3/miniconda.sh\n</code></pre> <pre><code>bash ~/miniconda3/miniconda.sh -b -u -p ~/miniconda3\n</code></pre> <pre><code>rm -rf ~/miniconda3/miniconda.sh\n</code></pre> <pre><code>~/miniconda3/bin/conda init bash\n</code></pre></p> <p>A solver hangolja \u00f6ssze a verzi\u00f3kat az el\u0151re defini\u00e1lt k\u00f6rnyezethez (<code>environment.yml</code>) sz\u00fcks\u00e9ges csomagok k\u00f6z\u00f6tt. A <code>libmamba-solver</code> az alap\u00e9rtelmezetthez solverhez k\u00e9pest egy gyorsabb hangol\u00e1st tesz lehet\u0151v\u00e9. <pre><code>source ~/.bashrc\n</code></pre> <pre><code>conda config --set auto_activate_base false\n</code></pre> <pre><code>conda update -n base conda\n</code></pre> <pre><code>conda install -n base conda-libmamba-solver\n</code></pre> <pre><code>conda config --set solver libmamba\n</code></pre></p> <p>Miut\u00e1n a Conda telep\u00fclt, l\u00e9trehozzuk a saj\u00e1t virtu\u00e1lis k\u00f6rnyezet\u00fcnket: <pre><code>cd ~/ros2_ws/src/arj_packages/arj_ai\n</code></pre> <pre><code>conda env create -f environment.yml\n</code></pre></p>"},{"location":"mesterseges_intelligencia/practice/#gyakorlat-megnyitasa","title":"Gyakorlat megnyit\u00e1sa","text":"<p>Az anyag a k\u00f6vetkez\u0151k\u00e9ppen nyithat\u00f3 meg: <pre><code>conda activate gyakorlat\n</code></pre> <pre><code>cd ~/ros2_ws/src/arj_packages/arj_ai \n</code></pre> <pre><code>code .\n</code></pre></p> <p></p> <p>V\u00e1lassszuk ki a k\u00f6rnyezetet:</p> <p></p>"},{"location":"mesterseges_intelligencia/practice/#hibaelharitas","title":"Hibaelh\u00e1r\u00edt\u00e1s","text":"<p>TODO</p> <pre><code>ImportError                               Traceback (most recent call last)\nCell In[1], line 10\n      8 import matplotlib.patches as patches\n      9 import matplotlib.pyplot as plt\n---&gt; 10 import torch\n     11 import torchvision.transforms as transforms\n     12 from PIL import Image\n\nFile ~/miniconda3/envs/gyakorlat/lib/python3.8/site-packages/torch/__init__.py:189\n    187     if USE_GLOBAL_DEPS:\n    188         _load_global_deps()\n--&gt; 189     from torch._C import *\n    191 # Appease the type checker; ordinarily this binding is inserted by the\n    192 # torch._C module initialization code in C\n    193 if False:\n\nImportError: /home/he/miniconda3/envs/gyakorlat/lib/python3.8/site-packages/torch/lib/libtorch_cpu.so: undefined symbol: iJIT_IsProfilingActive\n</code></pre>"},{"location":"mesterseges_intelligencia/practice/#conda-deaktivalas","title":"Conda deaktiv\u00e1l\u00e1s","text":"<pre><code>conda deactivate\n</code></pre>"},{"location":"onallo/","title":"\u00d6n\u00e1ll\u00f3 feladatok, otthoni gyakorl\u00e1s","text":""},{"location":"onallo/bashalias/","title":"Bash aliases","text":"<p>A <code>.bash_aliases</code> egy konfigur\u00e1ci\u00f3s f\u00e1jl a Bash sz\u00e1m\u00e1ra, amely lehet\u0151v\u00e9 teszi aliasok (parancs \u00e1tnevez\u00e9sek/alternat\u00edv\u00e1k) l\u00e9trehoz\u00e1s\u00e1t \u00e9s egy\u00e9ni parancsok defini\u00e1l\u00e1s\u00e1t. Az aliasok haszn\u00e1lat\u00e1val r\u00f6vid\u00edtheted a gyakran haszn\u00e1lt parancsokat, vagy megadhatsz olyan parancsokat, amelyeket gyakran szeretn\u00e9l ugyan\u00fagy futtatni, de hosszabb vagy bonyolultabb param\u00e9terekkel. </p> <p>Arra j\u00f3, hogy pl. a gyakran haszn\u00e1lt <code>source ~/ros2_ws/install/setup.bash</code> parancsot az <code>r2</code> r\u00f6vid\u00edt\u00e9ssel futtathatod.</p> <p>N\u00e9zz\u00fck meg mi tal\u00e1lhat\u00f3 jelenleg a <code>.bash_aliases</code> f\u00e1jlban:</p> <pre><code>cat ~/.bash_aliases\n</code></pre> <p>Az el\u0151retelep\u00edtett verz\u00f3kban hasonl\u00f3 tartalom fogad:</p> <pre><code># some more ls aliases for JKK, Szenergy and friends\nalias r2='source ~/ros2_ws/install/setup.bash &amp;&amp; echo \"source ~/ros2_ws/install/setup.bash\"'\nalias aw='source ~/autoware/install/setup.bash &amp;&amp; echo \"source ~/autoware/install/setup.bash\"'\nalias r1='screen -mdS roscore1 bash -c 'roscore' &amp;&amp; echo \"screen roscore1\"'\n</code></pre> <p>Ha nincs ilyen f\u00e1jl, akkor hozzuk l\u00e9tre \u00e9s t\u00f6lts\u00fck le a fenti tartalmat:</p> <pre><code>cd ~; wget https://raw.githubusercontent.com/jkk-research/jkk_utils/ros2/.bash_aliases\n</code></pre> <p>Ha van ilyen f\u00e1jl, de szeretn\u00e9d friss\u00edteni, akkor t\u00f6r\u00f6ld \u00e9s t\u00f6ltsd le \u00fajra:</p> <pre><code>cd ~; rm .bash_aliases; wget https://raw.githubusercontent.com/jkk-research/jkk_utils/ros2/.bash_aliases\n</code></pre>"},{"location":"onallo/linux/","title":"Linux gyakorl\u00e1s","text":""},{"location":"onallo/linux/#mapparendszer-letrehozasa-terminal","title":"Mapparendszer l\u00e9trehoz\u00e1sa - terminal","text":"<p>A feladathoz telep\u00edts\u00fck a <code>tree</code> parancsot:  <pre><code>sudo apt install tree\n</code></pre></p> <p>A feladathoz megold\u00e1s\u00e1hoz <code>touch</code>, <code>chmod</code>, <code>mkdir</code> parancsok kellenek. </p> <p>Hozzuk l\u00e9tre a k\u00f6vetkez\u0151 mapparendszert, ami a <code>cd ~ &amp;&amp; tree tmp_dir/</code> parancsra a k\u00f6vetkez\u0151k\u00e9pp n\u00e9z ki:</p> <pre><code>~/tmp_dir/\n\u251c\u2500\u2500 animals\n\u2502   \u251c\u2500\u2500 cat\n\u2502   \u2514\u2500\u2500 dog\n\u2502       \u251c\u2500\u2500 komondor\n\u2502       \u251c\u2500\u2500 puli\n\u2502       \u2514\u2500\u2500 vizsla\n\u251c\u2500\u2500 colors\n\u2502   \u251c\u2500\u2500 blue\n\u2502   \u251c\u2500\u2500 green\n\u2502   \u2514\u2500\u2500 red\n\u251c\u2500\u2500 py_exec.py\n\u251c\u2500\u2500 simple_text.txt\n\u2514\u2500\u2500 top\n    \u2514\u2500\u2500 middle\n        \u2514\u2500\u2500 bottom\n            \u2514\u2500\u2500 hello.txt\n13 directories, 3 files\n</code></pre> <p>Az <code>ls -l  ~/tmp_dir/</code> parancsra pedig a k\u00f6vetkez\u0151h\u00f6z hasonl\u00f3 <code>rwx</code> \u00e9rt\u00e9keket mutatja:</p> <pre><code>drwxr-xr-x 4 he he 4096 Feb 17 14:54 animals\ndrwxr-xr-x 5 he he 4096 Feb 17 14:55 colors\n-rwxrwxrwx 1 he he    0 Feb 17 14:52 py_exec.py\n-rw-r--r-- 1 he he    0 Feb 17 14:53 simple_text.txt\ndrwxr-xr-x 3 he he 4096 Feb 17 14:43 top\n</code></pre>"},{"location":"onallo/linux/#megoldas-segedlet","title":"Megold\u00e1s seg\u00e9dlet","text":"<pre><code>mkdir -p top/middle/bottom\nmkdir -p colors/{red,green,blue}\nmkdir -p animals/{cat,dog/{vizsla,puli,komondor}}\n</code></pre>"},{"location":"onallo/linux/#szoveges-fajlok","title":"Sz\u00f6veges f\u00e1jlok","text":"<p>Ha m\u00e9g nem hozuk l\u00e9tre, akkor k\u00e9sz\u00edts\u00fcnk egy <code>~/tmp_text/</code> mapp\u00e1t.</p> <p>A mapp\u00e1n bel\u00fcl k\u00e9sz\u00edts\u00fcnk egy <code>hello.py</code> f\u00e1jlt, majd termin\u00e1lb\u00f3l t\u00f6lts\u00fck fel a k\u00f6vetkez\u0151 tartalommal:</p> <pre><code>import sys\nprint('\\nHello vilag!\\nA verzio pedig:\\n' + sys.version)\n</code></pre> <p>Tegy\u00fck futtathat\u00f3v\u00e1 \u00e9s futtassuk.</p>"},{"location":"onallo/linux/#megoldas-segedlet_1","title":"Megold\u00e1s seg\u00e9dlet","text":"<pre><code>echo \"import sys\" &gt;&gt; hello.py\necho \"print('\\nHello vilag!\\nA verzio pedig:\\n' + sys.version)\" &gt;&gt; hello.py\n</code></pre>"},{"location":"onallo/mermaid/","title":"Mermaid gyakorl\u00e1s","text":"<p>A mermaid hasznos kieg\u00e9sz\u0151je lehet a markdown f\u00e1jlainknak (pl <code>README.md</code>). K\u00fcl\u00f6nb\u00f6z\u0151 grafikononokat, flowchartokat tudunk vele viszonylag k\u00f6nnyen l\u00e9trehozni.</p>"},{"location":"onallo/mermaid/#vs-code-extension","title":"VS code extension","text":"<p>Bal oldalt az Extension ikonra kattintva vagy a <code>Ctrl</code> + <code>Shift</code> + <code>X</code> ut\u00e1n a meraid kulcssz\u00f3t be\u00edrva el\u0151j\u00f6n a Markdown Preview kieg\u00e9sz\u00edt\u0151, ez egy katint\u00e1ssal telep\u00edthet\u0151 \u00e9s haszn\u00e1lhat is. Ezut\u00e1n a Markdown el\u0151n\u00e9zet\u00e9ben (<code>Ctrl</code> + <code>Shift</code> + <code>V</code> vagy fels\u0151 ikon) m\u00e1r l\u00e1that\u00f3 is lesz az el\u0151ln\u00e9zet. </p> Mermaid, VS code extension Mermaid, VS code <p>C\u00e9lszer\u0171 a Mermaid Markdown Syntax Highlighting \u00e9s a Color Highlight extension-t is haszn\u00e1lni, ekkor a k\u00f6vetkez\u0151k\u00e9pp jelenik meg a gr\u00e1f k\u00f3dja:</p> Mermaid, VS code highlight"},{"location":"onallo/mermaid/#peldak","title":"P\u00e9ld\u00e1k","text":""},{"location":"onallo/mermaid/#egyszeru-pelda","title":"Egyszer\u0171 p\u00e9lda","text":"<p>Ay egyik legegyszer\u0171bb flowchart k\u00f3dja k\u00f6vetkez\u0151 2 sorb\u00f3l \u00e1ll:</p> <pre><code>graph LR;\nnode1 --&gt; topic --&gt; node2\n</code></pre> <p>Az els\u0151 sor a gr\u00e1f t\u00edpusa, a m\u00e1sodik (vagy tov\u00e1bbi) sorokban a kapcsolatokat <code>--&gt;</code> a nyilak defini\u00e1lj\u00e1k.</p> <pre><code>graph LR;\nnode1 --&gt; topic --&gt; node2</code></pre>"},{"location":"onallo/mermaid/#teglalap-helyett-formakkal","title":"T\u00e9glalap helyett form\u00e1kkal","text":"<p>Az <code>LR</code> a left-right r\u00f6vid\u00edt\u00e9se. A form\u00e1k lehetnek lekerek\u00edtettek <code>([ ])</code>, sz\u00f6gletesek <code>[ ]</code>,  hexagonok {<code>{ }</code>} paralellogramm\u00e1k <code>[/ /]</code> \u00e9s tov\u00e1bbiak is. ROS-ben megtanultuk, hogy a node lekerek\u00edtett, m\u00edg a topic sz\u00f6gletes. Az azonos\u00edt\u00f3kat itt pl: <code>id1</code>, <code>id2</code>, <code>id3</code> a z\u00e1r\u00f3jel el\u00e9 lehet \u00edrni. A kapcsolatkoat vagy k\u00fcl\u00f6n sorban (mint itt) vagy egy sorban (k\u00e9s\u0151bbi p\u00e9lda) is defini\u00e1lhatjuk.</p> <pre><code>graph LR;\nid1([node1])\nid2([node2])\nid3[topic]\n\nid1 --&gt; id3 --&gt; id2\n</code></pre> <pre><code>graph LR;\nid1([node1])\nid2([node2])\nid3[topic]\n\nid1 --&gt; id3 --&gt; id2</code></pre>"},{"location":"onallo/mermaid/#balrol-jobbra-helyett-fentrol-lefele","title":"Balr\u00f3l jobbra helyett fentr\u0151l lefele","text":"<p>Az <code>TD</code> a top-down r\u00f6vid\u00edt\u00e9se:</p> <pre><code>graph TD;\nid1([node1])\nid2([node2])\nid3[topic]\n\nid1 --&gt; id3 --&gt; id2\n</code></pre> <pre><code>graph TD;\nid1([node1])\nid2([node2])\nid3[topic]\n\nid1 --&gt; id3 --&gt; id2</code></pre>"},{"location":"onallo/mermaid/#szinek-hasznalata","title":"Sz\u00ednek haszn\u00e1lata","text":"<p><code>classDef</code> seg\u00edts\u00e9g\u00e9vel sz\u00edneket, vonalakat, defin\u00e1lhatunk, majd 3 db kett\u0151spont ut\u00e1n <code>:::</code> azonos\u00edthatjuk a megfelel\u0151 oszt\u00e1lyhoz:</p> <pre><code>graph TD;\nid1([node1]):::red\nid2([node2]):::red\nid3[topic]:::light\n\nid1 --&gt; id3 --&gt; id2\n\nclassDef light fill:#34aec5,stroke:#152742,stroke-width:2px,color:#152742  \nclassDef dark fill:#152742,stroke:#34aec5,stroke-width:2px,color:#34aec5\nclassDef white fill:#ffffff,stroke:#152742,stroke-width:2px,color:#152742\nclassDef red fill:#ef4638,stroke:#152742,stroke-width:2px,color:#fff\n</code></pre> <pre><code>graph TD;\nid1([node1]):::red\nid2([node2]):::red\nid3[topic]:::light\n\nid1 --&gt; id3 --&gt; id2\nclassDef light fill:#34aec5,stroke:#152742,stroke-width:2px,color:#152742  \nclassDef dark fill:#152742,stroke:#34aec5,stroke-width:2px,color:#34aec5\nclassDef white fill:#ffffff,stroke:#152742,stroke-width:2px,color:#152742\nclassDef red fill:#ef4638,stroke:#152742,stroke-width:2px,color:#fff</code></pre>"},{"location":"onallo/mermaid/#tobb-node-es-topic","title":"T\u00f6bb node \u00e9s topic","text":"<p>Tov\u00e1bbi, t\u00f6bb node-ot \u00e9s topicot tartalmaz\u00f3 p\u00e9lda:</p> <pre><code>graph LR;\n\ngen([ /gen_node]) --&gt; sine\ngen --&gt; rand[ /rand&lt;br/&gt;std_msgs/Float32]\nsine[ /sine&lt;br/&gt;std_msgs/Float32] --&gt; sum([ /sum_node])\nsum --&gt; out[ /out&lt;br/&gt;std_msgs/Float32]\nrand --&gt; sum\nin[ /in&lt;br/&gt;std_msgs/Float32] --&gt; sum\n</code></pre> <pre><code>graph LR;\n\ngen([ /gen_node]) --&gt; sine\ngen --&gt; rand[ /rand&lt;br/&gt;std_msgs/Float32]\nsine[ /sine&lt;br/&gt;std_msgs/Float32] --&gt; sum([ /sum_node])\nsum --&gt; out[ /out&lt;br/&gt;std_msgs/Float32]\nrand --&gt; sum\nin[ /in&lt;br/&gt;std_msgs/Float32] --&gt; sum</code></pre>"},{"location":"onallo/mermaid/#az-elobbi-pelda-csak-szinekkel","title":"Az el\u0151bbi p\u00e9lda, csak sz\u00ednekkel","text":"<pre><code>graph LR\n\ngen([ /gen_node]):::red --&gt; sine\ngen --&gt; rand[ /rand&lt;br/&gt;std_msgs/Float32]:::light \nsine[ /sine&lt;br/&gt;std_msgs/Float32]:::light --&gt; sum([ /sum_node]):::red\nsum --&gt; out[ /out&lt;br/&gt;std_msgs/Float32]:::light \nrand --&gt; sum\nin[ /in&lt;br/&gt;std_msgs/Float32]:::light --&gt; sum\n\nclassDef light fill:#34aec5,stroke:#152742,stroke-width:2px,color:#152742  \nclassDef dark fill:#152742,stroke:#34aec5,stroke-width:2px,color:#34aec5\nclassDef white fill:#ffffff,stroke:#152742,stroke-width:2px,color:#152742\nclassDef red fill:#ef4638,stroke:#152742,stroke-width:2px,color:#fff\n</code></pre> <pre><code>graph LR\n\ngen([ /gen_node]):::red --&gt; sine\ngen --&gt; rand[ /rand&lt;br/&gt;std_msgs/Float32]:::light \nsine[ /sine&lt;br/&gt;std_msgs/Float32]:::light --&gt; sum([ /sum_node]):::red\nsum --&gt; out[ /out&lt;br/&gt;std_msgs/Float32]:::light \nrand --&gt; sum\nin[ /in&lt;br/&gt;std_msgs/Float32]:::light --&gt; sum\n\nclassDef light fill:#34aec5,stroke:#152742,stroke-width:2px,color:#152742  \nclassDef dark fill:#152742,stroke:#34aec5,stroke-width:2px,color:#34aec5\nclassDef white fill:#ffffff,stroke:#152742,stroke-width:2px,color:#152742\nclassDef red fill:#ef4638,stroke:#152742,stroke-width:2px,color:#fff\n</code></pre>"},{"location":"onallo/mermaid/#alternativ-verzio-class-hasznalatara","title":"Alternat\u00edv verzi\u00f3 <code>class</code> haszn\u00e1lat\u00e1ra","text":"<p>A h\u00e1rom <code>:::</code> pont helyett egyszer\u0171en a <code>class</code> kulcssz\u00f3 ut\u00e1n felsorolhatjuk az oszt\u00e1lyokat:</p> <pre><code>graph LR\n\ngen([ /gen_node]) --&gt; sine\ngen --&gt; rand[ /rand&lt;br/&gt;std_msgs/Float32] \nsine[ /sine&lt;br/&gt;std_msgs/Float32] --&gt; sum([ /sum_node])\nsum --&gt; out[ /out&lt;br/&gt;std_msgs/Float32]\nrand --&gt; sum\nin[ /in&lt;br/&gt;std_msgs/Float32] --&gt; sum\n\nclassDef light fill:#34aec5,stroke:#152742,stroke-width:2px,color:#152742  \nclassDef dark fill:#152742,stroke:#34aec5,stroke-width:2px,color:#34aec5\nclassDef white fill:#ffffff,stroke:#152742,stroke-width:2px,color:#152742\nclassDef red fill:#ef4638,stroke:#152742,stroke-width:2px,color:#fff\n\nclass gen,sum red\nclass rand,sine,in,out light\n</code></pre> <pre><code>graph LR\n\ngen([ /gen_node]) --&gt; sine\ngen --&gt; rand[ /rand&lt;br/&gt;std_msgs/Float32] \nsine[ /sine&lt;br/&gt;std_msgs/Float32] --&gt; sum([ /sum_node])\nsum --&gt; out[ /out&lt;br/&gt;std_msgs/Float32]\nrand --&gt; sum\nin[ /in&lt;br/&gt;std_msgs/Float32] --&gt; sum\n\nclassDef light fill:#34aec5,stroke:#152742,stroke-width:2px,color:#152742  \nclassDef dark fill:#152742,stroke:#34aec5,stroke-width:2px,color:#34aec5\nclassDef white fill:#ffffff,stroke:#152742,stroke-width:2px,color:#152742\nclassDef red fill:#ef4638,stroke:#152742,stroke-width:2px,color:#fff\n\nclass gen,sum red\nclass rand,sine,in,out light\n</code></pre> <pre><code>flowchart LR\n\nA[/ max_deg&lt;/br&gt;param /]:::gray --&gt; D([display_tree&lt;/br&gt;node]):::gray\nB[/ max_dist&lt;/br&gt;param /]:::gray --&gt; D\nC[/ seed_size&lt;/br&gt;param /]:::gray --&gt; D\nD --&gt; |visualization_msgs/marker_array| P[ /path_marker_topic&lt;/br&gt;topic]:::gray\n\n\nclassDef light fill:#34aec5,stroke:#152742,stroke-width:2px,color:#152742  \nclassDef dark fill:#152742,stroke:#34aec5,stroke-width:2px,color:#34aec5\nclassDef white fill:#ffffff,stroke:#152742,stroke-width:2px,color:#152742\nclassDef gray fill:#f6f8fa,stroke:#152742,stroke-width:2px,color:#152742\nclassDef red fill:#ef4638,stroke:#152742,stroke-width:2px,color:#fff\n</code></pre>"},{"location":"onallo/mermaid/#parameterek","title":"Param\u00e9terek","text":"<p>Gyakran j\u00f3l j\u00f6n a defini\u00e1lt param\u00e9terek vizualiz\u00e1l\u00e1sa. Erre jelen tud\u00e1sunk szerint nincs szabv\u00e1nyos jel\u00f6l\u00e9s hexagonok {<code>{ }</code>} vagy paralellogramm\u00e1k <code>[/ /]</code> lehetnek az opci\u00f3k.</p> <pre><code>flowchart LR\n\nA[/ max_deg&lt;/br&gt;param /]:::gray --&gt; D([display_tree&lt;/br&gt;node]):::gray\nB[/ max_dist&lt;/br&gt;param /]:::gray --&gt; D\nC[/ seed_size&lt;/br&gt;param /]:::gray --&gt; D\nD --&gt; |visualization_msgs/marker_array| P[ /path_marker_topic&lt;/br&gt;topic]:::gray\n\n\nclassDef light fill:#34aec5,stroke:#152742,stroke-width:2px,color:#152742  \nclassDef dark fill:#152742,stroke:#34aec5,stroke-width:2px,color:#34aec5\nclassDef white fill:#ffffff,stroke:#152742,stroke-width:2px,color:#152742\nclassDef gray fill:#f6f8fa,stroke:#152742,stroke-width:2px,color:#152742\nclassDef red fill:#ef4638,stroke:#152742,stroke-width:2px,color:#fff\nclassDef green fill:#138b7b,stroke:#152742,stroke-width:2px,color:#fff</code></pre>"},{"location":"onallo/mermaid/#rendszerterv","title":"Rendszerterv","text":"<pre><code>flowchart TD\n    S[State Machine &lt;br&gt;/plan_state_machine] -.-&gt;|/plan_state*| LS[LIDAR segementation&lt;br&gt;/prcp_ground_obstacle_segm_lidar]\n    S -.-&gt; CS[Cone detection camera&lt;br&gt; and de-projection]\n    S -.-&gt; O[Object fusion]\n    CS --&gt;|/prcp_obj_list_camera| O\n    LS --&gt;|/prcp_obj_list_lidar| O\n    O --&gt;|/prcp_obj_list_fused| T[Trajectory planner&lt;br&gt;/plan_trajectory_planner]\n    T --&gt; C[Control&lt;br&gt;/ctrl_vehicle_control]\n    S -.-&gt; T\n    S -.-&gt; C\n    O --&gt; M[Map Creation&lt;br&gt;/prc_slam]\n    M --&gt;|/prcp_map| T\n    L[Localization&lt;br&gt;/prcp_odometry_kf_prediction] --&gt; T\n    C --&gt; CAN[To CAN]\n\n    classDef light fill:#34aec5,stroke:#152742,stroke-width:2px,color:#152742  \n    classDef dark fill:#152742,stroke:#34aec5,stroke-width:2px,color:#34aec5\n    classDef white fill:#ffffff,stroke:#152742,stroke-width:2px,color:#15274\n    classDef dash fill:#ffffff,stroke:#152742,stroke-width:2px,color:#15274, stroke-dasharray: 5 5\n    classDef red fill:#ef4638,stroke:#152742,stroke-width:2px,color:#fff\n    classDef green fill:#138b7b,stroke:#152742,stroke-width:2px,color:#fff\n    class CS,LS,L,T,M,C white\n    class O light\n    class S dash\n    class CAN red\n</code></pre> <pre><code>flowchart TD\n    S[State Machine &lt;br&gt;/plan_state_machine] -.-&gt;|/plan_state*| LS[LIDAR segementation&lt;br&gt;/prcp_ground_obstacle_segm_lidar]\n    S -.-&gt; CS[Cone detection camera&lt;br&gt; and de-projection]\n    S -.-&gt; O[Object fusion]\n    CS --&gt;|/prcp_obj_list_camera| O\n    LS --&gt;|/prcp_obj_list_lidar| O\n    O --&gt;|/prcp_obj_list_fused| T[Trajectory planner&lt;br&gt;/plan_trajectory_planner]\n    T --&gt; C[Control&lt;br&gt;/ctrl_vehicle_control]\n    S -.-&gt; T\n    S -.-&gt; C\n    O --&gt; M[Map Creation&lt;br&gt;/prc_slam]\n    M --&gt;|/prcp_map| T\n    L[Localization&lt;br&gt;/prcp_odometry_kf_prediction] --&gt; T\n    C --&gt; CAN[To CAN]\n    classDef light fill:#34aec5,stroke:#152742,stroke-width:2px,color:#152742  \n    classDef dark fill:#152742,stroke:#34aec5,stroke-width:2px,color:#34aec5\n    classDef white fill:#ffffff,stroke:#152742,stroke-width:2px,color:#15274\n    classDef dash fill:#ffffff,stroke:#152742,stroke-width:2px,color:#15274, stroke-dasharray: 5 5\n    classDef red fill:#ef4638,stroke:#152742,stroke-width:2px,color:#fff\n    classDef green fill:#138b7b,stroke:#152742,stroke-width:2px,color:#fff\n    class CS,LS,L,T,M,C white\n    class O light\n    class S dash\n    class CAN red</code></pre>"},{"location":"onallo/mermaid/#korcikk","title":"K\u00f6rcikk","text":"<p>Az metrics.ros.org/rosdistro_rosdistro.html alapj\u00e1n egy k\u00f6rcikk diagram:</p> <pre><code>pie title ROS distros used\n    \"Melodic (ROS 1)\" : 0.0010\n    \"Noetic (ROS 1)\" : 0.0951\n    \"Humble\" : 0.3333\n    \"Iron\" : 0.1905\n    \"Rolling\" : 0.1904\n</code></pre> <pre><code>pie title ROS distros used\n    \"Melodic (ROS 1)\" : 0.001\n    \"Noetic (ROS 1)\" : 0.095\n    \"Humble\" : 0.33\n    \"Iron\" : 0.19\n    \"Rolling\" : 0.19</code></pre>"},{"location":"onallo/mermaid/#linkek","title":"Linkek","text":"<ul> <li>Mermaid flowchart</li> <li>Mermaid pie chart</li> <li>Mermaid intro</li> </ul>"},{"location":"onallo/ros2git/","title":"Git alapismeretek","text":""},{"location":"onallo/ros2git/#par-parancs","title":"P\u00e1r parancs","text":"<ul> <li><code>git clone</code>: git repo kl\u00f3noz\u00e1sa</li> <li><code>git config --global user.name \"Sanyika\"</code>: felhszn\u00e1l\u00f3n\u00e9v be\u00e1ll\u00edt\u00e1sa</li> <li><code>git config --global user.email \"sanyika@gggmail.com</code>: email be\u00e1ll\u00edt\u00e1sa</li> <li><code>git init</code>: lok\u00e1lis rep\u00f3 inicializ\u00e1l\u00e1sa</li> <li><code>git add &lt;file&gt;</code>: f\u00e1jl hozz\u00e1ad\u00e1sa</li> <li><code>git status</code>: aktu\u00e1lis st\u00e1tusz lek\u00e9rdez\u00e9se</li> <li><code>git commit -m \"My beautiful commit\"</code>: commit, \u00fczenettel</li> <li><code>git push</code>: push</li> <li><code>git pull</code>: pull, v\u00e1ltoz\u00e1sok lok\u00e1lis lefriss\u00edt\u00e9se</li> <li><code>git branch &lt;new_branch_name&gt;</code>: branch k\u00e9sz\u00edt\u00e9se</li> <li><code>git checkout &lt;branch_name&gt;</code>: \u00faj branch</li> <li><code>git checkout -- .</code>: Minden nem staged (unstaged) v\u00e1ltoz\u00e1s elvet\u00e9se lok\u00e1lisan. VS code-ban kb ez a \"discard all changes\" parancs. (\u00dajabb git verzi\u00f3kban a <code>git restore .</code> is hasonl\u00f3 m\u00f3don m\u0171k\u00f6dik.)</li> <li><code>git merge &lt;branch_name&gt;</code>: a jelenlegi branch-be mergeli a branch-t</li> </ul> <p>Forr\u00e1s: link</p>"},{"location":"onallo/ros2git/#terminologia","title":"Terminol\u00f3gia","text":"<ul> <li>Local repository: a helyi munka repo, pl lok\u00e1lisan a <code>~/ros2_ws/src/my_repo</code> </li> <li>Remote repository: \u00e1ltal\u00e1ban online t\u00e1voli backup repo pl: <code>github.com/my_name/my_repo</code></li> </ul>"},{"location":"onallo/ros2git/#elokeszuletek","title":"El\u0151k\u00e9sz\u00fcletek","text":"<p>Ha m\u00e9g nem tetted volna meg, regisztr\u00e1lj GitHub-ra.</p>"},{"location":"onallo/ros2git/#a-template-hasznalata","title":"A template haszn\u00e1lata","text":"<p>Navig\u00e1lj a https://github.com/sze-info/ros2_cpp_template URL-re.</p> <p>Itt haszn\u00e1ld a z\u00f6ld gombot, hozd l\u00e9tre a saj\u00e1t felhaszn\u00e1l\u00f3ddal a <code>my_awesome_package</code> nev\u0171 package-t:</p> <p></p> <p>Ut\u00e1na ez az oldal fogad, itt ki kell t\u00f6lteni a repo nev\u00e9t, ut\u00e1na pedig a z\u00f6ld gombra kattintva l\u00e9trej\u00f6n a repo:</p> <p></p>"},{"location":"onallo/ros2git/#klonozd-git-clone-segitsegevel-a-sajat-package-d","title":"Kl\u00f3nozd <code>git clone</code> seg\u00edts\u00e9g\u00e9vel a saj\u00e1t package-d","text":"<p>Ha a Github userneved <code>mycoolusername</code> a repo (\u00e9s egyben a package) neve pedig <code>my_awesome_package</code>, akkor pl \u00edgy tudod megtenni:</p> <p><pre><code>cd ~/ros2_ws/src\n</code></pre> <pre><code>git clone https://github.com/mycoolusername/my_awesome_package\n</code></pre> <pre><code>git clone https://github.com/horverno/my_awesome_package\n</code></pre></p>"},{"location":"onallo/ros2git/#vs-code-ban-cserelj-ki-mindent","title":"VS code-ban cser\u00e9lj ki mindent","text":"<p><pre><code>cd ~/ros2_ws/src/my_awesome_package\n</code></pre> <pre><code>code .\n</code></pre></p> <ol> <li><code>ros2_cpp_template</code> &gt;&gt; <code>my_awesome_package</code> </li> <li><code>sze-info</code> &gt;&gt; <code>mycoolusername</code></li> <li><code>todo</code> &gt;&gt; \u00e9rtelemszer\u0171en</li> </ol> <p></p>"},{"location":"onallo/ros2git/#build","title":"Build","text":"<p>M\u00e1r buildelhet\u0151 a package:</p> <p><pre><code>cd ~/ros2_ws/\n</code></pre> <pre><code>colcon build --packages-select my_awesome_package\n</code></pre> A termin\u00e1l egy \u00fczenetet k\u00fcld vissza, amely meger\u0151s\u00edti, hogy a <code>my_awesome_package</code> csomag  lebuildelt.</p>"},{"location":"onallo/ros2git/#futtatas","title":"Futtat\u00e1s","text":"<p>Futtat\u00e1s a szok\u00e1sos m\u00f3don:</p> <p><pre><code>source ~/ros2_ws/install/local_setup.bash\n</code></pre> <pre><code>ros2 launch my_awesome_package launch_example1.launch.py\n</code></pre></p>"},{"location":"onallo/ros2git/#valtozasok-kovetese-git-status-segitsegevel","title":"V\u00e1ltoz\u00e1sok k\u00f6vet\u00e9se <code>git status</code> seg\u00edts\u00e9g\u00e9vel","text":"<p>Amikor lecser\u00e9lt\u00fck a package nevet, t\u00f6bb f\u00e1jl is m\u00f3dosult:</p> <p><pre><code>cd ~/ros2_ws/src/my_awesome_package\n</code></pre> <pre><code>git status\n</code></pre></p> Git status <p>Ugyanez VS code-ban \u00edgy n\u00e9z ki:</p> Git status VS code"},{"location":"onallo/ros2git/#tavoli-repo-frissitese-git-push-segitsegevel","title":"T\u00e1voli repo friss\u00edt\u00e9se <code>git push</code> seg\u00edts\u00e9g\u00e9vel","text":"<p>Minden m\u00f3dos\u00edt\u00e1st szeretnnk a commithoz adni:</p> <pre><code>git add .\n</code></pre> <p>T\u00f6lts\u00fck ki az \u00fczenetet:</p> <pre><code>git commit -m \"Initial commit of my_awesome_package\"\n</code></pre> <p>T\u00e9nylegesen push-oljuk a m\u00f3dos\u00edt\u00e1st a GitHub szervereire: </p> <pre><code>git push\n</code></pre> Git status add ut\u00e1n <p>VS code-ban ez is egyszer\u0171bb, Commit, majd Sync Changes:</p> Git status Sync (push)"},{"location":"onallo/ros2git/#lokalis-repo-frissitese-git-pull-segitsegevel","title":"Lok\u00e1lis repo friss\u00edt\u00e9se <code>git pull</code> seg\u00edts\u00e9g\u00e9vel","text":"<p>Abban az esetben, ha nem a legfrissebb verzi\u00f3 lenne lok\u00e1lisan, a github-on online t\u00e1rolt remote lefriss\u00edtehet\u0151:</p> Git status (pull)"},{"location":"onallo/ros2git/#forrasok","title":"Forr\u00e1sok","text":"<ul> <li>docs.ros.org/en/humble/Tutorials/Beginner-Client-Libraries/Creating-Your-First-ROS2-Package.html</li> <li>docs.ros.org/en/humble/Tutorials/Beginner-Client-Libraries/Writing-A-Simple-Cpp-Publisher-And-Subscriber.html</li> <li>docs.ros.org/en/humble/Tutorials/Beginner-Client-Libraries/Writing-A-Simple-Py-Publisher-And-Subscriber.html</li> </ul>"},{"location":"onallo/ros2launchmarker/","title":"Le\u00edr\u00e1s","text":"<p>\u00d6n\u00e1ll\u00f3 feladatk\u00e9nt k\u00e9sz\u00edts\u00fcnk egy <code>my_launch_pkg</code> nev\u0171 package-t, amiben egy <code>run_transforms_and_markers.launch.py</code> elind\u00edtja a:</p> <ul> <li>node-ot, ami a <code>map</code>, <code>orbit1</code> \u00e9s <code>orbit2</code> frame-ket publik\u00e1lja (<code>ros2 run arj_transforms_cpp pub_transforms</code>)</li> <li>az <code>rqt_reconfigure</code>-t (<code>ros2 run rqt_reconfigure rqt_reconfigure</code>)</li> <li>a statikus <code>orbit3</code> frame-et (<code>ros2 run tf2_ros static_transform_publisher --x 1.0 --y 0.2 --z 1.4 --qx 0.0 --qy 0.0 --qz 0.0 --qw 1.0 --frame-id orbit2 --child-frame-id orbit3</code>)</li> <li>\u00e9s az Rviz2-t ind\u00edt\u00f3 launch-t is (<code>ros2 launch arj_transforms_cpp rviz1.launch.py</code>)</li> </ul> <p>Ellen\u0151rizz\u00fck rviz2-ben a helyes m\u0171k\u00f6d\u00e9st.</p> <p>Teh\u00e1t ind\u00edthat\u00f3 legyen az \u00f6n\u00e1ll\u00f3 feladat v\u00e9g\u00e9n a k\u00f6vetkez\u0151 paranccsal:</p> <pre><code>ros2 launch my_launch_pkg run_transforms_and_markers.launch.py\n</code></pre>"},{"location":"onallo/ros2launchmarker/#hozzuk-letre-a-my_launch_pkg-package-t","title":"Hozzuk l\u00e9tre a <code>my_launch_pkg</code> package-t","text":"<p>El\u0151k\u00f6vetelm\u00e9ny, hogy a <code>arj_transforms_cpp</code> package m\u00e1r buildelve \u00e9s futtathat\u00f3 legyen.</p> <p>Ha esetleg m\u00e1r l\u00e9tezne a <code>my_launch_pkg</code> package akkor t\u00f6r\u00f6lj\u00fck. (G\u00e9pteremben elk\u00e9pzelehet\u0151, hogy el\u0151z\u0151 f\u00e9l\u00e9vben valaki l\u00e9trehozta.)</p> <pre><code>cd ~ &amp;&amp; test -d \"ros2_ws/src/my_launch_pkg\" &amp;&amp; echo Letezik || echo Nem letezik\n</code></pre> <pre><code>rm -r  ~/ros2_ws/src/my_launch_pkg\n</code></pre> <p>Nyissunk egy \u00faj termin\u00e1lt, \u00e9s source-oljuk a telep\u00edt\u00e9st (ha nincs <code>bashrc</code>-ben), hogy a <code>ros2</code> parancsok m\u0171k\u00f6djenek.</p> <p>Navig\u00e1ljunk az m\u00e1r l\u00e9trehozott <code>ros2_ws</code> k\u00f6nyvt\u00e1rba.</p> <p>Fontos, hogy a csomagokat az <code>src</code> k\u00f6nyvt\u00e1rban kell l\u00e9trehozni, nem a munkater\u00fclet gy\u00f6ker\u00e9ben. Teh\u00e1t navig\u00e1ljunk a <code>ros2_ws/src</code> mapp\u00e1ba, \u00e9s futtassuk a package l\u00e9trehoz\u00f3 parancsot:</p> <pre><code>cd ~/ros2_ws/src\n</code></pre> <pre><code>ros2 pkg create --build-type ament_cmake my_launch_pkg\n</code></pre> <p>A termin\u00e1l egy \u00fczenetet k\u00fcld vissza, amely meger\u0151s\u00edti a <code>my_launch_pkg</code> csomag \u00e9s az \u00f6sszes sz\u00fcks\u00e9ges f\u00e1jl \u00e9s mappa l\u00e9trehoz\u00e1s\u00e1t.</p>"},{"location":"onallo/ros2launchmarker/#launch-mappa","title":"Launch mappa","text":"<p>Hozzunk l\u00e9tre egy mapp\u00e1t a launch f\u00e1jlok r\u00e9sz\u00e9re:</p> <pre><code>cd ~/ros2_ws/src/my_launch_pkg\n</code></pre> <pre><code>mkdir launch\n</code></pre>"},{"location":"onallo/ros2launchmarker/#launch-fajl-letrehozasa","title":"Launch f\u00e1jl l\u00e9trehoz\u00e1sa","text":"<pre><code>cd launch\n</code></pre> <pre><code>code run_transforms_and_markers.launch.py\n</code></pre> <p>\u00c1ll\u00edtsunk \u00f6ssze egy launch f\u00e1jlt: </p> <pre><code>from launch import LaunchDescription\nfrom launch_ros.actions import Node\nfrom launch.actions import IncludeLaunchDescription\nfrom launch.launch_description_sources import PythonLaunchDescriptionSource\nfrom launch_ros.substitutions import FindPackageShare\n\n\ndef generate_launch_description():\n    return LaunchDescription([\n        # ros2 run arj_transforms_cpp pub_transforms\n        Node(\n            package='arj_transforms_cpp',\n            executable='pub_transforms',\n        ),\n        # ros2 run rqt_reconfigure rqt_reconfigure\n        Node(\n            package='rqt_reconfigure',\n            executable='rqt_reconfigure',\n        ),\n        # ros2 run tf2_ros static_transform_publisher --x 1.0 --y 0.2 --z 1.4 --qx 0.0 --qy 0.0 --qz 0.0 --qw 1.0 --frame-id orbit2 --child-frame-id orbit3\n        Node(\n            package='tf2_ros',\n            executable='static_transform_publisher',\n            arguments=['1.0', '0.2', '1.4','0', '0', '0', '1', 'orbit2','orbit3'],\n        ),     \n        # ros2 launch arj_transforms_cpp rviz1.launch.py\n        IncludeLaunchDescription(\n            PythonLaunchDescriptionSource([\n                FindPackageShare(\"arj_transforms_cpp\"), '/launch/', 'rviz1.launch.py'])\n        ),\n    ])\n</code></pre>"},{"location":"onallo/ros2launchmarker/#ros2-launch-hasznalata","title":"<code>ROS2</code> launch haszn\u00e1lata","text":"<p>A l\u00e9trehozott launch f\u00e1jl elind\u00edt\u00e1sa az al\u00e1bbi m\u00f3don t\u00f6rt\u00e9nik:</p> <p><pre><code>cd ~/ros2_ws/src/my_launch_pkg/launch # bel\u00e9p\u00fcnk a launch f\u00e1jlt tartalmaz\u00f3 mapp\u00e1ba\n</code></pre> <pre><code>ros2 launch run_transforms_and_markers.launch.py\n</code></pre></p> <p>A fent bemutatott direkt m\u00f3don k\u00edv\u00fcl egy launch f\u00e1jl futtathat\u00f3 csomag \u00e1ltal is:</p> <pre><code>ros2 launch &lt;csomag_megnevez\u00e9se&gt; &lt;launch_f\u00e1jl_neve&gt;\n</code></pre> <p>Olyan csomagok eset\u00e9ben, amelyek launch f\u00e1jlt tartalmaznak, \u00e9rdemes l\u00e9trehozni egy <code>exec_depend</code> f\u00fcgg\u0151s\u00e9get a <code>ros2launch</code> csomagra vonatkoz\u00f3an a csomag <code>package.xml</code> f\u00e1jlj\u00e1ban:</p> <pre><code>&lt;exec_depend&gt;ros2launch&lt;/exec_depend&gt;\n</code></pre> <p>Ezzel biztos\u00edthat\u00f3, hogy az <code>ros2 launch</code> parancs el\u00e9rhet\u0151 a csomag buildel\u00e9se ut\u00e1n.</p>"},{"location":"onallo/ros2launchmarker/#adjuk-hozza-a-package-hez-hogy-barhonnan-indithassuk","title":"Adjuk hozz\u00e1 a package-hez, hogy b\u00e1rhonnan ind\u00edthassuk","text":"<pre><code>cd ~/ros2_ws/src/my_launch_pkg\n</code></pre> <pre><code>code .\n</code></pre> <p>A package.xml-hez a <code>&lt;test_depend&gt;</code> el\u00e9 sz\u00farjuk be k\u00f6vetkez\u0151 sort:</p> <pre><code>&lt;exec_depend&gt;ros2launch&lt;/exec_depend&gt;\n</code></pre> <p>A CMakeLists.txt-hez a <code>ament_package()</code> el\u00e9 sz\u00farjuk be k\u00f6vetkez\u0151 2 sort:</p> <pre><code>install(DIRECTORY launch\n  DESTINATION share/${PROJECT_NAME})\n</code></pre> <p>Buildelj\u00fck a szok\u00e1so m\u00f3don:</p> <pre><code>cd ~/ros2_ws\n</code></pre> <pre><code>colcon build --packages-select my_launch_pkg\n</code></pre> <pre><code>source ~/ros2_ws/install/setup.bash\n</code></pre> <p>Ez a parancs most m\u00e1r b\u00e1rhonnan kiadhat\u00f3:</p> <pre><code>ros2 launch my_launch_pkg run_transforms_and_markers.launch.py\n</code></pre>"},{"location":"onallo/ros2launchmarker/#forrasok","title":"Forr\u00e1sok","text":"<ul> <li>docs.ros.org/en/humble/Tutorials/Beginner-Client-Libraries/Creating-Your-First-ROS2-Package.html</li> <li>docs.ros.org/en/humble/Tutorials/Beginner-Client-Libraries/Writing-A-Simple-Cpp-Publisher-And-Subscriber.html</li> <li>docs.ros.org/en/humble/Tutorials/Beginner-Client-Libraries/Writing-A-Simple-Py-Publisher-And-Subscriber.html</li> </ul>"},{"location":"ros2halado/","title":"ROS 2 halad\u00f3 funkci\u00f3k","text":""},{"location":"ros2halado/docker/","title":"Docker","text":"<p>Sz\u00e1mos tutorial \u00e9s le\u00edr\u00e1s \u00e9rhet\u0151 el a Docker haszn\u00e1lat\u00e1r\u00f3l, ebb\u0151l viszont kev\u00e9s f\u00f3kusz\u00e1l a robotik\u00e1ra.</p>"},{"location":"ros2halado/docker/#forrasok","title":"Forr\u00e1sok","text":"<ul> <li>articulatedrobotics.xyz</li> <li>Youtube playlist articulatedrobotics</li> </ul>"},{"location":"ros2halado/mcap/","title":"MCAP f\u00e1jlok","text":""},{"location":"ros2halado/mcap/#mcap-fajlok","title":"<code>MCAP</code> f\u00e1jlok","text":"<p>Az <code>ROS 2</code> az log adatokhoz az <code>MCAP</code> form\u00e1tumot haszn\u00e1lja. Ez a form\u00e1tum nem dedik\u00e1ltan az ROS saj\u00e1t form\u00e1tuma, hanem egy ny\u00edlt forr\u00e1sk\u00f3d\u00fa kont\u00e9nerf\u00e1jl t\u00edpus tetsz\u0151leges multimod\u00e1lis log-adatokhoz. T\u00e1mogatja az id\u0151b\u00e9lyegz\u0151vel ell\u00e1tott, el\u0151re sorba rendezett adatokat. \u00cdgy ide\u00e1lis a pub/sub vagy robotikai alkalmaz\u00e1sokban val\u00f3 haszn\u00e1latra is, a <code>ROS 2</code> is ez\u00e9rt d\u00f6nt\u00f6tt mellette. A k\u00f6vetkez\u0151kben arr\u00f3l lesz sz\u00f3, hogyan lehets\u00e9ges a form\u00e1tum C++,   Go, Python, Rust,   Swift vagy TypeScript nyelven t\u00f6rt\u00e9n\u0151 szerkeszt\u00e9se. Illetve egy python p\u00e9ld\u00e1n kereszt\u00fcl gyakorlati oldalr\u00f3l is szeml\u00e9ltetj\u00fck ezt.</p> <p>Az MCAP egy fejlett logf\u00e1jlform\u00e1tum, amely kifejezetten a pub/sub \u00fczenetek \u00e9s multimod\u00e1lis szenzoradatok id\u0151b\u00e9lyeggel ell\u00e1tott csatorn\u00e1inak t\u00e1rol\u00e1s\u00e1ra szolg\u00e1l. Nem k\u00f6t\u0151dik egyetlen soros\u00edt\u00e1si form\u00e1tumhoz sem, \u00edgy k\u00e9pes b\u00e1rmilyen form\u00e1tum\u00fa bin\u00e1ris \u00fczenetek, p\u00e9ld\u00e1ul Protobuf, DDS (CDR), ROS, JSON \u00e9s m\u00e1sok r\u00f6gz\u00edt\u00e9s\u00e9re \u00e9s visszaj\u00e1tsz\u00e1s\u00e1ra. Az MCAP nagy teljes\u00edtm\u00e9ny\u0171 \u00edr\u00e1st tesz lehet\u0151v\u00e9 a sororient\u00e1lt, csak hozz\u00e1f\u0171z\u0151 tervez\u00e9s\u00e9nek k\u00f6sz\u00f6nhet\u0151en, amely minimaliz\u00e1lja a lemez I/O m\u0171veleteket \u00e9s cs\u00f6kkenti az adatveszt\u00e9s kock\u00e1zat\u00e1t nem tiszta le\u00e1ll\u00edt\u00e1sok eset\u00e9n.</p> <p>Az MCAP \u00f6n\u00e1ll\u00f3 form\u00e1tum, mivel az \u00fczenetek s\u00e9m\u00e1it is az adatok mellett t\u00e1rolja, \u00edgy a f\u00e1jlok a j\u00f6v\u0151ben is olvashat\u00f3ak maradnak, m\u00e9g akkor is, ha a k\u00f3db\u00e1zis id\u0151k\u00f6zben v\u00e1ltozik. Az MCAP f\u00e1jlok opcion\u00e1lis indexet tartalmaznak, ami gyors \u00e9s hat\u00e9kony adatolvas\u00e1st tesz lehet\u0151v\u00e9, m\u00e9g alacsony s\u00e1vsz\u00e9less\u00e9g\u0171 internetkapcsolaton kereszt\u00fcl is. Opcion\u00e1lis t\u00f6m\u00f6r\u00edt\u00e9st is k\u00edn\u00e1l, p\u00e9ld\u00e1ul LZ4 vagy Zstandard form\u00e1j\u00e1ban, mik\u00f6zben tov\u00e1bbra is t\u00e1mogatja a hat\u00e9kony indexelt olvas\u00e1st.</p> <p>Az MCAP sz\u00e9les k\u00f6r\u0171 nyelvi t\u00e1mogat\u00e1st ny\u00fajt, nat\u00edv olvas\u00f3 \u00e9s \u00edr\u00f3 k\u00f6nyvt\u00e1rakkal C++, Go, Python, Rust, Swift \u00e9s TypeScript nyelveken. A form\u00e1tum rugalmasan konfigur\u00e1lhat\u00f3 opcion\u00e1lis funkci\u00f3kkal, mint a darabol\u00e1s, indexel\u00e9s, CRC ellen\u0151rz\u0151\u00f6sszegek \u00e9s t\u00f6m\u00f6r\u00edt\u00e9s, hogy a megfelel\u0151 kompromisszumokat k\u00edn\u00e1lja az adott alkalmaz\u00e1shoz. Az MCAP gy\u00e1rt\u00e1sra k\u00e9sz form\u00e1tum, amelyet sz\u00e9les k\u00f6rben haszn\u00e1lnak k\u00fcl\u00f6nb\u00f6z\u0151 c\u00e9gek, p\u00e9ld\u00e1ul auton\u00f3m j\u00e1rm\u0171vek \u00e9s dr\u00f3nok eset\u00e9ben, \u00e9s ez az alap\u00e9rtelmezett logform\u00e1tum a ROS 2-ben.</p> <p>Az <code>MCAP</code> f\u00e1jlform\u00e1tum ROS 2 agnosztikus, teh\u00e1t nem f\u00fcgg mag\u00e1t\u00f3l az ROS 2-t\u0151l, \u00edgy b\u00e1rmilyen Python projektben haszn\u00e1lhat\u00f3. Fontos megjegyezni, hogy a <code>rosbag2-api</code> python csomag viszont ROS 2 f\u00fcgg\u0151. \u00cdgy c\u00e9lszer\u0171 ink\u00e1bb az <code>mcap-ros2-support</code> python csomag haszn\u00e1lata, amely nem ig\u00e9nyel ROS 2-t, \u00edgy p\u00e9ld\u00e1ul Windowson is futtathat\u00f3.</p> <p>A Python MCAP ROS2 support csomag (<code>mcap-ros2-support</code>) lehet\u0151v\u00e9 teszi a ROS2 t\u00e1mogat\u00e1st a Python MCAP f\u00e1jlform\u00e1tum olvas\u00f3 sz\u00e1m\u00e1ra. Telep\u00edts\u00fck a k\u00f6vetkez\u0151 parancshoz hasonl\u00f3 m\u00f3don:</p> <pre><code>pip install mcap mcap-ros2-support matplotlib numpy pandas scipy\n</code></pre>"},{"location":"ros2halado/mcap/#mcap-fajl-olvasasa-pelda","title":"MCAP f\u00e1jl olvas\u00e1sa p\u00e9lda","text":"<p>A github.com/jkk-research/jkk_utils/tree/ros2/mcap_scripts el\u00e9r\u00e9sen t\u00f6bb hasonl\u00f3 p\u00e9lda is megtal\u00e1lhat\u00f3:</p> <pre><code>from mcap_ros2.decoder import DecoderFactory\nfrom mcap.reader import make_reader\ndef main():\n    with open('C:\\\\temp\\\\test.mcap', \"rb\") as f:\n        reader = make_reader(f, decoder_factories=[DecoderFactory()])\n        #list all topics and types\n        channels = reader.get_summary().channels.items()\n        print(\"Available topics are the following:\")\n        for index, (channel_key, channel_value) in enumerate(channels):\n            print(\"%2d. topic: %s\" % (index+1, channel_value.topic))\n</code></pre>"},{"location":"ros2halado/mcap/#forrasok","title":"Forr\u00e1sok","text":"<ul> <li>docs.ros.org/en/humble/How-To-Guides/Visualizing-ROS-2-Data-With-Foxglove-Studio.html</li> <li>github.com/jkk-research/jkk_utils/tree/ros2/mcap_scripts</li> <li>mcap.dev</li> <li>mcap.dev/docs/python/raw_reader_writer_example</li> <li>pypi.org/project/mcap-ros2-support (\u2714\ufe0f recommended, no ROS 2 dependency)</li> <li>pypi.org/project/rosbag2-api (\u274c ROS 2 dependency)</li> </ul>"},{"location":"ros2halado/pointcloud_to_grid/","title":"<code>pointcloud_to_grid</code> ROS 2 package","text":"<p>This package converts <code>sensor_msgs/PointCloud2</code> LIDAR data to <code>nav_msgs/OccupancyGrid</code> 2D map data based on intensity and / or height.</p> <p></p> <p>Link: github.com/jkk-research/pointcloud_to_grid</p>"},{"location":"ros2halado/py_cpp/","title":"Python \u00e9s C++ \u00f6sszehasonl\u00edt\u00e1sa","text":"PythonC++ <pre><code>#  ros2 topic type /lexus3/gps/duro/current_pose\n#  geometry_msgs/msg/PoseStamped\n#  ros2 interface show geometry_msgs/msg/PoseStamped\n\nimport rclpy\nfrom rclpy.node import Node\nfrom geometry_msgs.msg import PoseStamped\n\n\nclass SimplePoseSub(Node):\n\n    def __init__(self):\n        super().__init__('simple_pose_sub')\n        self.sub1_ = self.create_subscription(PoseStamped, '/lexus3/gps/duro/current_pose', self.topic_callback, 10)\n\n\n\n    def topic_callback(self, msg):\n\n        self.get_logger().info('x: %.3f, y: %.3f', msg.pose.position.x, msg.pose.position.y)\n\n\n\n\ndef main(args=None):\n\n    rclpy.init(args=args)                   ## Initialize the ROS 2 client library\n    simple_pose_sub = SimplePoseSub()\n    rclpy.spin(simple_pose_sub)             ## Create a node and spin\n    simple_pose_sub.destroy_node()\n    rclpy.shutdown()                        ## Shutdown the ROS 2 client library\n\nif __name__ == '__main__':\n    main()\n</code></pre> <pre><code>// ros2 topic type /lexus3/gps/duro/current_pose\n// geometry_msgs/msg/PoseStamped\n// ros2 interface show geometry_msgs/msg/PoseStamped\n\n#include \"rclcpp/rclcpp.hpp\"\n#include &lt;memory&gt;\n#include \"geometry_msgs/msg/pose_stamped.hpp\"\nusing std::placeholders::_1;\n\nclass SimplePoseSub : public rclcpp::Node{\npublic:\n    SimplePoseSub() : Node(\"simple_pose_sub\")\n    {\n        sub1_ = this-&gt;create_subscription&lt;geometry_msgs::msg::PoseStamped&gt;(\"/lexus3/gps/duro/current_pose\", 10, std::bind(&amp;SimplePoseSub::topic_callback, this, _1));\n    }\n\nprivate:\n    void topic_callback(const geometry_msgs::msg::PoseStamped &amp;msg) const\n    {\n        RCLCPP_INFO(this-&gt;get_logger(), \"x: %.3f, y: %.3f\", msg.pose.position.x, msg.pose.position.y);\n    }\n    rclcpp::Subscription&lt;geometry_msgs::msg::PoseStamped&gt;::SharedPtr sub1_;\n    };\n\nint main(int argc, char *argv[])\n{\n    rclcpp::init(argc, argv);               // Initialize the ROS 2 client library\n    rclcpp::spin(\n        std::make_shared&lt;SimplePoseSub&gt;()); // Create a node and spin\n\n    rclcpp::shutdown();                     // Shutdown the ROS 2 client library\n    return 0;\n\n}\n</code></pre>"},{"location":"ros2halado/qos/","title":"DDS protokoll","text":"<p>A DDS (Data Distribution Service) az Object Management Group (OMG) \u00e1ltal standardiz\u00e1lt kommuink\u00e1ci\u00f3s protokoll.</p> <p></p> <p>A DDS protokoll sz\u00e9les k\u00f6rben haszn\u00e1lt az ipari automatiz\u00e1l\u00e1sban, a h\u00e1l\u00f3zatos\u00edtott rendszerekben \u00e9s m\u00e1s ter\u00fcleteken, ahol az elosztott adatkommunik\u00e1ci\u00f3 \u00e9s a val\u00f3s idej\u0171 adatfeldolgoz\u00e1s kiemelt fontoss\u00e1ggal b\u00edr. DDS-\u00e1tvitel rugalmass\u00e1g\u00e1b\u00f3l profit\u00e1l vesztes\u00e9ges vezet\u00e9k n\u00e9lk\u00fcli h\u00e1l\u00f3zatokkal rendelkez\u0151 k\u00f6rnyezetekben, ahol a \"legjobb er\u0151fesz\u00edt\u00e9s\" (<code>best effort</code>) elv lenne megfelel\u0151bb vagy val\u00f3s idej\u0171 sz\u00e1m\u00edt\u00e1stechnikai rendszerekben, ahol pedig a megfelel\u0151 min\u0151s\u00e9g. Az id\u0151z\u00edt\u00e9sek betart\u00e1s\u00e1hoz sz\u00fcks\u00e9g van a szolg\u00e1ltat\u00e1si profilra. A QoS \"h\u00e1zirendek\" halmaza egy QoS \"profilt\" alkot. Tekintettel az adott forgat\u00f3k\u00f6nyvh\u00f6z megfelel\u0151 QoS-ir\u00e1nyelvek kiv\u00e1laszt\u00e1s\u00e1nak bonyolults\u00e1g\u00e1ra, a kommunik\u00e1ci\u00f3 el\u0151re defini\u00e1lt QoS-profilokat biztos\u00edt \u00e1ltal\u00e1nos haszn\u00e1lati esetekre (pl. szenzoradatok). </p>"},{"location":"ros2halado/qos/#szolgaltatasminoseg-qos","title":"Szolg\u00e1ltat\u00e1smin\u0151s\u00e9g (QoS)","text":"<p>A szolg\u00e1ltat\u00e1smin\u0151s\u00e9g  angol sz\u00f3val Quality of Service vagy r\u00f6viden QoS. Az alap QoS-profil a k\u00f6vetkez\u0151 h\u00e1zirendek be\u00e1ll\u00edt\u00e1sait tartalmazza:</p>"},{"location":"ros2halado/qos/#mult-history","title":"M\u00falt (<code>history</code>)","text":"<ul> <li>Utols\u00f3 megtart\u00e1sa (<code>keep last</code>): legfeljebb N mint\u00e1t t\u00e1rolhat, a sorm\u00e9lys\u00e9g opci\u00f3val konfigur\u00e1lhat\u00f3.</li> <li>Mind megtart\u00e1sa (<code>keep all</code>): az \u00f6sszes mint\u00e1t t\u00e1rolja, az alapul szolg\u00e1l\u00f3 k\u00f6ztes szoftver konfigur\u00e1lt er\u0151forr\u00e1s-korl\u00e1tjait\u00f3l f\u00fcgg\u0151en.</li> </ul>"},{"location":"ros2halado/qos/#melyseg-depth","title":"M\u00e9lys\u00e9g (<code>depth</code>)","text":"<ul> <li>Sor m\u00e9rete: csak akkor teljes\u00fcl, ha az \"el\u0151zm\u00e9nyek\" h\u00e1zirend \"utols\u00f3 meg\u0151rz\u00e9sre\" van \u00e1ll\u00edtva.</li> </ul>"},{"location":"ros2halado/qos/#megbizhatosag-relyability","title":"Megb\u00edzhat\u00f3s\u00e1g (<code>relyability</code>)","text":"<ul> <li>Legjobb er\u0151fesz\u00edt\u00e9s (<code>best effort</code>): pr\u00f3b\u00e1ljon meg mint\u00e1kat sz\u00e1ll\u00edtani, de elvesz\u00edtheti azokat, ha a h\u00e1l\u00f3zat nem robusztus.</li> <li>Megb\u00edzhat\u00f3 (<code>reliable</code>): garant\u00e1lja a mint\u00e1k kisz\u00e1ll\u00edt\u00e1s\u00e1t, t\u00f6bbsz\u00f6r is pr\u00f3b\u00e1lkozhat.</li> </ul>"},{"location":"ros2halado/qos/#tartossag-durability","title":"Tart\u00f3ss\u00e1g (<code>durability</code>)","text":"<ul> <li>\u00c1tmeneti helyi (<code>transient local</code>): a kiad\u00f3 felel\u0151s a \u201ek\u00e9s\u0151n csatlakoz\u00f3\u201d el\u0151fizet\u00e9sek tart\u00f3s mint\u00e1i\u00e9rt.</li> <li>Ill\u00e9kony: nem t\u00f6rt\u00e9nik k\u00eds\u00e9rlet a mint\u00e1k fennmarad\u00e1s\u00e1ra.</li> </ul>"},{"location":"ros2halado/qos/#hatarido-idozites-deadline","title":"Hat\u00e1rid\u0151, id\u0151z\u00edt\u00e9s (<code>deadline</code>)","text":"<ul> <li>Id\u0151tartam: a v\u00e1rhat\u00f3 maxim\u00e1lis id\u0151tartam a k\u00f6vetkez\u0151 \u00fczenetek k\u00f6zz\u00e9t\u00e9tele k\u00f6z\u00f6tt egy t\u00e9m\u00e1ban</li> </ul>"},{"location":"ros2halado/qos/#elettartam-lifespan","title":"\u00c9lettartam (<code>lifespan</code>)","text":"<ul> <li>Id\u0151tartam: az \u00fczenet k\u00f6zz\u00e9t\u00e9tele \u00e9s fogad\u00e1sa k\u00f6z\u00f6tti maxim\u00e1lis id\u0151tartam an\u00e9lk\u00fcl, hogy az \u00fczenet elavultnak vagy lej\u00e1rtnak min\u0151s\u00fclne (a lej\u00e1rt \u00fczeneteket a rendszer eldobja, \u00e9s gyakorlatilag soha nem \u00e9rkezik meg).</li> </ul>"},{"location":"ros2halado/qos/#elenkseg-liveliness","title":"\u00c9l\u00e9nks\u00e9g (<code>liveliness</code>)","text":"<ul> <li>Automatikus: a rendszer a node \u00f6sszes publisherj\u00e9t \u00e9l\u0151nek tekinti egy \u00fajabb \"elenged\u00e9si id\u0151tartamra\", ha valamelyik kiad\u00f3ja k\u00f6zz\u00e9tett egy \u00fczenetet.</li> <li>Manu\u00e1lis: a rendszer a publishert egy m\u00e1sik \" elenged\u00e9si id\u0151tartamra\" \u00e9l\u0151nek tekinti, ha manu\u00e1lisan (a publisher API-j\u00e1nak h\u00edv\u00e1s\u00e1val) azt \u00e1ll\u00edtja, hogy m\u00e9g \u00e9letben van.</li> </ul>"},{"location":"ros2halado/qos/#elengedesi-idotartam-lease-duration","title":"Elenged\u00e9si id\u0151tartam (<code>lease duration</code>)","text":"<ul> <li>Id\u0151tartam: az a maxim\u00e1lis id\u0151tartam, ameddig a kommunik\u00e1ci\u00f3s ad\u00f3nak jeleznie kell, hogy \u00e9letben van, miel\u0151tt a rendszer \u00fagy \u00edt\u00e9ln\u00e9 meg, hogy elvesztette az \u00e9l\u0151s\u00e9g\u00e9t.</li> </ul>"},{"location":"ros2halado/qos/#qos-kompatibilitas","title":"QoS kompatibilit\u00e1s","text":""},{"location":"ros2halado/qos/#gyakorlat","title":"Gyakorlat","text":""},{"location":"ros2halado/qos/#forrasok","title":"Forr\u00e1sok","text":"<ul> <li>docs.ros.org/en/humble/Concepts/Intermediate/About-Quality-of-Service-Settings.html</li> <li>docs.ros.org/en/humble/Tutorials/Intermediate/Launch/Creating-Launch-Files.html</li> </ul>"},{"location":"ros2halado/ros2launch/","title":"<code>ROS 2</code> launch \u00e9s <code>ROS 2</code> egy\u00e9b halad\u00f3 koncepci\u00f3k","text":""},{"location":"ros2halado/ros2launch/#bevezeto","title":"Bevezet\u0151","text":"<p>Az ROS 2 launch rendszere seg\u00edti a felhaszn\u00e1l\u00f3 \u00e1ltal defini\u00e1lt rendszer konfigur\u00e1ci\u00f3j\u00e1nak megad\u00e1s\u00e1t, majd a konfigur\u00e1ci\u00f3 szerinti v\u00e9grehajt\u00e1s\u00e1t. A konfigur\u00e1ci\u00f3s l\u00e9p\u00e9s a k\u00f6vetkez\u0151ket tartalmazza:   - mely programok ker\u00fcljenek futtat\u00e1sra,   - milyen argumentumokat kapjanak a futtatott programok,   - ROS-specifikus konvenci\u00f3knak megfelel\u0151 \u00f6sszetev\u0151k, amelyek a komponensek k\u00f6nny\u0171 \u00fajrahasznos\u00edthat\u00f3s\u00e1g\u00e1t teszik lehet\u0151v\u00e9.</p> <p>Fontos megeml\u00edteni tov\u00e1bb\u00e1, hogy a megold\u00e1s fel\u00fcgyeli az elind\u00edtott folyamatokat, \u00e9s k\u00e9pes reag\u00e1lni a folyamatok fut\u00e1si \u00e1llapot\u00e1ban bek\u00f6vetkez\u0151 v\u00e1ltoz\u00e1sokra.</p> <p>Launch f\u00e1jlok k\u00e9sz\u00edt\u00e9se t\u00f6rt\u00e9nhet Python, XML, vagy YAML seg\u00edts\u00e9g\u00e9vel.</p>"},{"location":"ros2halado/ros2launch/#elokeszuletek","title":"El\u0151k\u00e9sz\u00fcletek","text":""},{"location":"ros2halado/ros2launch/#hozzuk-letre-a-example_launch-package-t","title":"Hozzuk l\u00e9tre a <code>example_launch</code> package-t","text":"<p>Ha esetleg m\u00e1r l\u00e9tezne a <code>example_launch</code> package akkor t\u00f6r\u00f6lj\u00fck. (G\u00e9pteremben elk\u00e9pzelehet\u0151, hogy el\u0151z\u0151 f\u00e9l\u00e9vben valaki l\u00e9trehozta.)</p> <pre><code>cd ~ &amp;&amp; test -d \"ros2_ws/src/example_launch\" &amp;&amp; echo Letezik || echo Nem letezik\n</code></pre> <pre><code>rm -r  ~/ros2_ws/src/example_launch\n</code></pre> <p>Nyissunk egy \u00faj termin\u00e1lt, \u00e9s source-oljuk a telep\u00edt\u00e9st (ha nincs <code>bashrc</code>-ben), hogy a <code>ros2</code> parancsok m\u0171k\u00f6djenek.</p> <p>Navig\u00e1ljunk az m\u00e1r l\u00e9trehozott <code>ros2_ws</code> k\u00f6nyvt\u00e1rba.</p> <p>Fontos, hogy a csomagokat az <code>src</code> k\u00f6nyvt\u00e1rban kell l\u00e9trehozni, nem a munkater\u00fclet gy\u00f6ker\u00e9ben. Teh\u00e1t navig\u00e1ljunk a <code>ros2_ws/src</code> mapp\u00e1ba, \u00e9s futtassuk a package l\u00e9trehoz\u00f3 parancsot:</p> <pre><code>cd ~/ros2_ws/src\n</code></pre> <pre><code>ros2 pkg create --build-type ament_cmake example_launch\n</code></pre> <p>A termin\u00e1l egy \u00fczenetet k\u00fcld vissza, amely meger\u0151s\u00edti a <code>example_launch</code> csomag \u00e9s az \u00f6sszes sz\u00fcks\u00e9ges f\u00e1jl \u00e9s mappa l\u00e9trehoz\u00e1s\u00e1t.</p>"},{"location":"ros2halado/ros2launch/#launch-mappa","title":"Launch mappa","text":"<p>Hozzunk l\u00e9tre egy mapp\u00e1t a launch f\u00e1jlok r\u00e9sz\u00e9re:</p> <pre><code>cd ~/ros2_ws/src/example_launch\n</code></pre> <pre><code>mkdir launch\n</code></pre>"},{"location":"ros2halado/ros2launch/#launch-fajl-letrehozasa","title":"Launch f\u00e1jl l\u00e9trehoz\u00e1sa","text":"<pre><code>cd launch\n</code></pre> <pre><code>code turtlesim_mimc_launch.py\n</code></pre> <p>\u00c1ll\u00edtsunk \u00f6ssze egy launch f\u00e1jlt a <code>turtlesim</code> csomag elemeivel, Python nyelv alkalmaz\u00e1s\u00e1val.</p> <pre><code>from launch import LaunchDescription\nfrom launch_ros.actions import Node\n\ndef generate_launch_description():\n    return LaunchDescription([\n        Node(\n            package='turtlesim',\n            namespace='turtlesim1',\n            executable='turtlesim_node',\n            name='sim'\n        ),\n        Node(\n            package='turtlesim',\n            namespace='turtlesim2',\n            executable='turtlesim_node',\n            name='sim'\n        ),\n        Node(\n            package='turtlesim',\n            executable='mimic',\n            name='mimic',\n            remappings=[\n                ('/input/pose', '/turtlesim1/turtle1/pose'),\n                ('/output/cmd_vel', '/turtlesim2/turtle1/cmd_vel'),\n            ]\n        )\n    ])\n</code></pre> <p>A fent le\u00edrt m\u00f3don l\u00e9trehozott launch f\u00e1jl a kor\u00e1bbiakban megismert <code>turtlesim</code> csomag h\u00e1rom node-j\u00e1t ind\u00edtja el. A c\u00e9l k\u00e9t turtlesim ablak megnyit\u00e1sa, majd az egyik tekn\u0151s mozg\u00e1s\u00e1nak megism\u00e9tl\u00e9se a m\u00e1sik tekn\u0151ssel. A k\u00e9t turtlesim node ind\u00edt\u00e1s\u00e1ban mind\u00f6ssze a n\u00e9vt\u00e9r (namespace) t\u00e9r el. Az egyedi n\u00e9vterek alkalmaz\u00e1sa lehet\u0151v\u00e9 teszi k\u00e9t azonos node egyidej\u0171 elind\u00edt\u00e1s\u00e1t n\u00e9vkonfliktus n\u00e9lk\u00fcl. \u00cdgy mindk\u00e9t tekn\u0151s ugyanazon a topicon fogad utas\u00edt\u00e1sokat, \u00e9s ugyanazon a topicon k\u00f6zli a helyzet\u00e9t. Az egy\u00e9ni n\u00e9vterek lehet\u0151v\u00e9 teszik a k\u00e9t tekn\u0151s \u00fczeneteinek megk\u00fcl\u00f6nb\u00f6ztet\u00e9s\u00e9t.</p> <p>Az utols\u00f3 node szint\u00e9n a <code>turtlesim</code> csomagb\u00f3l van, viszont a futtathat\u00f3 f\u00e1jl elt\u00e9r: <code>mimic</code>. Ez a csom\u00f3pont ki van eg\u00e9sz\u00edtve n\u00e9vmegfeleltet\u00e9sekkel. P\u00e9ld\u00e1ul az egyszer\u0171 <code>/input/pose</code> megfelel\u0151je ezesetben <code>/turtlesim1/turtle1/pose</code> \u00e9s a kor\u00e1bban megismert <code>/output/cmd_vel</code> most <code>/turtlesim2/turtle1/cmd_vel</code>. Ez azt jelenti, hogy <code>mimic</code> feliratkozik a <code>/turtlesim1/sim</code> pose topic-ra, \u00e9s \u00fajra publisholja \u00fagy, hogy <code>/turtlesim2/sim</code> sebess\u00e9g utas\u00edt\u00e1sa feliratkozzon r\u00e1. Teh\u00e1t, <code>turtlesim2</code> ut\u00e1nozni fogja <code>turtlesim1</code> mozg\u00e1s\u00e1t. </p>"},{"location":"ros2halado/ros2launch/#kod-reszleteinek-attekintese","title":"K\u00f3d r\u00e9szleteinek \u00e1ttekint\u00e9se","text":"<p>Ezek a kifejez\u00e9sek Python <code>launch</code> modulokat import\u00e1lnak.</p> <pre><code>from launch import LaunchDescription\nfrom launch_ros.actions import Node\n</code></pre> <p>Ezt k\u00f6vet\u0151en kezd\u0151dik a launch le\u00edr\u00e1sa:</p> <pre><code>def generate_launch_description():\n  return LaunchDescription([\n\n  ])\n</code></pre> <p>A launch le\u00edr\u00e1sban szerepl\u0151 els\u0151 k\u00e9t utas\u00edt\u00e1s ind\u00edtja a k\u00e9t turtlesim ablakot:</p> <pre><code>Node(\n    package='turtlesim',\n    namespace='turtlesim1',\n    executable='turtlesim_node',\n    name='sim'\n),\nNode(\n    package='turtlesim',\n    namespace='turtlesim2',\n    executable='turtlesim_node',\n    name='sim'\n),\n</code></pre> <p>V\u00e9g\u00fcl megt\u00f6rt\u00e9nik a mozg\u00e1s ut\u00e1nz\u00e1s\u00e1t megval\u00f3s\u00edt\u00f3 node ind\u00edt\u00e1sa is:</p> <pre><code>Node(\n    package='turtlesim',\n    executable='mimic',\n    name='mimic',\n    remappings=[\n      ('/input/pose', '/turtlesim1/turtle1/pose'),\n      ('/output/cmd_vel', '/turtlesim2/turtle1/cmd_vel'),\n    ]\n)\n</code></pre>"},{"location":"ros2halado/ros2launch/#ros2-launch-hasznalata","title":"<code>ROS2</code> launch haszn\u00e1lata","text":"<p>A l\u00e9trehozott launch f\u00e1jl elind\u00edt\u00e1sa az al\u00e1bbi m\u00f3don t\u00f6rt\u00e9nik:</p> <p><pre><code>cd ~/ros2_ws/src/example_launch/launch # bel\u00e9p\u00fcnk a launch f\u00e1jlt tartalmaz\u00f3 mapp\u00e1ba\n</code></pre> <pre><code>ros2 launch turtlesim_mimc_launch.py\n</code></pre></p> <p>K\u00e9t turtlesim ablak fog megny\u00edlni, \u00e9s a k\u00f6vetkez\u0151 <code>[INFO]</code> kimenet lesz l\u00e1that\u00f3, felsorolva az ind\u00edtott node-okat: <pre><code>[INFO] [launch]: Default logging verbosity is set to INFO\n[INFO] [turtlesim_node-1]: process started with pid [11714]\n[INFO] [turtlesim_node-2]: process started with pid [11715]\n[INFO] [mimic-3]: process started with pid [11716]\n</code></pre></p> <p>Hogy kipr\u00f3b\u00e1ljuk az elind\u00edtott rendszer m\u0171k\u00f6d\u00e9s\u00e9t, egy \u00faj termin\u00e1lban hirdess\u00fcnk olyan \u00fczenetet, amellyel a <code>turtle1</code> mozgathat\u00f3:</p> <pre><code>ros2 topic pub -r 1 /turtlesim1/turtle1/cmd_vel geometry_msgs/msg/Twist \"{linear: {x: 2.0, y: 0.0, z: 0.0}, angular: {x: 0.0, y: 0.0, z: -1.8}}\"\n</code></pre> <p>A fent bemutatott direkt m\u00f3don k\u00edv\u00fcl egy launch f\u00e1jl futtathat\u00f3 csomag \u00e1ltal is:</p> <pre><code>ros2 launch &lt;csomag_megnevez\u00e9se&gt; &lt;launch_f\u00e1jl_neve&gt;\n</code></pre> <p>Olyan csomagok eset\u00e9ben, amelyek launch f\u00e1jlt tartalmaznak, \u00e9rdemes l\u00e9trehozni egy <code>exec_depend</code> f\u00fcgg\u0151s\u00e9get a <code>ros2launch</code> csomagra vonatkoz\u00f3an a csomag <code>package.xml</code> f\u00e1jlj\u00e1ban:</p> <pre><code>&lt;exec_depend&gt;ros2launch&lt;/exec_depend&gt;\n</code></pre> <p>Ezzel biztos\u00edthat\u00f3, hogy az <code>ros2 launch</code> parancs el\u00e9rhet\u0151 a csomag buildel\u00e9se ut\u00e1n.</p>"},{"location":"ros2halado/ros2launch/#tanulmanyozzuk-az-elinditott-rendszert","title":"Tanulm\u00e1nyozzuk az elind\u00edtott rendszert","text":"<p>\u00dagy, hogy minden eddig elind\u00edtott node fut, egy \u00fajabb termin\u00e1lban futtassuk az <code>rqt_graph</code> eszk\u00f6zt, amely grafikusan szeml\u00e9lteti a launch f\u00e1jl seg\u00edts\u00e9g\u00e9vel kialak\u00edtott rendszert:</p> <pre><code>rqt_graph\n</code></pre>"},{"location":"ros2halado/ros2launch/#adjuk-hozza-a-package-hez-hogy-barhonnan-indithassuk","title":"Adjuk hozz\u00e1 a package-hez, hogy b\u00e1rhonnan ind\u00edthassuk","text":"<pre><code>cd ~/ros2_ws/src/example_launch\n</code></pre> <pre><code>code .\n</code></pre> Lexus <p>A package.xml-hez a <code>&lt;test_depend&gt;</code> el\u00e9 sz\u00farjuk be k\u00f6vetkez\u0151 sort:</p> <pre><code>&lt;exec_depend&gt;ros2launch&lt;/exec_depend&gt;\n</code></pre> <p>A CMakeLists.txt-hez a <code>ament_package()</code> el\u00e9 sz\u00farjuk be k\u00f6vetkez\u0151 2 sort:</p> <pre><code>install(DIRECTORY launch\n  DESTINATION share/${PROJECT_NAME})\n</code></pre> <p>Buildelj\u00fck a szok\u00e1so m\u00f3don:</p> <pre><code>cd ~/ros2_ws\n</code></pre> <pre><code>colcon build --packages-select example_launch\n</code></pre> <pre><code>source ~/ros2_ws/install/setup.bash\n</code></pre> <p>Ez a parancs most m\u00e1r b\u00e1rhonnan kiadhat\u00f3:</p> <pre><code>ros2 launch example_launch turtlesim_mimc_launch.py\n</code></pre>"},{"location":"ros2halado/ros2launch/#forrasok","title":"Forr\u00e1sok","text":"<ul> <li>foxglove.dev/blog/how-to-use-ros2-launch-files</li> <li>youtube.com/watch?v=PqNGvmE2Pv4&amp;t </li> <li>docs.ros.org/en/humble/Tutorials/Intermediate/Launch/Creating-Launch-Files.html</li> <li>docs.ros.org/en/humble/Tutorials/Beginner-Client-Libraries/Creating-Your-First-ROS2-Package.html</li> <li>docs.ros.org/en/humble/Tutorials/Beginner-Client-Libraries/Writing-A-Simple-Cpp-Publisher-And-Subscriber.html</li> <li>docs.ros.org/en/humble/Tutorials/Beginner-Client-Libraries/Writing-A-Simple-Py-Publisher-And-Subscriber.html</li> </ul>"},{"location":"ros2halado/rqt/","title":"<code>rqt</code> haszn\u00e1lata","text":""},{"location":"ros2halado/rqt/#rqt_console-a-log-uzenetek-megjelenitesre","title":"<code>rqt_console</code> a log \u00fczenetek megjelen\u00edt\u00e9sre","text":""},{"location":"ros2halado/rqt/#rqt_tf_tree-a-transzformaciok-vizualizaciojara","title":"<code>rqt_tf_tree</code> a transzform\u00e1ci\u00f3k vizualiz\u00e1ci\u00f3j\u00e1ra","text":""},{"location":"ros2halado/rqt/#rqt_graph-a-node-ok-es-topic-ok-vizualizaciojara","title":"<code>rqt_graph</code> a node-ok \u00e9s topic-ok vizualiz\u00e1ci\u00f3j\u00e1ra","text":""},{"location":"ros2halado/rqt/#forrasok","title":"Forr\u00e1sok","text":"<ul> <li>docs.ros.org/en/humble/Tutorials/Beginner-CLI-Tools/Using-Rqt-Console/Using-Rqt-Console.html</li> <li>docs.ros.org/en/humble/Tutorials/Intermediate/Launch/Creating-Launch-Files.html</li> <li>docs.ros.org/en/humble/Tutorials/Intermediate/Launch/Creating-Launch-Files.html</li> <li>docs.ros.org/en/humble/Tutorials/Intermediate/Tf2/Writing-A-Tf2-Broadcaster-Cpp.html</li> </ul>"},{"location":"ros2halado/state/","title":"Behavior tree","text":"<p>Forr\u00e1s: www.behaviortree.dev</p>"},{"location":"ros2halado/state/#allapotgepek-state-machine","title":"\u00c1llapotg\u00e9pek (State machine)","text":"<p>Forr\u00e1s: github.com/jbreckmckye/robot3-viz</p>"},{"location":"ros2halado/state/#forrasok","title":"Forr\u00e1sok","text":"<ul> <li>www.behaviortree.dev/docs/Intro</li> <li>en.wikipedia.org/wiki/Finite-state_machine</li> <li>github.com/jbreckmckye/robot3-viz</li> </ul>"},{"location":"ros2halado/vizualizacio/","title":"<code>ROS 2</code> vizualiz\u00e1ci\u00f3","text":""},{"location":"ros2halado/vizualizacio/#visualization_msgsmsgmarker-tipus","title":"<code>visualization_msgs/msg/Marker</code> t\u00edpus","text":"<p><code>visualization_msgs/msg/Marker</code> dokument\u00e1ci\u00f3</p>"},{"location":"ros2halado/vizualizacio/#visualization_msgsmsgmarkerarray-tipus","title":"<code>visualization_msgs/msg/MarkerArray</code> t\u00edpus","text":"<p><code>visualization_msgs/msg/MarkerArray</code> dokument\u00e1ci\u00f3</p>"},{"location":"ros2halado/vizualizacio/#mesh","title":"Mesh","text":"<pre><code>git clone https://github.com/szenergy/rviz_markers\ngit checkout ros2-humble\ncd ~/ros2_ws \ncolcon build --packages-select rviz_markers\nsource ~/ros2_ws/install/setup.bash\n</code></pre>"},{"location":"ros2halado/vizualizacio/#szinek","title":"Sz\u00ednek","text":"<p>A Google Material Design sz\u00ednrendszer egy \u00e1tfog\u00f3 tervez\u00e9si rendszer, amely pl. ROS-ban \u00e9s Rviz-ben is haszn\u00e1lhat\u00f3. A k\u00e9nyelem kedv\u00e9\u00e9rt a k\u00f6vetkez\u0151kben felsoroljuk a hexadecim\u00e1lis \u00e9rt\u00e9keket (pl. <code>#F44336</code>) \u00e9s az rgb-v\u00e9 alak\u00edtott \u00e9rt\u00e9keket (pl. <code>0,96 0,26 0,21</code>), ami a ROS 2-ben \u00e1ltal\u00e1nosan elfogadott.</p> <p>B\u0151vebben:  - github.com/jkk-research/colors</p> <code>100</code> <code>500</code> <code>900</code>  1.00 0.80 0.82 <code>md_red_100</code>  0.96 0.26 0.21 <code>md_red_500</code>  0.72 0.11 0.11 <code>md_red_900</code>  0.97 0.73 0.82 <code>md_pink_100</code>  0.91 0.12 0.39  <code>md_pink_500</code>  0.53 0.05 0.31 <code>md_pink_900</code>  0.82 0.77 0.91 <code>md_deep_purple_100</code>  0.40 0.23 0.72  <code>md_deep_purple_500</code>  0.19 0.11 0.57 <code>md_deep_purple_900</code>  0.73 0.87 0.98 <code>md_blue_100</code>  0.13 0.59 0.95  <code>md_blue_500</code>  0.05 0.28 0.63 <code>md_blue_900</code>  0.70 0.87 0.86 <code>md_teal_100</code>  0.00 0.59 0.53  <code>md_teal_500</code>  0.00 0.30 0.25 <code>md_teal_900</code>  0.78 0.90 0.79 <code>md_green_100</code>  0.30 0.69 0.31  <code>md_green_500</code>  0.11 0.37 0.13 <code>md_green_900</code>  0.94 0.96 0.76 <code>md_lime_100</code>  0.80 0.86 0.22  <code>md_lime_500</code>  0.51 0.47 0.09 <code>md_lime_900</code>  1.00 0.93 0.70 <code>md_amber_100</code>  1.00 0.76 0.03  <code>md_amber_500</code>  1.00 0.44 0.00 <code>md_amber_900</code>  1.00 0.88 0.70 <code>md_orange_100</code>  1.00 0.60 0.00  <code>md_orange_500</code>  0.90 0.32 0.00 <code>md_orange_900</code>  0.84 0.80 0.78 <code>md_brown_100</code>  0.47 0.33 0.28  <code>md_brown_500</code>  0.24 0.15 0.14 <code>md_brown_900</code>  0.96 0.96 0.96 <code>md_grey_100</code>  0.62 0.62 0.62  <code>md_grey_500</code>  0.13 0.13 0.13 <code>md_grey_900</code>"},{"location":"ros2halado/vizualizacio/#forrasok","title":"Forr\u00e1sok","text":"<ul> <li>docs.ros.org/en/humble/How-To-Guides/Visualizing-ROS-2-Data-With-Foxglove-Studio.html</li> <li>docs.ros.org/en/humble/Tutorials/Intermediate/Launch/Creating-Launch-Files.html</li> <li>docs.ros.org/en/humble/Tutorials/Intermediate/Tf2/Writing-A-Tf2-Broadcaster-Cpp.html</li> <li>github.com/jkk-research/colors</li> </ul>"},{"location":"szabalyozas/","title":"Szab\u00e1lyoz\u00e1s","text":"<p>A szab\u00e1lyoz\u00e1s c\u00e9lja a megtervezett trajekt\u00f3ria kivitelez\u00e9se.</p> <p></p>"},{"location":"szabalyozas/#1-motivacio-a-zarthurku-szabalyozas-mogott-bevezetes","title":"1. Motiv\u00e1ci\u00f3 a z\u00e1rthurk\u00fa szab\u00e1lyoz\u00e1s m\u00f6g\u00f6tt - bevezet\u00e9s","text":"<p>Egy rendszer tervezett c\u00e9l\u00e1llapot\u00e1t \u00fagy \u00e9rhetj\u00fck el, ha c\u00e9l\u00e9rt\u00e9k figyelembev\u00e9tel\u00e9vel a rendszerbe beavatkozunk. P\u00e9ld\u00e1ul egy j\u00e1rm\u0171 eset\u00e9n a c\u00e9lsebess\u00e9get a g\u00e1z \u00e9s f\u00e9kped\u00e1l mozgat\u00e1s\u00e1val, k\u00f6zvetetten a motor nyomat\u00e9k\u00e1nak \u00e9s a f\u00e9ker\u0151nek a v\u00e1ltoztat\u00e1s\u00e1val \u00e9rhetj\u00fck el. Kezdeti p\u00e9ld\u00e1nak tekints\u00fcnk egy j\u00e1rm\u0171vezet\u0151t: a vezet\u0151 \u00e1ltal\u00e1ban tiszt\u00e1ban van a megengedett legnagyobb sebess\u00e9ggel, ek\u00f6r\u00fcl alkalmaz egy sz\u00e1m\u00e1ra megfelel\u0151 t\u0171r\u00e9si s\u00e1vot. Ezen bel\u00fcl meghat\u00e1roz egy sz\u00e1m\u00e1ra biztons\u00e1gos \u00e9s k\u00e9nyelmes sebess\u00e9get, amit tartani szeretne. A vezet\u0151 addig gyors\u00edt, am\u00edg el nem \u00e9ri a k\u00edv\u00e1nt sebess\u00e9get, majd a g\u00e1zped\u00e1lt kicsit vissz\u00e1bbengedve tartja a sebess\u00e9get. Helyes az az \u00e1ll\u00edt\u00e1s, hogy amennyiben el\u00e9rt\u00fck a k\u00edv\u00e1nt sebess\u00e9get, a ped\u00e1lt elengedhetj\u00fck, nincs t\u00f6bb dolgunk? Term\u00e9szetesen nem. Mi\u00e9rt nem? Hisz a j\u00e1rm\u0171 a vesztes\u00e9gekb\u0151l ad\u00f3d\u00f3an lassulni fog, lejt\u0151 eset\u00e9n ak\u00e1r gyorsulhat is. Ahhoz, hogy tartani tudjuk a sebess\u00e9get a vezet\u0151nek folyamatosan figyelnie kell a j\u00e1rm\u0171 mozg\u00e1s\u00e1t illetve a k\u00f6rnyezetet, \u00e9s ez alapj\u00e1n beavatkoznia a ped\u00e1lokon kereszt\u00fcl. Ez az egyszer\u0171 p\u00e9lda legt\u00f6bb r\u00e9sz\u00e9t a tervez\u00e9si \u00e9s szab\u00e1lyz\u00e1si komponenseknek lefedi. A szab\u00e1lyz\u00e1s t\u00e9ren a k\u00f6vetkez\u0151 megfigyel\u00e9seket tehetj\u00fck meg: - a vezet\u0151 \u00e9rz\u00e9keli a j\u00e1rm\u0171 akut\u00e1lis \u00e1llapot\u00e1t (valamilyen pontoss\u00e1ggal) - a vezet\u0151 tudja, hogyha beavatkozik a g\u00e1z- vagy f\u00e9kped\u00e1llal, milyen hat\u00e1st fog el\u00e9rni, azaz mennyire lassul vagy gyorsul az aut\u00f3 (valamilyen pontoss\u00e1ggal) - a vezet\u0151 k\u00fcl\u00f6n\u00f6sebb \u00e9rz\u00e9kel\u00e9st\u0151l f\u00fcggetlen\u00fcl (teh\u00e1t an\u00e9lk\u00fcl, hogy tudn\u00e1, pl. milyen er\u0151 hat az aut\u00f3ra) nagyj\u00e1b\u00f3l (!) meg tudja hat\u00e1rozni a k\u00edv\u00e1nt g\u00e1zped\u00e1l \u00e1ll\u00e1st (nagy hib\u00e1val)</p> <p>Az utols\u00f3 pontot szok\u00e1s \u00fan. el\u0151recsatolt \u00e1gnak is h\u00edvni (l\u00e1sd 3. alfejezet), avagy ny\u00edlthurk\u00fa szab\u00e1lyz\u00e1snak (amennyiben nincs semmilyen inf\u00f3nk az \u00e9rz\u00e9kel\u00e9sr\u0151l). Egy nagyon durva \u00f6sszehasonl\u00edt\u00e1st tartalmaz az 1. \u00c1bra. K\u00e9pzelj\u00fcnk el egy helyzetet, amikor nincs inform\u00e1ci\u00f3nk arr\u00f3l, milyen gyorsan megy a j\u00e1rm\u0171, csup\u00e1n a ped\u00e1lt tudjuk kezelni. A feladat hogy \u00e1ll\u00f3 helyb\u0151l gyors\u00edtva el\u00e9rj\u00fck a 90 km/h sebess\u00e9get, majd ezt a sebess\u00e9get tartsuk. Ha nem tudjuk, \u00e9pp mennyivel megy\u00fcnk, honnan tudjuk, hogy kell-e m\u00e9g nyomni a ped\u00e1lt avagy nem? Ilyenkor arra tudunk alapozni, hogy ismerj\u00fck az \u00fatviszonyokat (pl. s\u00edk talaj, aszfaltos \u00fat), ismerj\u00fck az aut\u00f3nkat (milyen motor, milyen nyomat\u00e9kviszonyok...stb.). \u00cdgy nagyj\u00e1b\u00f3l meg tudjuk hat\u00e1rozni, milyen hosszan kell nyomni a g\u00e1zped\u00e1lt, majd amikor nagyj\u00e1b\u00f3l el\u00e9rt\u00fck a sebess\u00e9get, mennyire kell ott tartani a ped\u00e1lon a l\u00e1bunkat, hogy ne lassuljunk, ne gyorsuljunk. Az eredm\u00e9ny val\u00f3sz\u00edn\u0171leg hasonl\u00edtani fog a k\u00edv\u00e1nt sebess\u00e9gg\u00f6rb\u00e9hez, de messze nem lesz pontos. Hiszen pontatlanul ismerj\u00fck az utat, a saj\u00e1t aut\u00f3nkat, befoly\u00e1solja a gyorsul\u00e1st a h\u0151m\u00e9rs\u00e9klet, emelked\u0151/lejt\u0151, szembesz\u00e9l...stb. Ez\u00e9rt \u00e1ltal\u00e1ban nem, vagy nem csak ezt a ny\u00edlthurk\u00fa megk\u00f6zel\u00edt\u00e9st haszn\u00e1ljuk, hanem min\u00e9l pontosabb \u00e9rz\u00e9kel\u0151k seg\u00edts\u00e9g\u00e9vel korrig\u00e1ljuk az \u00e1ltalunk el\u0151re meghat\u00e1rozott ped\u00e1l \u00e1ll\u00e1sokat, \u00e9s ezzel b\u00e1rmilyen zavar hat\u00e1s\u00e1t le tudjuk kezelni. Ez ut\u00f3bbi megk\u00f6zel\u00edt\u00e9st nevezz\u00fck z\u00e1rthurk\u00fa szab\u00e1lyz\u00e1snak, az \u00e9rz\u00e9kel\u00e9sb\u0151l kapott inform\u00e1ci\u00f3kat pedig visszacsatol\u00e1snak.</p> <p>Note</p> <p>A magyar terminol\u00f3gi\u00e1ban szok\u00e1s a ny\u00edlthurk\u00fa szab\u00e1lyz\u00e1st vez\u00e9rl\u00e9snek, a z\u00e1rthurk\u00fa szab\u00e1lyz\u00e1st r\u00f6viden csak szab\u00e1lyz\u00e1snak h\u00edvni. A kett\u0151t egy\u00fctt pedig ir\u00e1ny\u00edt\u00e1snak. Az angol terminol\u00f3gia ezzel szemben mindkett\u0151t controlnak, azon bel\u00fcl is closed loop controlnak illetve open loop controlnak h\u00edvja. A visszacsatol\u00e1st feedbacknek, az el\u0151recsatol\u00e1st feed-forwardnak szok\u00e1s h\u00edvni. </p> <p></p> <p>1. \u00c1bra: a z\u00e1rthurk\u00fa szab\u00e1lyoz\u00e1s m\u00f6g\u00f6tti motiv\u00e1ci\u00f3. Forr\u00e1s: Autonomous Driving Software Engineering - Lecture 08: Control</p>"},{"location":"szabalyozas/#2-architekturalis-attekintes-visszatekintes","title":"2. Architektur\u00e1lis \u00e1ttekint\u00e9s, visszatekint\u00e9s","text":"<p>Ahogyan azt a kor\u00e1bbi fejezetekben is l\u00e1ttuk, a teljes j\u00e1rm\u0171ir\u00e1ny\u00edt\u00e1si l\u00e1nc modul\u00e1ris. A legf\u0151bb feladatok: - \u00e9rz\u00e9kel\u00e9s - \u00e9szlel\u00e9s - tervez\u00e9s - szab\u00e1lyz\u00e1s</p> <p>Ez a fejezet a szab\u00e1lyz\u00e1sr\u00f3l sz\u00f3l. A szab\u00e1lyz\u00e1sok alapjair\u00f3l a 3. alfejezetben olvashatunk. A szab\u00e1lyz\u00f3 r\u00e9tegnek a tervez\u00e9s biztos\u00edtja a bemenetet. \u00cdgy - n\u00e9mileg kieg\u00e9sz\u00edtve - vess\u00fcnk egy pillant\u00e1st az architekt\u00far\u00e1ra! Ezt a 2. \u00c1bra mutatja.</p> <p><pre><code>flowchart LR\n\nGP1[Glob\u00e1lis tervez\u00e9s\n   Bemenetek:\n   - Sof\u0151rprofil\n   - T\u00e9rk\u00e9p\n   Kimenet:\n   - \u00datvonalterv\n   C\u00e9l: glob\u00e1lis terv megtervez\u00e9se\n   \u00fatvonalon, amely A-b\u00f3l vezet\n   B-be, figyelembe v\u00e9ve pl.\n   forgalmi adatok, \u00fczemanyag\n   fogyaszt\u00e1s\u2026 stb.]:::light\n\nGP2[Szeretn\u00e9k eljutni\n   A-b\u00f3l B-be\n   robotaxival]:::dark\n\nBP1[Magatart\u00e1s tervez\u00e9s\n     Bemenetek:\n     - \u00datvonalterv\n     -\u00c9rz\u00e9kel\u00e9si inform\u00e1ci\u00f3\n     a k\u00f6rnyezetr\u0151l\n     Kimenet:\n     - Viselked\u00e9si strat\u00e9gia\n     C\u00e9l: megtervezni, hogy\n     viselkedjen, \n     milyen mozg\u00e1si\n     karakterisztik\u00e1t\n     k\u00f6vessen a j\u00e1rm\u0171]:::light\n\nBP2[K\u00f6vetni szeretn\u00e9m\n  a k\u00f6z\u00e9ps\u0151 s\u00e1vot,\n  majd v\u00e1ltani a \n  bels\u0151 s\u00e1vra]:::dark\n\nLP1[Lok\u00e1lis tervez\u00e9s\n     Bemenetek:\n     - Viselked\u00e9si strat\u00e9gia\n     - T\u00e9rk\u00e9p\n     - Pose\n     - Predikt\u00e1lt objektumok\n     Kimenet:\n     - Lok\u00e1lis trajekt\u00f3ria\n     C\u00e9l: kinematikailag \n     megval\u00f3s\u00edthat\u00f3,\n     biztons\u00e1gos trajekt\u00f3ria\n     el\u0151\u00e1ll\u00edt\u00e1sa]:::light\nLP2[A s\u00e1von bel\u00fcl\n  biztons\u00e1gos \u00e9s\n  sima p\u00e1lya tervez\u00e9se]:::dark\n\n\nVC1[J\u00e1rm\u0171szint\u0171 szab\u00e1lyz\u00e1s\n     Magas szint\u0171 szab\u00e1lyoz\u00e1s\n     Bemenetek:\n     - Lok\u00e1lis trajekt\u00f3ria\n     - A j\u00e1rm\u0171 \u00e1llapot\u00e1nak v\u00e1ltoz\u00f3i\n     - Lokaliz\u00e1ci\u00f3s inform\u00e1ci\u00f3\n     Kimenetek:\n     - J\u00e1rm\u0171szint\u0171 c\u00e9l\n     mennyis\u00e9gek\n     - Ellen\u0151rz\u00e9si korl\u00e1tok\n     C\u00e9l: kisz\u00e1m\u00edtani a\n     j\u00e1rm\u0171 c\u00e9l\u00e1llapot\u00e1t, amit \n     az alacsony szint\u0171\n     szab\u00e1lyz\u00e1s megval\u00f3s\u00edt]:::light\nVC2[A j\u00e1rm\u0171vet a \n  tervezett trajekt\u00f3ri\u00e1n\n  v\u00e9gigvezesse a \n  megfelel\u0151 sebess\u00e9ggel]:::dark\n\n\nAC1[Aktu\u00e1tor szab\u00e1lyoz\u00e1s\n  Alacsony szint\u0171 szab\u00e1lyoz\u00e1s\n  Bemenetek:\n  - J\u00e1rm\u0171szint\u0171 c\u00e9l\n  mennyis\u00e9gek\n  - Ellen\u0151rz\u00e9si korl\u00e1tok\n  - Aktu\u00e1tor\n  \u00e1llapotv\u00e1ltoz\u00f3i\n  Kimenet:\n  - Aktu\u00e1tor c\u00e9l\u00e1llapotai\n  C\u00e9l: A j\u00e1rm\u0171szint\u0171 \n  mennyis\u00e9geket lebontsa\n  \u00e9s megval\u00f3s\u00edtsa \n  az aktu\u00e1torokon kereszt\u00fcl]:::light\n  AC2[Kisz\u00e1molni a\nsz\u00fcks\u00e9ges motor\nnyomat\u00e9k \u00e9s korm\u00e1nyz\u00e1si\nsz\u00f6g referenci\u00e1t]:::dark\n\n\n\n\nsubgraph Plan [Tervez\u00e9s]\n  GP1\n  BP1\n  LP1\nend\nsubgraph Control [Szab\u00e1lyoz\u00e1s]\n  VC1\n  AC1\nend\nGP1--&gt;BP1--&gt;LP1--&gt;VC1--&gt;AC1\nGP2-.-BP2-.-LP2-.-VC2-.-AC2\n\n\n\nclassDef light fill:#34aec5,stroke:#152742,stroke-width:2px,color:#152742  \nclassDef dark fill:#152742,stroke:#34aec5,stroke-width:2px,color:#34aec5\nclassDef white fill:#ffffff,stroke:#152742,stroke-width:2px,color:#152742\nclassDef red fill:#ef4638,stroke:#152742,stroke-width:2px,color:#fff\n</code></pre> 2. \u00c1bra: a legf\u0151bb tervez\u00e9si \u00e9s szab\u00e1lyz\u00e1si r\u00e9tegek az architekt\u00far\u00e1ban.</p> <p>A szab\u00e1lyz\u00f3 r\u00e9teg \u00e1ltal\u00e1ban t\u00f6bb szinre bomlik. Minimum k\u00e9t ilyen szintet megk\u00fcl\u00f6nb\u00f6ztet\u00fcnk: - j\u00e1rm\u0171szint\u0171 szab\u00e1lyz\u00e1s - aktu\u00e1tor szab\u00e1lyz\u00e1s</p> <p>Mindkett\u0151 r\u00e9tegnek meg van a feladata. A j\u00e1rm\u0171szint\u0171 szab\u00e1lyz\u00e1s feladata, hogy a j\u00e1rm\u0171vet a tervezett trajekt\u00f3ri\u00e1n v\u00e9gigvezesse a megfelel\u0151 sebess\u00e9ggel. Ehhez a j\u00e1rm\u0171 szintj\u00e9n megfogalmazott c\u00e9l\u00e9rt\u00e9keket hat\u00e1roz meg. \u00d6k\u00f6lszab\u00e1lyk\u00e9nt elfogadhatjuk, hogy azok a mennyis\u00e9gek a j\u00e1rm\u0171szint\u0171ek, amelyek m\u00e9g nem kapcsol\u00f3dnak egy kimondott aktu\u00e1torhoz. Azaz, pl. minden aut\u00f3ra jellemz\u0151 annak gyorsul\u00e1sa vagy sz\u00f6gsebess\u00e9ge, att\u00f3l f\u00fcggetlen\u00fcl, milyen hajt\u00e1ssal (elektromos, hibrid, bels\u0151\u00e9g\u00e9s\u0171) vagy korm\u00e1nyz\u00e1ssal (elektromos szerv\u00f3, hidraulikus szerv\u00f3, l\u00e1nctalpas...stb.) rendelkezik. \u00c1ltal\u00e1ban ez a szab\u00e1lyz\u00f3 r\u00e9teg a \"leglassabb\", be\u00e1gyazott k\u00f6rnyezetben a ciklus id\u0151 10-50ms. Az aktu\u00e1tot szab\u00e1lyz\u00e1s feladata, hogy a j\u00e1rm\u0171szint\u0171 mennyis\u00e9geket lebontsa \u00e9s megval\u00f3s\u00edtsa az aktu\u00e1torokon kereszt\u00fcl. Pl. a hosszir\u00e1ny\u00fa gyorsul\u00e1st befoly\u00e1solhatjuk a motoron \u00e9s a f\u00e9ken kereszt\u00fcl. A motor eset\u00e9ben a gyorsul\u00e1st a motor nyomat\u00e9k\u00e1nak szab\u00e1lyz\u00e1s\u00e1val \u00e9rj\u00fck el, amit pedig a fojt\u00f3szelep \u00e1ll\u00e1s\u00e1val \u00e9r\u00fcnk el. A fojt\u00f3szelep \u00e1ll\u00e1s\u00e1t pedig az azt mozgat\u00f3 pl. szerv\u00f3motor poz\u00edci\u00f3j\u00e1nak, voltak\u00e9pp a szerv\u00f3motor kapocsfesz\u00fclts\u00e9g\u00e9nek szab\u00e1lyz\u00e1s\u00e1val \u00e9r\u00fcnk el. A f\u00e9krendszer eset\u00e9n a f\u00e9ker\u0151t tudjuk befoly\u00e1solni, ami egyben a f\u00e9knyom\u00e1s szab\u00e1lyz\u00e1s\u00e1t jelenti (pl. az ESP szelepein kereszt\u00fcl), amit pedig a hidraulikus f\u00e9krendszer motor szivatty\u00faj\u00e1nak nyom\u00e1s\u00e1val \u00e9rhet\u00fcnk el. Ezt pedig a szivatty\u00fa motorj\u00e1nak fordulatsz\u00e1m\u00e1val tudjuk befoly\u00e1solni, ami megint a motor kapocsfesz\u00fclts\u00e9g\u00e9nek a szab\u00e1lyz\u00e1s\u00e1val \u00e9r\u00fcnk el...stb. L\u00e1thatjuk, hogy aktu\u00e1torokt\u00f3l f\u00fcgg\u0151en itt t\u00f6bb (ak\u00e1r 4-6) egym\u00e1sba \u00e1gyazott szab\u00e1lyz\u00f3 hurokr\u00f3l besz\u00e9l\u00fcnk.  Bel\u00fclr\u0151l kifel\u00e9 \u00e9rdemes a probl\u00e9m\u00e1t megk\u00f6zel\u00edteni, ahogy a legbels\u0151 szab\u00e1lyz\u00e1s ciklusideje ak\u00e1r 1 ms (vagy az alatti) lehet, m\u00e9g ahogy kintebb l\u00e9p\u00fcnk ez n\u0151, 5-10-20ms tartom\u00e1nyban.  Fontos, hogy automatiz\u00e1lt vezet\u00e9si rendszerek mozg\u00e1sszab\u00e1lyz\u00e1sa eset\u00e9n az aktu\u00e1tor szab\u00e1lyz\u00f3 r\u00e9tegeket sokszor nem vessz\u00fck figyelembe, hanem felt\u00e9telezz\u00fck, hogy azok teljes\u00edtm\u00e9nye, pontoss\u00e1ga, sebess\u00e9ge megfelel\u0151, \"k\u00f6zel ide\u00e1lis\". Persze a gyakorlatban ezt sokszor neh\u00e9z elv\u00e1lasztani, de arra t\u00f6reksz\u00fcnk, hogy csak a j\u00e1rm\u0171szint\u0171 szab\u00e1lyz\u00e1st kelljen megtervezni.</p> <p>A legfels\u0151 szint\u0171 szab\u00e1lyz\u00e1s feladata teh\u00e1t az, hogy a j\u00e1rm\u0171 a trajekt\u00f3ri\u00e1t lek\u00f6vesse. \u00c1ltal\u00e1ban k\u00e9t dimenzi\u00f3t k\u00fcl\u00f6nb\u00f6ztet\u00fcnk meg: - hosszir\u00e1ny\u00fa mozg\u00e1s: a j\u00e1rm\u0171 hosszir\u00e1ny\u00fa gyorsul\u00e1s\u00e1nak, \u00e9s v\u00e9g\u00fcl a f\u00e9k \u00e9s motorer\u0151k meghat\u00e1roz\u00e1sa. - keresztir\u00e1ny\u00fa mozg\u00e1s: a j\u00e1rm\u0171 c\u00e9lsz\u00f6gesebess\u00e9g\u00e9nek, \u00e9s v\u00e9g\u00fcl a korm\u00e1nysz\u00f6gnek a meghat\u00e1roz\u00e1sa.</p> <p>A trajekt\u00f3ria \u00e1ltal\u00e1ban egy id\u0151ben le\u00edrt sebess\u00e9gtarjekt\u00f3ria illetve egy t\u00e9rben megadott c\u00e9lpont halmaz, azaz egy g\u00f6rbe (vagy annak egy repreznt\u00e1ci\u00f3ja). A c\u00e9l, hogy a g\u00f6rb\u00e9t min\u00e9l kisebb poz\u00edci\u00f3hib\u00e1val lek\u00f6vess\u00fck, illetve a sebess\u00e9get min\u00e9l pontosabban tartsuk. Mindezt \u00fagy, hogy ne l\u00e9pj\u00fcnk \u00e1t semmilyen hat\u00e1r\u00e9rt\u00e9ket (pl. t\u00fal nagy gyorsul\u00e1s, p\u00e1lyaelhagy\u00e1s...stb).</p> <p>Miel\u0151tt r\u00e1t\u00e9rn\u00e9nk a l\u00e9tez\u0151 j\u00e1rm\u0171szab\u00e1lyz\u00e1si megold\u00e1sokra, a 3. alfejezetben \u00e1ttekint\u00e9st adunk a szab\u00e1lyz\u00e1si alapokr\u00f3l.</p>"},{"location":"szabalyozas/#3-szabalyzasi-alapok","title":"3. Szab\u00e1lyz\u00e1si alapok","text":"<p>Ebben a fejezetben ismertetj\u00fck a szab\u00e1lyz\u00e1stechnik\u00e1hoz kapcsol\u00f3d\u00f3 alapfogalmakat, \u00e9s erre p\u00e9ld\u00e1kat is hozunk a j\u00e1rm\u0171ir\u00e1ny\u00edt\u00e1s ter\u00fclet\u00e9r\u0151l.</p>"},{"location":"szabalyozas/#31-definiciok","title":"3.1. Defin\u00edci\u00f3k","text":"<p>Val\u00f3s fizikai rendszer: egy olyan fizikai objektum, amely m\u00e9rhet\u0151 k\u00fcls\u0151 k\u00e9nyszer hat\u00e1s\u00e1ra m\u00e9rhet\u0151 m\u00f3don megv\u00e1ltozik.</p> <p>Bemenetek: A val\u00f3s fizikai rendszerre hat\u00f3 \u00e9s id\u0151ben v\u00e1ltozni k\u00e9pes k\u00e9nyszereket nevezz\u00fck fizikai bemeneteknek. Kimenetek: A val\u00f3s fizikai rendszernek a fizikai k\u00e9nyszerek hat\u00e1s\u00e1ra bek\u00f6vetkez\u0151 b\u00e1rmely v\u00e1ltoz\u00e1sa lehet fizikai kimenet, ezek k\u00f6z\u00fcl azt tekintj\u00fck fizikai kimenetnek, amelyet az adott vizsg\u00e1latban k\u00f6zvetlen\u00fcl vagy k\u00f6zvetve m\u00e9r\u00fcnk. P\u00e9lda: ezt mindig a szab\u00e1lyz\u00e1si feladatnak megfelel\u0151en hat\u00e1rozzuk meg. P\u00e9ld\u00e1ul j\u00e1rm\u0171szint\u0171 ir\u00e1ny\u00edt\u00e1s: a rendszer a j\u00e1rm\u0171 maga, bemenete pl. a hosszir\u00e1ny\u00fa \u00e9s keresztir\u00e1ny\u00fa gyorsul\u00e1s. Kimenete pl. a poz\u00edci\u00f3, sebess\u00e9g...stb. P\u00e9lda: alacsonyszint\u0171 szab\u00e1lyz\u00e1s eset\u00e9n ez lehet pl. a f\u00e9kszab\u00e1lyz\u00e1s, ahol a bemenet a f\u0151f\u00e9khenger poz\u00edci\u00f3ja, a kimenet a f\u00e9kt\u00e1rcsa \u00e9s a f\u00e9kpofa k\u00f6z\u00f6tt fell\u00e9p\u0151 er\u0151, vagy a ker\u00e9kre hat\u00f3 nyomat\u00e9k...stb..</p> <p>Az absztrakt rendszer: Az absztrakt rendszer egy val\u00f3s fizikai rendszer valamilyen pontoss\u00e1g\u00fa \u00e9s meghat\u00e1rozott m\u0171k\u00f6d\u00e9si tartom\u00e1nyra \u00e9rv\u00e9nyes absztrakt modellje, amely a bemen\u0151jelek \u00e9s a kimen\u0151jelek k\u00f6z\u00f6tt teremt matematikai kapcsolatot. Ez voltak\u00e9pp egy modellez\u00e9si elj\u00e1r\u00e1s eredm\u00e9nye, amely modell a val\u00f3s fizikai rendszer matematikai le\u00edr\u00e1sa, jellemz\u0151en differenci\u00e1legyenletek form\u00e1j\u00e1ban. P\u00e9lda: a j\u00e1rm\u0171 kinematikai bicikli modellje.</p> <p>Rendszer param\u00e9terek: A val\u00f3s fizikai rendszert le\u00edr\u00f3 egyenletek egy\u00fctthat\u00f3it param\u00e9tereknek nevezz\u00fck. Id\u0151invariancia: Az id\u0151invari\u00e1ns rendszer eset\u00e9n, ha a rendszer egy U(t) gerjeszt\u00e9sre adott v\u00e1lasza Q(t), akkor az id\u0151ben eltolt U(t-tau) gerjeszt\u00e9sre adott Y(t-tau) v\u00e1lasz is egyszer\u0171 id\u0151beni eltol\u00e1ssal megkaphat\u00f3. Ez egy\u00fattal azt is jelenti, hogy a rendszer modellje id\u0151ben nem v\u00e1ltozik, azaz a rendszer param\u00e9terei \u00e1lland\u00f3ak. P\u00e9lda: a j\u00e1rm\u0171 kinematikai bicikli modellj\u00e9nek param\u00e9terei pl. a j\u00e1rm\u0171 tengelyt\u00e1vja, amely (rem\u00e9lhet\u0151leg) id\u0151ben nem v\u00e1ltozik, azaz ez a param\u00e9ter id\u0151invari\u00e1ns. Ha a rendszer modellj\u00e9nek \u00f6sszes param\u00e9tere id\u0151invari\u00e1ns, maga az absztrakt rendszer is invari\u00e1ns. P\u00e9lda: a j\u00e1rm\u0171 dinamikai bicikli modellj\u00e9nek egy param\u00e9tere a j\u00e1rm\u0171 t\u00f6mege. Ez v\u00e1ltozhat \"menet k\u00f6zben is\", hiszen pl. t\u00f6bben \u00fclnek az aut\u00f3ban, csomagokat pakolnak bele, az \u00fczemanyag szintje v\u00e1ltozik, azaz ez a param\u00e9ter nem id\u0151invari\u00e1ns, teh\u00e1t a fizikai rendszer sem id\u0151invari\u00e1ns. Ugyanakkor tekinthetj\u00fck bizonyos felt\u00e9telek mellett id\u0151invari\u00e1nsnak, ekkor a modell pontatlans\u00e1ga n\u0151.</p> <p>\u00c1llapot: Az \u00e1llapot a mem\u00f3ria jelleggel rendelkez\u0151 dinamikai rendszerekben a m\u00falt \u00f6sszes\u00edtett hat\u00e1sa. A rendszer \u00e1llapot\u00e1nak a k\u00f6vetkez\u0151 k\u00e9t tulajdons\u00e1ggal kell rendelkeznie - B\u00e1rmely T id\u0151pillanatban a kimen\u0151jel az adott pillanatbeli \u00e1llapot \u00e9s bemen\u0151jel egy\u00fcttes ismeret\u00e9ben egy\u00e9rtelm\u0171en meghat\u00e1rozhat\u00f3 legyen. Kimeneti egyenletnek nevezz\u00fck azt az \u00f6sszef\u00fcgg\u00e9st, amely az \u00e1llapotb\u00f3l \u00e9s a bemen\u0151jelb\u0151l meghat\u00e1rozza a kimen\u0151jeleket. - Az \u00e1llapot egy adott T id\u0151pillanatban egy\u00e9rtelm\u0171en meghat\u00e1rozhat\u00f3 legyen a bemen\u0151jel a t\u2264T id\u0151tartom\u00e1nybeli \u00e9rt\u00e9k\u00e9nek ismeret\u00e9ben. Az \u00e1llapot v\u00e1ltoz\u00e1s\u00e1t le\u00edr\u00f3 egyenletet \u00e1llapotegyenletnek nevezz\u00fck.</p> <p>\u00c1llapotv\u00e1ltoz\u00f3: Az \u00e1llapotv\u00e1ltoz\u00f3k az \u00e1llapot egy\u00e9rtelm\u0171 le\u00edr\u00e1s\u00e1ra szolg\u00e1lnak. Az \u00e1llapotv\u00e1ltoz\u00f3 lehet egy id\u0151f\u00fcggv\u00e9ny, az \u00e1llapot mennyis\u00e9gi v\u00e1ltoz\u00e1sainak le\u00edr\u00e1s\u00e1ra, illetve logikai v\u00e1ltoz\u00f3 az \u00e1llapot min\u0151s\u00e9gi v\u00e1lt\u00e1sainak le\u00edr\u00e1s\u00e1ra.</p> <p>Rendszer dimenzi\u00f3: Egy rendszer \u00e1llapot\u00e1nak egy\u00e9rtelm\u0171 le\u00edr\u00e1s\u00e1hoz minim\u00e1lisan sz\u00fcks\u00e9ges \u00e1llapotv\u00e1ltoz\u00f3k sz\u00e1m\u00e1t a rendszer dimenzi\u00f3j\u00e1nak szok\u00e1s nevezni.</p> <p>Kanonikus \u00e1llapotv\u00e1ltoz\u00f3k: Kanonikus \u00e1llapotv\u00e1ltoz\u00f3nak nevezz\u00fck az \u00e1llapotv\u00e1ltoz\u00f3k legkisebb olyan halmaz\u00e1nak elemeit, amelyek seg\u00edts\u00e9g\u00e9vel az \u00e1llapot egy\u00e9rtelm\u0171en le\u00edrhat\u00f3. A nem kanonikus \u00e1llapotv\u00e1ltoz\u00f3kat sz\u00e1rmaztatott \u00e1llapotv\u00e1ltoz\u00f3knak nevezz\u00fck.</p> <p>Ljapunov-f\u00e9le stabilit\u00e1s: Egy nemline\u00e1ris auton\u00f3m m\u0171k\u00f6d\u00e9s\u0171 rendszert akkor mondunk Ljapunov \u00e9rtelemben stabilisnak, ha az egyens\u00falyi \u00e1llapot b\u00e1rmely k\u00f6rnyezet\u00e9hez tal\u00e1lunk egy olyan null\u00e1n\u00e1l nagyobb maxim\u00e1lis kit\u00e9r\u00edt\u00e9st, amelyn\u00e9l kisebb kit\u00e9r\u00edt\u00e9sek eset\u00e9n a rendszer garant\u00e1ltan visszat\u00e9r az eredetileg meghat\u00e1rozott k\u00f6rnyezetbe.</p> <p>BIBO stabilit\u00e1s: Korl\u00e1tos bemen\u0151jelre minden esetben korl\u00e1tos kimen\u0151jel a v\u00e1lasz. Ezt a felt\u00e9telt teljes\u00edt\u0151 rendszert ism\u00e9telten az angol n\u00e9v ut\u00e1n BIBO (Bounded Input Bounded Output) stabilis rendszernek h\u00edvjuk.</p> <p>Ezen fogalmak \u00f6sszess\u00e9ge elegend\u0151 a j\u00e1rm\u0171ir\u00e1ny\u00edt\u00e1si alapok meg\u00e9rt\u00e9s\u00e9hez. A szab\u00e1lyz\u00e1si feladat sokszor k\u00e9t r\u00e9szre bonthat\u00f3: - modellez\u00e9s, az absztrakt matematikai modell elk\u00e9sz\u00edt\u00e9se - szab\u00e1lyz\u00e1s, azaz a szab\u00e1lyz\u00f3 megtervez\u00e9se.</p>"},{"location":"szabalyozas/#32-a-szabalyzasi-feladat-megfogalmazasa","title":"3.2. A szab\u00e1lyz\u00e1si feladat megfogalmaz\u00e1sa","text":"<p>A c\u00e9l mindig a val\u00f3s fizikai rendszer ir\u00e1ny\u00edt\u00e1sa \u00fagy, hogy az az el\u0151\u00edrt c\u00e9l\u00e9rt\u00e9knek megfelel\u0151en viselkedjen. Fontos, hogy minden c\u00e9lhoz meghat\u00e1rozzunk olyan m\u00e9rhet\u0151 mennyis\u00e9geket, amelyek alapj\u00e1n a szab\u00e1lyz\u00e1s j\u00f3s\u00e1g\u00e1t meg tudjuk hat\u00e1rozni. A legt\u00f6bbsz\u00f6r (de nem kiz\u00e1r\u00f3lagosan) haszn\u00e1lt ilyen mennyis\u00e9gek: - be\u00e1ll\u00e1si id\u0151 (gyorsas\u00e1g) - t\u00fallend\u00fcl\u00e9s m\u00e9rt\u00e9ke - \u00e1lland\u00f3sult \u00e1llapotbeli hiba - a szab\u00e1lyz\u00e1s energi\u00e1ja.</p> <p>A szab\u00e1lyz\u00e1si l\u00e1ncot a 3. \u00c1br\u00e1n l\u00e1that\u00f3 m\u00f3don \u00edrhatjuk fel. A k\u00f6vetkez\u0151 jel\u00f6l\u00e9seket haszn\u00e1ljuk:</p> <ul> <li>\\(r(t)\\): a c\u00e9l\u00e9rt\u00e9k, avagy referenciajel</li> <li>\\(y(t)\\): a visszacsatolt \u00e9rt\u00e9k.</li> <li>\\(m(t)\\): a val\u00f3s rendszeren m\u00e9rt \u00e9rt\u00e9k. Megjegyz\u00e9s: sokszor az \u00e9rz\u00e9kel\u0151t ide\u00e1lisnak tekintj\u00fck, \u00edgy \\(y(t)=m(t)\\), \u00e9s \u00edgy a visszacsatolt \u00e9rt\u00e9k egyben az absztrakt rendszer kimenete.</li> <li>\\(e(t)\\): hibajel, a szab\u00e1lyz\u00f3 bemenete.</li> <li>\\(i(t)\\): a szab\u00e1lyz\u00f3 \u00e1ltal meghat\u00e1rozott beavatkoz\u00f3 jel.</li> <li>\\(f(t)\\): el\u0151recsatolt \u00e1g.</li> <li>\\(u(t)\\): a rendszer bemenete</li> <li>\\(d(t)\\): k\u00fcls\u0151 zavarok.</li> </ul> <p> 3. \u00c1bra: a szab\u00e1lyz\u00e1si l\u00e1nc blokkdiagramja.</p> <p>A szab\u00e1lyz\u00f3 feladata, hogy a bemenet\u00e9n keletkez\u0151 hib\u00e1t minimaliz\u00e1lja. A teljes szab\u00e1lyz\u00e1si l\u00e1nc feladata, hogy a val\u00f3s fizikai rendszer kimenete a lehet\u0151 legnagyobb pontoss\u00e1ggal k\u00f6vesse le a referencia jelet.  A k\u00f6vetkez\u0151kben egy egyszer\u0171 p\u00e9ld\u00e1n szeml\u00e9ltetj\u00fck egy rendszer modellez\u00e9s\u00e9t, a zavarok hat\u00e1s\u00e1t, tov\u00e1bb\u00e1 p\u00e9ld\u00e1t adunk egy szab\u00e1lyz\u00f3ra illetve az el\u0151recsatol\u00e1s lehet\u0151s\u00e9g\u00e9re. A p\u00e9ld\u00e1t MATLAB/Simulink k\u00f6rnyezetben k\u00e9sz\u00edtett\u00fck el.</p>"},{"location":"szabalyozas/#33-pelda-a-szabalyzasi-alapokra","title":"3.3. P\u00e9lda a szab\u00e1lyz\u00e1si alapokra","text":"<p>Ebben a p\u00e9ld\u00e1ban egy egyszer\u0171 modellt fogunk fel\u00e9p\u00edteni hogy szeml\u00e9ltess\u00fck a z\u00e1rthurk\u00fa szab\u00e1lyz\u00e1st. A feladat egy j\u00e1rm\u0171 sebess\u00e9gszab\u00e1lyz\u00e1sa. Ehhez a j\u00e1rm\u0171 egyszer\u0171 modellj\u00e9t fogjuk elk\u00e9sz\u00edteni.  1. Feladat: hat\u00e1rozzuk meg a rendszer be- \u00e9s kimeneteit! A rendszerre a j\u00e1rm\u0171re hat\u00f3 gyors\u00edt\u00f3 er\u0151vel szeretn\u00e9nk hatni, ez\u00e9rt ez a bemenet. A kimenet a j\u00e1rm\u0171 sebess\u00e9ge, hiszen ezt szeretn\u00e9nk egy adott c\u00e9l\u00e9rt\u00e9kre szab\u00e1lyozni. Mivel ennek a rendszernek 1 be- \u00e9s 1 kimenete van, ez\u00e9rt szok\u00e1s SISO (Single Input Single Output) rendszernek is h\u00edvni. Ennek anal\u00f3gi\u00e1j\u00e1n l\u00e9teznek MIMO (Multiple Inputs Multiple Outputs) rendszerek is. Megjegyz\u00e9s: a val\u00f3s\u00e1gban a j\u00e1rm\u0171re a g\u00e1zped\u00e1llal \u00e9s a f\u00e9kped\u00e1llal hatunk, de ezek voltak\u00e9pp a j\u00e1rm\u0171 gyorsul\u00e1s\u00e1t befoly\u00e1solj\u00e1k, \u00edgy az egyszer\u0171s\u00e9g kedv\u00e9\u00e9rt a szakasz ezen r\u00e9sz\u00e9t nem modellezz\u00fck. Ezzel term\u00e9szetesen hib\u00e1t visz\u00fcnk a modellbe, de n\u00f6velj\u00fck annak \u00e1ltal\u00e1noss\u00e1g\u00e1t.</p> <ol> <li>Feladat: k\u00e9sz\u00edts\u00fck el a j\u00e1rm\u0171 matematikai modellj\u00e9t / absztrakt modellj\u00e9t! Olyan egyenletrendszert keres\u00fcnk, amely \u00f6sszek\u00f6ti a be- \u00e9s kimenetet. Itt meg kell hat\u00e1roznunk, mennyire t\u00f6reksz\u00fcnk pontos modellre. Az egyszer\u0171s\u00e9g kedv\u00e9\u00e9rt \u00e9lj\u00fcnk a k\u00f6vetkez\u0151 megk\u00f6t\u00e9sekkel:</li> <li>eltekint\u00fcnk a hosszir\u00e1nyban fell\u00e9p\u0151 ker\u00e9kszlipt\u0151l</li> <li>eltekint\u00fcnk az aktu\u00e1torok dinamikai viselked\u00e9s\u00e9t\u0151l, azaz a k\u00e9rt gyorsul\u00e1s egyb\u0151l megval\u00f3sul</li> <li>eltekint\u00fcnk a m\u00e9rt mennyis\u00e9geket terhel\u0151 hib\u00e1kt\u00f3l, azaz a szenzorok pontatlans\u00e1g\u00e1t\u00f3l.</li> <li>eltekint\u00fcnk a fut\u00f3m\u0171 \u00e9s a felf\u00fcggeszt\u00e9s dinamikai tulajdons\u00e1gait\u00f3l.</li> </ol> <p>Az egyenlet\u00fcnk \u00edgy egy koncentr\u00e1lt t\u00f6megpont line\u00e1ris mozg\u00e1s\u00e1v\u00e1 egyszer\u0171s\u00f6dik. A modellbe foglaljuk be a k\u00f6vetkez\u0151 mennyis\u00e9geket: - a j\u00e1rm\u0171 t\u00f6mege - a j\u00e1rm\u0171 l\u00e9gellen\u00e1ll\u00e1sa - a j\u00e1rm\u0171 sebess\u00e9gar\u00e1nyos s\u00farl\u00f3d\u00e1sa.</p> <p>Newton II. t\u00e9tel\u00e9nek megfelel\u0151en \u00edrjuk fel a k\u00f6vetkez\u0151 dinamikai egyens\u00falyi egyenletet:  $$ \\ddot I = \\sum F $$</p> <p>Azaz:</p> \\[ m*\\ddot v(t) = F_{prop}(t) - F_{aero}(t) - F_{fric}(t) \\] <p>L\u00e1thatjuk, hogy mind a bemenet, mind a kimenet szerepel az egyenlet\u00fcnkben, \u00edgy val\u00f3ban megtal\u00e1ltuk a rendszer modellj\u00e9t. Alak\u00edtsuk tov\u00e1bb, hogy csak a ki- \u00e9s bemenet szerepeljen benne:</p> \\[ m*\\ddot v(t) = F_{prop}(t) - \\frac{1}{2}*v(t)^2*\\rho*c*A - v(t)*b \\] <p>Ebben a form\u00e1ban az id\u0151ben v\u00e1ltoz\u00f3 jelek a be- \u00e9s kimenet (a sebess\u00e9g illetve a hajt\u00f3er\u0151), \u00e9s vannak id\u0151ben \u00e1lland\u00f3 (id\u0151invari\u00e1ns) param\u00e9terek:</p> <ul> <li>\\(\\rho\\): a leveg\u0151 s\u0171r\u0171s\u00e9ge</li> <li>\\(A\\): homlokfel\u00fclet m\u00e9rete</li> <li>\\(c\\): j\u00e1rm\u0171 l\u00e9gellen\u00e1ll\u00e1si egy\u00fctthat\u00f3ja</li> <li>\\(b\\): Coloumb-f\u00e9le s\u00farl\u00f3d\u00e1si t\u00e9nyez\u0151</li> </ul> <p> 4. \u00c1bra: a j\u00e1rm\u0171 modellezett er\u0151egyens\u00falya</p> <p>Ahhoz, hogy megkapjuk a sebess\u00e9get, mint v\u00e1lasztott kimenet, meg kell oldanunk a differenci\u00e1legyenletet. Ezt Simulinkben numerikusan v\u00e9gezz\u00fck el. A megold\u00e1st az 5. \u00c1bra mutatja.</p> <p> 5. \u00c1bra: a differenci\u00e1legyenlet numerikus megold\u00e1sa.</p> <p>A teljes szab\u00e1lyz\u00e1si l\u00e1nc blokkdiagramj\u00e1t a 6. \u00c1bra mutatja. Ezen az \u00e1br\u00e1n nem haszn\u00e1ljuk a visszacsatolt \u00e1gat. A kezd\u0151 sebess\u00e9get 20 m/s-ra \u00e1ll\u00edtottuk. A hajt\u00f3er\u0151 ez esetben nulla, \u00edgy voltak\u00e9pp a j\u00e1rm\u0171 tehetetlens\u00e9g\u00e9n\u00e9l fogva gurul, \u00e9s folyamatosan lassul a terhel\u00e9ssel ar\u00e1nyosan. </p> <p> 6. \u00c1bra: a teljes szab\u00e1lyz\u00e1si l\u00e1nc blokkdiagramja.</p> <p>A k\u00f6vetkez\u0151 param\u00e9ter \u00e9rt\u00e9keket v\u00e1lasztottuk a szimul\u00e1ci\u00f3hoz:</p> <ul> <li>\\(A = 1.2m^2\\)</li> <li>\\(b = 10 Ns/m\\)</li> <li>\\(c = 0.4\\)</li> <li>\\(\\rho = 1 kg/m^3\\)</li> <li>\\(m = 1250 kg\\)</li> </ul> <p>A 7. \u00c1br\u00e1n l\u00e1that\u00f3 a futtat\u00e1s eredm\u00e9nye. 100s-ig futott a szimul\u00e1ci\u00f3, ez id\u0151 alatt 20 m/s-r\u00f3l nagyj\u00e1b\u00f3l 7 m/s-ra lassul a j\u00e1rm\u0171.</p> <p> 7. \u00c1bra: a teljes szab\u00e1lyz\u00e1si l\u00e1nc blokkdiagramja.</p> <p>A 8. \u00c1br\u00e1n a visszacsatolt szab\u00e1lyz\u00f3nak egy ar\u00e1nyos szab\u00e1lyz\u00f3t (P szab\u00e1lyz\u00f3t) v\u00e1lasztunk, amely a hib\u00e1val ar\u00e1nyosan hat\u00e1rozza meg a beavatkoz\u00f3 jelet. Az er\u0151s\u00edt\u00e9st 100-ra v\u00e1lasztjuk, azaz 1 m/s sebess\u00e9ghiba 100N hajt\u00f3er\u0151t eredm\u00e9nyez. A kezd\u0151 sebess\u00e9g 15 m/s, a c\u00e9lsebess\u00e9g 20 m/s, \u00edgy kezdetben 500N hajt\u00f3er\u0151nk lesz.</p> <p> 8. \u00c1bra: ar\u00e1nyos szab\u00e1lyz\u00f3, 100-as er\u0151s\u00edt\u00e9ssel.*</p> <p>A 9. \u00c1br\u00e1n l\u00e1that\u00f3 a szab\u00e1lyz\u00f3 karakterisztik\u00e1ja, P szab\u00e1lyz\u00f3val, 100-as er\u0151s\u00edt\u00e9ssel. A maradand\u00f3 hiba relat\u00edve nagy (t\u00f6bb mint 10%). Ennek oka, hogy az ar\u00e1nyos szab\u00e1lyz\u00f3 a hib\u00e1val ar\u00e1nyos bemeneti jelet \u00e1ll\u00edt el\u0151, \u00e9s mivel a j\u00e1rm\u0171re hat ellent\u00e9tes ir\u00e1ny\u00fa er\u0151, \u00edgy a szab\u00e1lyz\u00f3 ezzel fog egyens\u00falyt tartani. Amennyiben n\u00f6velj\u00fck az er\u0151s\u00edt\u00e9st, \u00fagy cs\u00f6kken az \u00e1lland\u00f3sult \u00e1llapotbeli hiba. Elm\u00e9letben v\u00e9gtelen nagy er\u0151s\u00edt\u00e9s null\u00e1ra cs\u00f6kkenti ezt a hib\u00e1t, viszont a v\u00e9gtelen er\u0151s\u00edt\u00e9s v\u00e9gtelen beavatkoz\u00f3 jelet jelent, ami nem megval\u00f3s\u00edthat\u00f3. A gyakorlatban enn\u00e9l sokkal hamarabb el\u00e9rj\u00fck a korl\u00e1tokat, hiszen az aktu\u00e1torok csak v\u00e9ges er\u0151 kifejt\u00e9s\u00e9re k\u00e9pesek. Ezt a szab\u00e1lyz\u00f3 megtervez\u00e9s\u00e9n\u00e9l figyelembe kell venni.</p> <p> 9. \u00c1bra: ar\u00e1nyos szab\u00e1lyz\u00f3 karakterisztik\u00e1ja.</p> <p>Az \u00e1lland\u00f3sult \u00e1llapotbeli hib\u00e1t \u00fagy is elimin\u00e1lhatjuk, ha az er\u0151s\u00edt\u00e9s mellett egy olyan szab\u00e1lyz\u00f3 tagot is hozz\u00e1adunk, ami \"\u00e9szre veszi\", ha sok\u00e1ig adott hiba \u00e1ll fent, \u00e9s n\u00f6veli ennek megfelel\u0151en a beavatkoz\u00f3 jelet. Min\u00e9l tov\u00e1bb \u00e1ll fent a hiba, ann\u00e1l jobban n\u00f6velj\u00fck a beavatkoz\u00f3 jelet. Ez gyakorlatilag a hiba id\u0151beli integr\u00e1lj\u00e1val ar\u00e1nyos bevatkoz\u00f3 tagot jelent. Ezt szok\u00e1s I tagnak nevezni. Az \u00edgy kialakul\u00f3 szab\u00e1lyz\u00f3t pedig PI szab\u00e1lyz\u00f3nak nevezni. A szab\u00e1lyz\u00f3 elrendez\u00e9s\u00e9t 10. \u00c1bra mutatja, a kimeneti karakterisztik\u00e1t a 11. \u00c1bra. L\u00e1thatjuk, hogy a hiba val\u00f3ban elt\u0171nt, ugyanakkor a kezdeti tranziens szakasz is megv\u00e1ltozott. Megjelent a t\u00fallend\u00fcl\u00e9s, ezzel egy\u00fctt a c\u00e9l\u00e9rt\u00e9k k\u00f6r\u00fcli oszcill\u00e1ci\u00f3, tov\u00e1bb\u00e1 a be\u00e1ll\u00e1s is lassabb lett.</p> <p> 10. \u00c1bra: ar\u00e1nyos szab\u00e1lyz\u00f3 100-as er\u0151s\u00edt\u00e9ssel \u00e9s integr\u00e1tor, 10-es er\u0151s\u00edt\u00e9ssel.</p> <p> 11. \u00c1bra: ar\u00e1nyos szab\u00e1lyz\u00f3 100-as er\u0151s\u00edt\u00e9ssel \u00e9s integr\u00e1tor, 10-es er\u0151s\u00edt\u00e9ssel.</p> <p>A fenti be\u00e1ll\u00e1si oszcill\u00e1ci\u00f3t \u00e9s t\u00fallend\u00fcl\u00e9st jav\u00edthatjuk a param\u00e9terek megv\u00e1ltoztat\u00e1s\u00e1val, illetve egy olyan szab\u00e1lyz\u00f3 tag hozz\u00e1ad\u00e1s\u00e1val, amely a hiba v\u00e1ltoz\u00e1s\u00e1ra reag\u00e1l. Ez gyors\u00edtja a be\u00e1ll\u00e1st, \u00e9s a t\u00fallend\u00fcl\u00e9st is gyorsabban kompenz\u00e1lja. Ez gyakorlatilag a hiba v\u00e1ltoz\u00e1s\u00e1val ar\u00e1nyos tagot jelent, ami egyen\u00e9rt\u00e9k\u0171 a hiba deriv\u00e1ltj\u00e1nak figyelembev\u00e9tel\u00e9vel. Ezt a tagot szok\u00e1s D tagnak nevezni, a kialakul\u00f3 szab\u00e1lyz\u00f3t PID szab\u00e1lyz\u00f3nak nevezni. Ugyanakkor a D tag er\u0151s\u00edt\u00e9s\u00e9t \u00f3vatosan kell megv\u00e1lasztani, mert k\u00f6nnyen instabill\u00e1 teheti a rendszert. A szab\u00e1lyz\u00f3 fel\u00e9p\u00edt\u00e9s\u00e9t a 12. \u00c1bra mutatja, a karakterisztik\u00e1j\u00e1t a 13. \u00c1bra.</p> <p> 12. \u00c1bra: ar\u00e1nyos szab\u00e1lyz\u00f3 100-as er\u0151s\u00edt\u00e9ssel \u00e9s integr\u00e1tor, 10-es er\u0151s\u00edt\u00e9ssel, D tag 10-es er\u0151s\u00edt\u00e9ssel.</p> <p> 13. \u00c1bra: ar\u00e1nyos szab\u00e1lyz\u00f3 100-as er\u0151s\u00edt\u00e9ssel \u00e9s integr\u00e1tor 10-es er\u0151s\u00edt\u00e9ssel, D tag 10-es er\u0151s\u00edt\u00e9ssel.</p> <p>Empirikus \u00faton, figyelembe v\u00e9ve a t\u00fallend\u00fcl\u00e9s m\u00e9rt\u00e9k\u00e9t, a be\u00e1ll\u00e1si id\u0151t \u00e9s az \u00e1lland\u00f3sult \u00e1llapotbeli hib\u00e1t, v\u00e1lasszuk a k\u00f6vetkez\u0151 param\u00e9ter \u00e9rt\u00e9keket:</p> \\[ P=175,  I=10,  D=50 \\] <p>Ezzel a be\u00e1ll\u00e1s m\u00e1r nagyon sz\u00e9p, az eredm\u00e9nyt a 14. \u00c1bra mutatja. 14. \u00c1bra: ar\u00e1nyos szab\u00e1lyz\u00f3, 170-es er\u0151s\u00edt\u00e9ssel, I tag 10-es er\u0151s\u00edt\u00e9ssel, D tag 50-es er\u0151s\u00edt\u00e9ssel.</p> <p>A 15. \u00c1br\u00e1n l\u00e1that\u00f3, milyen hat\u00e1sa van, ha hozz\u00e1dunk egy 3\u00b0-os lejt\u0151 \u00e1ltal keltett extra gyors\u00edt\u00f3 er\u0151t. A t\u00fallend\u00fcl\u00e9s nagyobb lesz, hiszen a szab\u00e1lyz\u00f3t egy olyan modellel \u00e1ll\u00edtottuk be, amely s\u00edk talajon mozg\u00f3 aut\u00f3t felt\u00e9telez.</p> <p> 15. \u00c1bra: lejt\u0151 hat\u00e1sa a z\u00e1rt hurk\u00fa szab\u00e1lyz\u00f3ra.</p> <p>Ezt kompenz\u00e1lhatjuk, ha a lejt\u0151vel ar\u00e1nyos el\u0151recsatolt \u00e1gat alkotunk meg. Azonban a lejt\u0151 becsl\u00e9se neh\u00e9z, \u00e1ltal\u00e1ban a j\u00e1rm\u0171 mozg\u00e1sa alapj\u00e1n k\u00f6vetkeztethet\u00fcnk r\u00e1, ami \u00edgy csak k\u00e9sve jelzi a lejt\u0151 m\u00e9rt\u00e9k\u00e9t. Adjunk hozz\u00e1 egy 1 s-mal eltolt, 5%-os hib\u00e1val rendelkez\u0151 lejt\u0151kompenz\u00e1ci\u00f3t. A blokkdiagramot a 16. \u00c1bra, az eredm\u00e9nyt a 17. \u00c1bra mutatja.</p> <p> 16. \u00c1bra: el\u0151recsatolt \u00e1ggal kieg\u00e9sz\u00edtett szab\u00e1lyz\u00f3 rendszer.</p> <p> 17. \u00c1bra: el\u0151recsatolt \u00e1g hat\u00e1sa a szab\u00e1lyz\u00f3ra.</p>"},{"location":"szabalyozas/#34-interaktiv-pid-hangolas","title":"3.4 Interakt\u00edv PID hangol\u00e1s","text":"<p>A k\u00f6vetkez\u0151kben a egy m\u00e1sik szab\u00e1lyoz\u00e1si p\u00e9lda (h\u0151m\u00e9rs\u00e9klet szab\u00e1lyoz\u00e1s) interakt\u00edv PID hangol\u00e1s\u00e1t lehet megtenni:</p> <p>Ez az interakt\u00edv vizualiz\u00e1ci\u00f3 Mario Theers - CC BY 4.0 License megold\u00e1sa.</p> <p>Hasonl\u00f3 interakt\u00edv vizualiz\u00e1ci\u00f3 \u00e9rhet\u0151 el a Viktor.ai oldalon, de itt m\u00e9g hangolni is van lehet\u0151s\u00e9g\u00fcnk: cloud.viktor.ai/public/control-application</p>"},{"location":"szabalyozas/#osszegzes","title":"\u00d6sszegz\u00e9s","text":"<p>Ebben a fejezetben \u00e1ttekintett\u00fck a szab\u00e1lyz\u00e1stechnikai alapfogalmakat, p\u00e9ld\u00e1kat hoztunk a j\u00e1rm\u0171ir\u00e1ny\u00edt\u00e1s ter\u00fclet\u00e9r\u0151l. Ezen k\u00edv\u00fcl a gyakorlatban megalkottunk egy egyszer\u0171 matematikai modellt, amely le\u00edrja egy j\u00e1rm\u0171, mint t\u00f6megpont hosszir\u00e1ny\u00fa mozg\u00e1s\u00e1t. Ezen kereszt\u00fcl MATLAB/Simulink seg\u00edts\u00e9g\u00e9vel sebess\u00e9gszab\u00e1lyz\u00e1ssal kapcsolatos szimul\u00e1ci\u00f3t v\u00e9gezt\u00fcnk. Az egyik legelterjedtebb szab\u00e1lyz\u00f3t, a PID szab\u00e1lyz\u00f3t mutattuk be. A k\u00f6vetkez\u0151 pontokat \u00e9rdemes megjegyezni: - egy z\u00e1rthurk\u00fa szab\u00e1lyz\u00e1s \u00e1ltal\u00e1ban \u00e1ll a szab\u00e1lyzott szakaszb\u00f3l (mely a val\u00f3s fizikai rendszer absztrakt matematikai modellje) \u00e9s a szab\u00e1lyz\u00f3b\u00f3l. - a val\u00f3s fizikai rendszert matematikai modellel \u00edrjuk le, amely alapj\u00e1n tervezhet\u0151 a szab\u00e1lyz\u00f3 is. A modell pontoss\u00e1ga befoly\u00e1solja a megtervezett szab\u00e1lyz\u00f3 min\u0151s\u00e9g\u00e9t is. - a matematikai modell \u00e1ltal\u00e1ban differenci\u00e1legyenletek form\u00e1j\u00e1ban \u00e1ll el\u0151. - a PID szab\u00e1lyz\u00f3k a hiba minimaliz\u00e1l\u00e1s\u00e1ra t\u00f6rekednek. A P tag gyors\u00edtja a rendszert, az I tag elt\u00fcnteti a maradand\u00f3 hib\u00e1t, a D tag szint\u00e9n gyors\u00edtja a szab\u00e1lyz\u00f3 reakci\u00f3j\u00e1t, de instabilit\u00e1st is okozhat. - a val\u00f3s\u00e1gban a j\u00e1rm\u0171szab\u00e1lyz\u00e1s \u00f6sszetett, a v\u00e1ltoz\u00f3 param\u00e9terek (pl. aut\u00f3 t\u00f6mege), az \u00fatviszonyok illetve az egym\u00e1sba \u00e1gyazott szab\u00e1lyz\u00f3 hurkok miatt.</p>"},{"location":"szabalyozas/#4-jarmuiranyitasi-megoldasok","title":"4. J\u00e1rm\u0171ir\u00e1ny\u00edt\u00e1si megold\u00e1sok","text":"<p>A j\u00e1rm\u0171szab\u00e1lyz\u00e1s ter\u00fclet\u00e9n - ahogy azt a 2. alfejezetben l\u00e1ttuk - t\u00f6bb, egym\u00e1sba \u00e1gyazott szab\u00e1lyz\u00f3 k\u00f6rt haszn\u00e1lunk. Mindegyik jellemz\u0151en tartalmaz egy el\u0151re csatolt \u00e9s egy visszcsatolt \u00e1gat. Automatiz\u00e1lt vezet\u00e9si rendszerek eset\u00e9n \u00e1ltal\u00e1ban a legfels\u0151, \u00fan. j\u00e1rm\u0171szint\u0171 ir\u00e1ny\u00edt\u00e1st szoktuk legel\u0151re venni. Az alacsonyabb szint\u0171 szab\u00e1lyz\u00f3kra most nem t\u00e9r\u00fcnk ki, csup\u00e1n egy lista erej\u00e9ig \u00f6sszegezz\u00fck \u0151ket. Meg kell jegyezni, hogy ezek az alacsonyszint\u0171 szab\u00e1lyz\u00f3k nagyban f\u00fcggnek a j\u00e1rm\u0171ben el\u00e9rhet\u0151 aktu\u00e1torokt\u00f3l, hiszen t\u00f6bbf\u00e9le f\u00e9krendszer, hajt\u00e1s \u00e9s korm\u00e1nyrendszer is el\u00e9rhet\u0151 lehet. Ez a feloszt\u00e1s nagyban t\u00e1mogatja modul\u00e1ris tervez\u00e9st, azaz a j\u00e1rm\u0171szint\u0171 szab\u00e1lyz\u00e1st f\u00fcggetlen\u00fcl tudjuk fejleszteni az alacsony szint\u0171 szab\u00e1lyz\u00e1sokt\u00f3l. Ez pl. sorozatgy\u00e1rtott szoftverek eset\u00e9n nagyban megk\u00f6nny\u00edti az \u00fajrahasznos\u00edthat\u00f3s\u00e1got. Az alacsony szint\u0171, aktu\u00e1tor szab\u00e1lyz\u00f3 hurkok a k\u00f6vetkez\u0151k lehetnek (a teljess\u00e9g ig\u00e9nye n\u00e9lk\u00fcl): - korm\u00e1ny szerv\u00f3 motor sz\u00f6gszab\u00e1lyz\u00e1s - korm\u00e1ny szerv\u00f3 motor nyomat\u00e9kszab\u00e1lyz\u00e1s - motor nyomat\u00e9k szab\u00e1lyz\u00e1s - f\u00e9k er\u0151 szab\u00e1lyz\u00e1s (f\u00e9k nyom\u00e1s szab\u00e1lyz\u00e1s).</p> <p>Innent\u0151l minden meg\u00e1llap\u00edt\u00e1s a j\u00e1rm\u0171 szintj\u00e9re vonatkozik. Fontos megjegyezni, hogy mindig k\u00e9t dimenzi\u00f3ban gondolkodunk: hosszir\u00e1ny\u00fa \u00e9s keresztir\u00e1ny\u00fa szab\u00e1lyz\u00e1sban. A hosszir\u00e1ny\u00fa szab\u00e1lyz\u00e1sra l\u00e1ttunk p\u00e9ld\u00e1t a 3. alfejezetben. Ez \u00e1ltal\u00e1ban a sebess\u00e9g szab\u00e1lyz\u00e1s\u00e1t, esetleg a gyorsul\u00e1s szab\u00e1lyz\u00e1s\u00e1t jelenti. Hab\u00e1r a hosszir\u00e1ny\u00fa szab\u00e1lyz\u00e1s is rejt nem lev\u00e9s kih\u00edv\u00e1st (a motor tehetetlens\u00e9ge, a f\u00e9k- \u00e9s hajt\u00f3er\u0151k sz\u00e9tv\u00e1laszt\u00e1sa...stb.), a legt\u00f6bb j\u00e1rm\u0171ir\u00e1ny\u00edt\u00e1si megold\u00e1s els\u0151sorban a keresztir\u00e1ny\u00fa szab\u00e1lyz\u00e1sra \u00f6sszpontos\u00edt.  Mivel a j\u00e1rm\u0171 automatikus ir\u00e1ny\u00edt\u00e1si feladata nagyban hasonl\u00edt az emberek vezet\u00e9si feladat\u00e1hoz (teh\u00e1t a korm\u00e1ny \u00e9s a ped\u00e1lok seg\u00edts\u00e9g\u00e9vel a j\u00e1rm\u0171 mozg\u00e1s\u00e1nak befoly\u00e1sol\u00e1sa), ez\u00e9rt szok\u00e1s ezeket az ir\u00e1ny\u00edt\u00e1si megold\u00e1sokat vezet\u0151i modelleknek (angolul driver models) is h\u00edvni. Az egyes modellekr\u0151l r\u00f6vid \u00f6sszefoglal\u00f3kat tal\u00e1lunk az aj\u00e1nlott irodalom alatt. Ezek k\u00f6z\u00fcl [1] szerint 3 csoportra oszthatjuk a vezet\u0151i modelleket: -   Inverz-modellek (inverse models) -   Predikt\u00edv modellek (predictive/forward models) -   Z\u00e1rhurk\u00fa modellek (closed loop models).</p> <p> 18. \u00c1bra: j\u00e1rm\u0171ir\u00e1ny\u00edt\u00e1si megold\u00e1sok szeml\u00e9ltet\u00e9se.</p>"},{"location":"szabalyozas/#inverz-modellek","title":"Inverz modellek","text":"<p>Az inverz modelleket angol terminol\u00f3gi\u00e1ban pursuit modelleknek is szok\u00e1s h\u00edvni, amely a legjobban tal\u00e1n el\u0151re tekint\u0151, el\u0151re tol\u00f3nak lehet ford\u00edtani. A l\u00e9nyege, hogy a korm\u00e1nyz\u00e1shoz sz\u00fcks\u00e9ges c\u00e9l\u00e9rt\u00e9ket az k\u00e9t inform\u00e1ci\u00f3 alapj\u00e1n hat\u00e1rozza meg: - egy el\u0151retekint\u00e9si pontban mi a j\u00e1rm\u0171 c\u00e9l\u00e1llapota? - a j\u00e1rm\u0171r\u0151l el\u0151zetesen fel\u00e1ll\u00edtott modell. Ezt felfoghatjuk \u00fagy is, mint egy el\u0151recsatolt szab\u00e1lyz\u00e1si \u00e1g, avagy egy ny\u00edlthurk\u00fa szab\u00e1lyz\u00e1s, azaz vez\u00e9rl\u00e9s. Amennyiben ez ut\u00f3bbi \u00e1ll fent (azaz nincs visszacsatolt \u00e1g), azt nevezz\u00fck tiszt\u00e1n el\u0151re tekint\u0151, ismertebb angol nev\u00e9n pure-pursuit ir\u00e1ny\u00edt\u00e1snak. </p> <p>Warning</p> <p>A pure-pursuit megold\u00e1s az egyik legr\u00e9gebbi ir\u00e1ny\u00edt\u00e1si megold\u00e1s a j\u00e1rm\u0171vek ter\u00e9n. M\u00e1r az 1980as \u00e9vekben a Robotics Institute of Pittsburgh fejlesztette ki [4]. A l\u00e9nyege, hogy egy megadott el\u0151retekint\u00e9si t\u00e1vols\u00e1gban (ami az ir\u00e1ny\u00edt\u00e1s legfontosabb param\u00e9tere) meghat\u00e1rozzuk a j\u00e1rm\u0171 k\u00edv\u00e1nt poz\u00edci\u00f3j\u00e1t (pl. a kor\u00e1bban tervezett trajekt\u00f3ria alapj\u00e1n). </p> <p>Ennek a pontnak a koordin\u00e1t\u00e1i alapj\u00e1n meg tudjuk hat\u00e1rozni, milyen g\u00f6rb\u00fclet\u0171 k\u00f6r\u00edven kell haladnunk ahhoz, hogy az aktu\u00e1lis pontb\u00f3l a c\u00e9lpontba \u00e9rj\u00fcnk. Fontos, hogy a pure-pursuit megold\u00e1s mindig k\u00f6r\u00edveket haszn\u00e1l. A geometriai \u00f6sszef\u00fcgg\u00e9seket a 19. \u00c1bra szeml\u00e9lteti. Egyszer\u0171 trigonometriai megfontol\u00e1sok alapj\u00e1n a k\u00f6vetkez\u0151 \u00f6sszef\u00fcgg\u00e9st \u00edrhatjuk fel az el\u0151retekint\u00e9si pont \u00e9s a c\u00e9lg\u00f6rb\u00fclet k\u00f6z\u00f6tt:</p> \\[ \\kappa_{target}=\\frac{2x}{l^2} \\] <p>Mint l\u00e1tjuk, a j\u00e1rm\u0171 szintj\u00e9n megfogalmaztunk egy mennyis\u00e9get (g\u00f6rb\u00fclet) a bemeneti trajekt\u00f3ria alapj\u00e1n, \u00edgy elm\u00e9letben teljes\u00edtett\u00fck a j\u00e1rm\u0171ir\u00e1ny\u00edt\u00e1s f\u0151 feladat\u00e1t. Azonban a megval\u00f3s\u00edt\u00e1s sor\u00e1n \u00e1ltal\u00e1ban olyan mennyis\u00e9get \u00e1ll\u00edtunk el\u0151, amely m\u00e1r az aktu\u00e1torok szintj\u00e9n \u00e9rtelmezhet\u0151. Ehhez haszn\u00e1ljuk a j\u00e1rm\u0171 modellj\u00e9t: \u00f6sszef\u00fcgg\u00e9st adunk meg a c\u00e9lg\u00f6rb\u00fclet \u00e9s korm\u00e1nysz\u00f6g k\u00f6z\u00f6tt. A leggyakrabban a j\u00e1rm\u0171 kinematikai bicikli modellj\u00e9t haszn\u00e1ljuk, azonban ez nagyobb sebess\u00e9gek eset\u00e9n (&gt;10 km/h) nagyon pontatlan. A kinematikai bicikli modell \u00f6sszef\u00fcgg\u00e9seit felhaszn\u00e1lva megkaphatjuk a korm\u00e1nysz\u00f6get:</p> \\[ \\delta_f=atan(L_w*\\kappa) \\] <p>Ahol \\(L_w\\) a j\u00e1rm\u0171 tengelyt\u00e1vja. </p> <p>Felt\u00e9telezz\u00fck a modellben, hogy a j\u00e1rm\u0171 els\u0151ker\u00e9k-korm\u00e1nyz\u00e1s\u00fa. A kapott sz\u00f6g az \u00fat-ker\u00e9k sz\u00f6g, amely a korm\u00e1nym\u0171 geometri\u00e1j\u00e1nak f\u00fcggv\u00e9ny\u00e9ben \u00e1tsz\u00e1m\u00edthat\u00f3 pl. szerv\u00f3 motor sz\u00f6gg\u00e9, \u00e9s \u00edgy k\u00f6zvetlen\u00fcl megval\u00f3s\u00edthat\u00f3.</p> <p> 19. \u00c1bra: a pure pursuit szab\u00e1lyz\u00f3 geometriai \u00f6sszef\u00fcgg\u00e9sei.</p> <p>A 20. \u00c1br\u00e1n l\u00e1thatjuk, milyen hat\u00e1ssal van az el\u0151retekint\u00e9si t\u00e1vols\u00e1g a j\u00e1rm\u0171 viselked\u00e9s\u00e9re. Amennyiben t\u00fal k\u00f6zeli pontot v\u00e1lasztunk, a j\u00e1rm\u0171 hajlamos oszcill\u00e1ci\u00f3ra (ez hasonl\u00f3 hat\u00e1s, mint egy PID szab\u00e1lyz\u00f3 t\u00fal nagy P er\u0151s\u00edt\u00e9ssel). A t\u00fal nagy el\u0151retekint\u00e9si t\u00e1vols\u00e1g eset\u00e9n a reakci\u00f3 lassul, de pl. \u00e9lesebb kanyarokban a j\u00e1rm\u0171 hajlamos lesz kanyarlev\u00e1g\u00e1sra. Szok\u00e1s az el\u0151retekint\u00e9si t\u00e1vot adapt\u00edvan, pl. a sebess\u00e9g f\u00fcggv\u00e9ny\u00e9ben megadni. Ilyenkor gyakorlatilag el\u0151retekint\u00e9si id\u0151r\u0151l besz\u00e9l\u00fcnk.</p> <p> </p> <p>20. \u00c1bra: a pure pursuit el\u0151retekint\u00e9si t\u00e1vols\u00e1g\u00e1nak hat\u00e1sa a j\u00e1rm\u0171 viselked\u00e9s\u00e9re</p> <p>A pure-pursuit modellek tov\u00e1bbfejlesztett v\u00e1ltozatair\u00f3l pl. a [2] \u00e9s [3] cikkben olvashatunk.</p>"},{"location":"szabalyozas/#prediktiv-modellek","title":"Predikt\u00edv modellek","text":"<p>A predikt\u00edv modellek, hasonl\u00f3an a az inverz modellekhez a j\u00e1rm\u0171 modellj\u00e9n alapszanak. Azonban egy\u00fattal el\u0151re is tekintenek egy meghat\u00e1rozott horizonton: a modell seg\u00edts\u00e9g\u00e9vel becs\u00fclj\u00fck a j\u00e1rm\u0171 viselked\u00e9s\u00e9t el\u0151re, majd ennek f\u00fcggv\u00e9ny\u00e9ben a lehet\u0151 legjobb megold\u00e1st v\u00e1lasztjuk a jelenben. Teh\u00e1t ez esetben a j\u00f6v\u0151 valamilyen pontoss\u00e1g\u00fa inform\u00e1ci\u00f3it felhaszn\u00e1lva hozunk d\u00f6nt\u00e9st. Itt k\u00e9t esetet k\u00fcl\u00f6nb\u00f6ztet\u00fcnk meg: - receding horizon: azaz a j\u00f6v\u0151beli horizont folyamatosan tol\u00f3dik el\u0151tt\u00fcnk, mivel a megtervezett j\u00f6v\u0151beli viselked\u00e9snek mindig az els\u0151 elem\u00e9t hajtjuk csak v\u00e9gre, ezek ut\u00e1n \u00fajratervez\u00fcnk - proceeding horizon: a horizont k\u00f6zeledik fel\u00e9nk, azaz a j\u00f6v\u0151beli megtervezett viselked\u00e9st teljes eg\u00e9sz\u00e9ben v\u00e9grehajtjuk, \u00e9s csak ez ut\u00e1n tervez\u00fcnk \u00fajra.</p> <p>Mivel a szab\u00e1lyz\u00e1s itt egyben egy mozg\u00e1stervez\u00e9st is jelent, \u00edgy a tervez\u00e9s eszk\u00f6zt\u00e1r\u00e1t is haszn\u00e1lnunk kell. Ezeket a szab\u00e1lyz\u00f3kat szok\u00e1s Optim\u00e1lis szab\u00e1lyz\u00f3knak, angolul Optimum controlsnak is h\u00edvni. Hiszen ebben az esetben az el\u0151retekint\u00e9si horizonton a modell seg\u00edts\u00e9g\u00e9vel megtervezz\u00fck azt a mozg\u00e1st, amely a legkisebb k\u00f6lts\u00e9get eredm\u00e9nyezi a megadott szempontok szerint. Itt visszautalunk a 3.2. alfejezet elej\u00e9n bevezetett szempontokra: - be\u00e1ll\u00e1si id\u0151 (gyorsas\u00e1g) - t\u00fallend\u00fcl\u00e9s m\u00e9rt\u00e9ke - \u00e1lland\u00f3sult \u00e1llapotbeli hiba - a szab\u00e1lyz\u00e1s energi\u00e1ja.</p> <p>Mivel itt egy v\u00e9ges hossz\u00fas\u00e1g\u00fa id\u0151horizonton szeretn\u00e9nk az optim\u00e1lis mozg\u00e1st megtervezni, a fenti szab\u00e1lyz\u00f3 szempontok k\u00f6z\u00fcl a be\u00e1ll\u00e1si id\u0151t, a t\u00fallend\u00fcl\u00e9s m\u00e9rt\u00e9k\u00e9t tov\u00e1bb\u00e1 az \u00e1lland\u00f3sult \u00e1llapotbeli hib\u00e1t egy vektorba vonjuk \u00f6ssze \u00e9s ezen vektor elemeinek \u00f6sszeg\u00e9t szeretn\u00e9nk minimaliz\u00e1lni (1. krit\u00e9rium). A szab\u00e1lyz\u00e1s energi\u00e1ja voltak\u00e9pp a beavatkoz\u00f3 jel vektor\u00e1nak amplit\u00fad\u00f3j\u00e1val van \u00f6sszef\u00fcgg\u00e9sben. Azaz \u00fagy szeretn\u00e9nk el\u00e9rni min\u00e9l jobb eredm\u00e9nyt, hogy k\u00f6zben alacsony jellel hatunk a rendszerre (pl. min\u00e9l kev\u00e9sb\u00e9 szeretn\u00e9nk gyorsulni, vagy a korm\u00e1nyra nyomat\u00e9kot kifejteni...stb.). Ez a 2. krit\u00e9rium, amely ellent\u00e9tes ig\u00e9nyt jelent a szab\u00e1lyz\u00e1sra n\u00e9zve, mint az 1. krit\u00e9rium.</p> <p>Ezeket a szab\u00e1lyz\u00f3kat szok\u00e1s Modell Predikt\u00edv Szab\u00e1lyz\u00f3knak (Model Predictive Controls, MPC) is h\u00edvni. A k\u00f6vetkez\u0151 egyenlet egy p\u00e9lda arra, hogyan \u00edrhatjuk fel a megoldand\u00f3 k\u00f6lts\u00e9gf\u00fcggv\u00e9nyt:</p> \\[ J(k)=\\sum_{i=1}^{N_p}\\|y(k+i)-y_{ref}(k+i)\\|^2_M + \\sum_{i=1}^{N_c-1}\\|\\Delta U(k+i)\\|^2_N \\] <p>Ahol:</p> <ul> <li>\\(N_p\\): a predikci\u00f3s horizont, sz\u00e1m\u00edt\u00e1si ciklusban kifejezve (a modell figyelembe v\u00e9tele)</li> <li>\\(k\\): az akut\u00e1lis sz\u00e1m\u00edt\u00e1si ciklus</li> <li>\\(y(k+i)\\): az \\(i.\\) ciklusban a modell \u00e1ltal becs\u00fclt j\u00e1rm\u0171 keresztir\u00e1ny\u00fa poz\u00edci\u00f3</li> <li>\\(y_{ref}(k+i)\\): az \\(i.\\) ciklusban a referencia poz\u00edci\u00f3 (c\u00e9l poz\u00edci\u00f3)</li> <li>\\(N_c\\): a szab\u00e1lyz\u00e1si horizont (a bemenet figyelembe v\u00e9tele)</li> <li>\\(\\Delta U\\): a bemeneti vektor n\u00f6vekm\u00e9ny a szab\u00e1lyz\u00e1si horizonton</li> <li>\\(M\\) \u00e9s \\(N\\): a s\u00falym\u00e1trixok a hib\u00e1ra \u00e9s a bemeneti energi\u00e1ra.</li> </ul> <p>Ilyen szab\u00e1lyz\u00f3kra tal\u00e1lunk p\u00e9ld\u00e1t [1], [5-7] irodalmakban. Az MPC-k el\u0151nye, hogy nagyon nagy pontoss\u00e1ggal, stabil szab\u00e1lyz\u00e1st adnak, amennyiben az alkalmazott modell nagy pontoss\u00e1g\u00fa. Ugyanakkor ez is a h\u00e1tr\u00e1nya, hiszen ha a modell nem megfelel\u0151, akkor a hiba exponenci\u00e1lisan eln\u0151het.  Erre l\u00e1tunk p\u00e9ld\u00e1t a 21-23. \u00c1br\u00e1n. Mindegyik szimul\u00e1ci\u00f3ban egy kinematikai bicikli modellt haszn\u00e1ltunk az MPC megtervez\u00e9s\u00e9hez. A PID szab\u00e1lyz\u00f3 a poz\u00edci\u00f3hib\u00e1t minimaliz\u00e1lja. A szimul\u00e1ci\u00f3ban a j\u00e1rm\u0171 dinamikai modellj\u00e9t alkalmaztuk, mint val\u00f3s fizikai rendszer. L\u00e1that\u00f3, hogy 5 m/s-on az MPC egy\u00e9rtelm\u0171en jobban teljes\u00edt, mint a PID szab\u00e1lyz\u00f3, sokkal pontosabb \u00e9s stabilabb is. Azonban 2 m/s-on az MPC sz\u00e9tesik, az alacsony sebess\u00e9g miatt a modell \u00f6sszef\u00fcgg\u00e9sek nem lesznek \u00e9rv\u00e9nyesek. Hasonl\u00f3 figyelhet\u0151 meg a 23. \u00c1br\u00e1n is. A 22. \u00c1br\u00e1n azt l\u00e1tjuk, hogy 10 m/s-ig az MPC \u00e9s a PID is j\u00f3l teljes\u00edt, az MPC tov\u00e1bbra is jobb, mint a PID. Azonban 10 m/s felett a dinamikai hat\u00e1sok feler\u0151sdnek, \u00e9s a kinematikai modell nem megfelel\u0151. \u00cdgy az MPC instabill\u00e1 v\u00e1lik, m\u00edg a PID - b\u00e1r jelent\u0151s hib\u00e1val - tov\u00e1bbra is stabil m\u0171k\u00f6d\u00e9sre k\u00e9pes.</p> <p> 21. \u00c1bra: MPC \u00e9s PID szab\u00e1lyz\u00f3 \u00f6sszevet\u00e9se, kinematikai modell eset\u00e9n, kanyarod\u00e1s, alacsony sebess\u00e9geken</p> <p> 22. \u00c1bra: MPC \u00e9s PID szab\u00e1lyz\u00f3 \u00f6sszevet\u00e9se, kinematikai modell eset\u00e9n, kanyarod\u00e1s, magasabb sebess\u00e9geken</p> <p> 23. \u00c1bra: MPC \u00e9s PID szab\u00e1lyz\u00f3 \u00f6sszevet\u00e9se, kinematikai modell eset\u00e9n, k\u00f6rp\u00e1lya, alacsony sebess\u00e9geken</p>"},{"location":"szabalyozas/#zarthurku-modellek","title":"Z\u00e1rthurk\u00fa modellek","text":"<p>Az ilyen t\u00edpus\u00fa modellek, ahogy a neve is sugallja, a PID szab\u00e1lyz\u00f3k logik\u00e1j\u00e1n alapszanak. Jellemz\u0151en egy vagy t\u00f6bb visszacsatolt mennyis\u00e9g hib\u00e1j\u00e1t minimaliz\u00e1lj\u00e1k. Ilyen modellekre tal\u00e1lunk p\u00e9ld\u00e1t a [3] \u00e9s [8] irodalomban.  A 24. \u00c1br\u00e1n a [3]-ban bemutatott p\u00e9lda illusztr\u00e1ci\u00f3j\u00e1t l\u00e1tjuk. Eszerint kijel\u00f6l\u00fcnk kett\u0151 el\u0151retekint\u00e9si pontot: egy k\u00f6zelit (a j\u00e1rm\u0171 el\u0151tt) \u00e9s egy t\u00e1volit (a horizonton). Hasonl\u00f3an a pure-pursuit megold\u00e1sokhoz, itt is azt vizsg\u00e1ljuk, hogyan juthatunk el a jelenlegi poz\u00edci\u00f3b\u00f3l a t\u00e1voliba. Azonban nem egy egyszer\u0171 g\u00f6rb\u00fcletsz\u00e1mol\u00e1ssal, hanem a hiba minimaliz\u00e1l\u00e1s\u00e1val \u00e9rj\u00fck ezt el, a k\u00f6vetkez\u0151 egyenlet szerint:</p> \\[ \\phi=k_f\\dot\\Theta_f + k_n\\dot\\Theta_n + k_i\\Theta_n  \\] <p>Ahol:</p> <ul> <li>\\(\\dot\\Theta_f\\) \u00e9s \\(\\dot\\Theta_n\\) a t\u00e1voli \u00e9s a k\u00f6zeli pont hozz\u00e1nk viszony\u00edtott ir\u00e1ny\u00e1nak megv\u00e1ltoz\u00e1sa (sz\u00f6gsebess\u00e9ge)</li> <li>\\(\\Theta_n\\) a k\u00f6zeli pont ir\u00e1nya hozz\u00e1nk k\u00e9pest (sz\u00f6ge)</li> <li>\\(k\\) tagok: s\u00falyok.</li> <li>\\(\\phi\\): az \u00fat ker\u00e9k sz\u00f6g.</li> </ul> <p>Ez az egyenlet fel\u00edr\u00e1s voltak\u00e9pp egy minimaliz\u00e1l\u00e1sa a sz\u00f6g hib\u00e1knak, hiszen a c\u00e9l, hogy mindig ir\u00e1nyba \u00e1lljunk. A visszacsatol\u00e1s a k\u00f6rnyezet \u00e9rz\u00e9kel\u00e9sb\u0151l j\u00f6n. A kimenet az \u00fat ker\u00e9k sz\u00f6g.</p> <p></p> <p>24. \u00c1bra: a dual-point ir\u00e1ny\u00edt\u00e1si megold\u00e1s szeml\u00e9ltet\u00e9se</p> <p>A 25. \u00c1br\u00e1n a [8]-ban ismertetett megold\u00e1st l\u00e1tjuk. A l\u00e9nyege, hogy t\u00f6bb egym\u00e1sba \u00e1gyazott PID szab\u00e1lyz\u00f3 seg\u00edts\u00e9g\u00e9vel a poz\u00edci\u00f3 hib\u00e1t minimaliz\u00e1lja. Ehhez a szab\u00e1lyz\u00e1si feladatot sz\u00e9tbontja egy alacsony frekvenci\u00e1s szab\u00e1lyz\u00e1sra (poz\u00edci\u00f3 hiba) \u00e9s egy magasfrekvenci\u00e1s szab\u00e1lyz\u00e1sra (korm\u00e1nysz\u00f6g hiba). Az \u00e1tviteli f\u00fcggv\u00e9nyek egy-egy szab\u00e1lyz\u00f3t testes\u00edtenek meg, sorban a k\u00f6vetkez\u0151ket jelentik:</p> <ul> <li>\\(G_c\\): a poz\u00edci\u00f3 szab\u00e1lyz\u00e1sa egy PI szab\u00e1lyz\u00f3val</li> <li>\\(G_L\\): az emberi szab\u00e1lyz\u00e1s k\u00e9s\u00e9se (reakci\u00f3ideje)</li> <li>\\(G_NM\\): a neuromotoros szab\u00e1lyz\u00e1s, ahogyan az emberek a korm\u00e1nyt mozgatj\u00e1k. Ennek dinamik\u00e1ja nagyban f\u00fcgg az emberek izomszerkezet\u00e9t\u0151l.</li> <li>\\(G_{P1}\\) \u00e9s \\(G_{P2}\\): a visszacsatol\u00e1sba illesztett \u00e9rz\u00e9kel\u0151 modellek. Ezek reprezent\u00e1lj\u00e1k az ember \u00e9rz\u00e9kel\u00e9si dinamik\u00e1j\u00e1t, sorban a korm\u00e1nyon l\u00e9v\u0151 nyomat\u00e9k \u00e9s a korm\u00e1ny sz\u00f6g tekint\u00e9tben.</li> </ul> <p></p> <p>26. \u00c1bra: egy teljes z\u00e1rthurk\u00fa szab\u00e1lyz\u00f3, egyes\u00edtve a korm\u00e1nysz\u00f6g szab\u00e1lyz\u00e1ssal</p>"},{"location":"szabalyozas/#osszefoglalas","title":"\u00d6sszefoglal\u00e1s","text":"<p>Mint l\u00e1ttuk a vezet\u0151i modellek minden esetben egy kor\u00e1bban megtervezett trajekt\u00f3ri\u00e1t ig\u00e9nyelnek. Ennek lek\u00f6vet\u00e9s\u00e9re haszn\u00e1ljuk a szab\u00e1lyz\u00f3kat, amelyek a k\u00f6vetkez\u0151 h\u00e1rom csoportba oszthat\u00f3k:</p> <ul> <li>Inverz-modellek (inverse models)</li> <li>Predikt\u00edv modellek (predictive/forward models)</li> <li>Z\u00e1rhurk\u00fa modellek (closed loop models).</li> </ul> <p>A legr\u00e9gebbi inverz-modellek a legegyszer\u0171bbek \u00e9s robosztusabbak, azonban a teljes\u00edtm\u00e9ny\u00fck jellemz\u0151en alacsony. A predikt\u00edv modellek nagyon pontosak, ugyanakkor nagyon \u00e9rz\u00e9kenyek a modell pontoss\u00e1g\u00e1ra. A z\u00e1rthurk\u00fa modellek nagy tartom\u00e1nyon stabilak, ugyanakkor \u00e1ltal\u00e1nos pontoss\u00e1guk alacsony. T\u00f6bb egym\u00e1sba \u00e1gyazott hurokb\u00f3l \u00e1llnak, melyek kalibr\u00e1ci\u00f3ja \u00e1ltal\u00e1ban bel\u00fclr\u0151l kifel\u00e9 t\u00f6rt\u00e9nik. Ezek a legelterjedtem a mai sorozatgy\u00e1rtott rendszerekben.</p>"},{"location":"szabalyozas/#ajanlott-irodalom","title":"Aj\u00e1nlott irodalom","text":"<ol> <li>Introduction: System Modeling, University of Michigan</li> <li>Interactive Live Script Control Tutorials for MATLAB and Simulink</li> <li>Mario Theers - PID - CC BY 4.0 License</li> <li>Mario Theers - Pure pursuit - CC BY 4.0 License</li> <li>Youtube ControlLectures</li> <li>Bokor J\u00f3zsef &amp; G\u00e1sp\u00e1r P\u00e9ter. Ir\u00e1ny\u00edt\u00e1stechnika</li> </ol>"},{"location":"szabalyozas/#vezetoi-modellek","title":"Vezet\u0151i modellek","text":"<ol> <li>A. Y. Ungoren and H. Peng, \"An Adaptive Lateral Preview Driver Model,\" Vehicle System Dynamics, vol. 43, pp. 245-259, 2005. </li> <li>W. Rui, L. Ying, F. Jiahao, W. Tan and C. Xuetao, \"A Novel Pure Pursuit Algorithm for Autonomous Vehicles Based on Salp Swarm Algorithm and Velocity Controller,\" IEEE Access, vol. 8, pp. 166525-166540, 2020. </li> <li>D. Salvucci and R. Gray, \"A Two-Point Visual Control Model of Steering,\" Perception, vol. 33, pp. 1233-1248, 2004. </li> <li>C. R. Coulter, \"Implementation of the Pure Pursuit Path Tracking Algorithm,\" Vols. CMU-RI-TR-92-01, pp. 1-15, 1992. </li> <li>H. Jiang, H. Tian and Y. Hua, \"Model predictive driver model considering the steering characteristics of the skilled drivers,\" Advances in Mechanical Engineering, vol. 11, pp. 1-14, 2019. </li> <li>U. Kiencke, R. Majjad and S. Kramer, \"Modeling and performance analysis of a hybrid driver model,\" Control Engineering Practice, vol. 7, pp. 985-991, 1999. </li> <li>C. MacAdam, \"An Optimal Preview Control for Linear Systems,\" Journal of Dynamic Systems, Measurement and Control, vol. 102, pp. 188-190, 1980. </li> <li>R. Hess and A. Modjtahedzadeh, \"A Control Theoretic Model of Driver Steering Behavior,\" IEEE Control Systems Magazine, vol. 5, no. 8, pp. 3-8, 1990. </li> </ol>"},{"location":"szabalyozas/ros1practice/","title":"Gyakorlat","text":"<p>A gyakorlaton a robotverseny szimul\u00e1ci\u00f3t fogjuk haszn\u00e1lni. A szimul\u00e1tor linkenlt le\u00edr\u00e1s alapj\u00e1n telep\u00edthet\u0151.</p> <p>Melodic</p> <p>Noetic</p>"},{"location":"szabalyozas/ros1practice/#sebessegszabalyzo-pid-hangolasa","title":"Sebess\u00e9gszab\u00e1lyz\u00f3 PID hangol\u00e1sa","text":"<p>A k\u00f6vetkez\u0151 paranccsal egy \u00fcres (akad\u00e1lyok n\u00e9lk\u00fcli) szimul\u00e1ci\u00f3 indul. Ez a PID sebess\u00e9gszab\u00e1lyz\u00f3 hangol\u00e1s\u00e1ra alkalmas.</p> <pre><code>roslaunch racecar_gazebo racecar_empty.launch\n</code></pre> <pre><code>roslaunch racecar_control cmd_vel_from_file.launch\n</code></pre> <p>Sz\u00fcks\u00e9g\u00fcnk lesz referencia jelek kiad\u00e1s\u00e1ra, megism\u00e9telhet\u0151 m\u00f3don. Ezt a p\u00e9ld\u00e1ban egy csv beolvas\u00e1sa, majd <code>/cmd_vel</code> topicon hirdet\u00e9se jelenti. Vizsg\u00e1ljuk meg a python f\u00e1jlt. A  topic hirdet\u00e9se, a node ROS-ben t\u00f6rt\u00e9n\u0151 regisztr\u00e1l\u00e1sa, a csv f\u00e1jl beolvas\u00e1sa a f\u00e1jl elej\u00e9n tal\u00e1lhat\u00f3:</p> <pre><code>cmd_pub = rospy.Publisher('/cmd_vel', Twist, queue_size=1)\nrospy.init_node('cmd_vel_from_file', anonymous=True)\nrate = rospy.Rate(10) # 10hz\nmsg_twist = Twist()\ncsv_file = rospy.get_param('~csv')\nrospack = rospkg.RosPack()\npath = rospack.get_path('racecar_control')\nrospy.loginfo('csv file is: %s/config/%s' % (path, csv_file))\narray = pd.read_csv(path + '/config/' + csv_file, header = None).to_numpy()\nstart_time = rospy.Time.now()\n</code></pre> <p>A folyamatosan fut\u00f3 loop <code>/cmd_vel.linear.x</code> jeleket hirdet, a csv-ben tal\u00e1lhat\u00f3 id\u0151 szerint. A <code>np.where</code> visszaadja, hogy az aktu\u00e1lis id\u0151 szerint (<code>current_time</code>) milyen sebess\u00e9g indexn\u00e9l (<code>itemindex</code>) tartunk. Ez egy 2D array, ami minden, a felt\u00e9telnek megfelel\u0151 indexet tartalmaz, de sz\u00e1munkra persze csak ennek az els\u0151 eleme a fontos, ezt fogjuk hirdetni. </p> <pre><code>while not rospy.is_shutdown():\n    current_time = (rospy.Time.now() - start_time).to_sec()\n    itemindex = np.where(array[:,0] &gt;= current_time)\n    try:\n        msg_twist.linear.x = array[itemindex[0][0],1]\n    except:\n        msg_twist.linear.x = 0.0\n    cmd_pub.publish(msg_twist)\n    rate.sleep()\n</code></pre> <p>A <code>roscd</code> parancs seg\u00edts\u00e9g\u00e9vel l\u00e9pj\u00fcnk a <code>racecar_control</code> package <code>config</code> mapp\u00e1j\u00e1ba.</p> <pre><code>roscd racecar_control/config/\n</code></pre> <p>Ez val\u00f3sz\u00edn\u0171leg a <code>~/sim_ws/src/racecar_gazebo/f1tenth/virtual/dependencies/racecar_control/config</code> helyen tal\u00e1lhat\u00f3, de elk\u00e9pzelht\u0151, hogy valaki m\u00e1shova telep\u00edtette.</p> <p>Innen bet\u00f6lthet\u00fcnk k\u00fcl\u00f6nb\u00f6z\u0151 PID be\u00e1ll\u00edt\u00e1sokat, pl: </p> <pre><code>rosparam load racecar_control01.yaml\nrosparam load racecar_control02.yaml\nrosparam load racecar_control03.yaml\n</code></pre> <p>Ellen\u0151rizz\u00fck a <code>get</code> paranccsal, a k\u00f6vetkez\u0151h\u00f6z hasnonl\u00f3 eredm\u00e9nyt fogunk kapni: </p> <pre><code>rosparam get /racecar/left_rear_wheel_velocity_controller/pid/\n{antiwindup: false, d: 0.0, i: 0.0, i_clamp: 0.0, i_clamp_max: 0.0, i_clamp_min: -0.0,\n  p: 5.0}\n</code></pre> <p>Note</p> <p>Alternat\u00edvak\u00e9nt haszn\u00e1lhatjuk a <code>rosrun rqt_reconfigure rqt_reconfigure</code> parancsot is.</p> <p>Futtassuk a k\u00f6vetkez\u0151 parancsot a sebess\u00e9g referencia kiad\u00e1s\u00e1ra: <pre><code>roslaunch racecar_control cmd_vel_from_file.launch\n</code></pre> A launch f\u00e1jlba megadhatjuk, hogy pl a <code>01.csv</code>, <code>02.csv</code> stb f\u00e1jlt t\u00f6ltse-e be. T\u00f6bbsz\u00f6r futtathatjuk, ak\u00e1r m\u00e1s PID be\u00e1ll\u00edt\u00e1sok mellett is.</p> <p>Figyelj\u00fcnk meg k\u00e9t topicot pl Foxglove seg\u00edts\u00e9g\u00e9vel, k\u00fcl\u00f6nb\u00f6z\u0151 PID be\u00e1ll\u00edt\u00e1sok mellett: - <code>/racecar/left_rear_wheel_velocity_controller/state.process_value</code> - <code>/racecar/left_rear_wheel_velocity_controller/command.data</code></p> <p></p>"},{"location":"szabalyozas/ros1practice/#kormanyzas-pid-hangolasa","title":"Korm\u00e1nyz\u00e1s PID hangol\u00e1sa","text":"<p>A k\u00f6vetkez\u0151 parancsra, m\u00e1r nem \u00fcres, hanem egy k\u00f6rbeker\u00edtett versenyp\u00e1lya ny\u00edlik meg.</p> <pre><code>roslaunch racecar_gazebo racecar.launch\n</code></pre> <p>A p\u00e1lya a k\u00f6vetkez\u0151k\u00e9pp n\u00e9z ki:</p> <p></p>"},{"location":"szabalyozas/ros2practice/","title":"Gyakorlat","text":"<p>A gyakorlat els\u0151 r\u00e9sz\u00e9ben egy p\u00e9lda els\u0151 illetve m\u00e1sodrend\u0171 rendszert fogunk haszn\u00e1lni, erre fogunk PID szab\u00e1lyz\u00f3t alkalmazni, majd hangolni. A gyakorlat m\u00e1sodik r\u00e9sz\u00e9ben egy szimul\u00e1lt trajekt\u00f3riak\u00f6vet\u0151 robot / j\u00e1rm\u0171 m\u0171k\u00f6d\u00e9s\u00e9t n\u00e9zz\u00fck \u00e1t \u00e9s hangoljuk.</p> <p></p> <ul> <li><code>1. feladat</code>: Trajekt\u00f3riak\u00f6vet\u00e9s szimul\u00e1ci\u00f3val</li> <li><code>2. feladat</code>:  Saj\u00e1t fejleszt\u00e9s\u0171 szab\u00e1lyz\u00f3 \u00e9s j\u00e1rm\u0171 modell</li> <li><code>3. feladat</code>: PID hangol\u00e1s</li> </ul>"},{"location":"szabalyozas/ros2practice/#1-feladat-trajektoriakovetes-szimulacioval","title":"<code>1. feladat</code>: Trajekt\u00f3riak\u00f6vet\u00e9s szimul\u00e1ci\u00f3val","text":"<p>github.com/jkk-research/sim_wayp_plan_tools</p>"},{"location":"szabalyozas/ros2practice/#kovetelmenyek","title":"K\u00f6vetelm\u00e9nyek","text":"<p>A gyakorlat hibamentes lefut\u00e1s\u00e1hoz a k\u00f6vetkez\u0151 programok telep\u00edt\u00e9se sz\u00fcks\u00e9ges:  - ROS 2 Humble: docs.ros.org/en/humble/Installation.html - Gazebo Fortress: gazebosim.org/docs/fortress/install_ubuntu, T\u00f6bb inform\u00e1ci\u00f3 az integr\u00e1l\u00e1sr\u00f3l: gazebosim.org/docs/fortress/ros2_integration - <code>ros-gz-bridge</code> Egy parancsal install\u00e1lhat\u00f3: <code>sudo apt install ros-humble-ros-gz-bridge</code> - Ellen\u0151riz\u00fck, hogy a <code>colcon_cd</code> megfelel\u0151en van telep\u00edtve. A csv f\u00e1jlok a <code>colcon_cd</code>-vel t\u00f6lt\u0151dnek be.</p>"},{"location":"szabalyozas/ros2practice/#package-ek-es-build","title":"Package-ek \u00e9s build","text":"<p>Az alap\u00e9rtelmezett workspace a k\u00f6vetkez\u0151 legyen:<code>~/ros2_ws/</code>.</p>"},{"location":"szabalyozas/ros2practice/#klonozuk-le-a-package-eket","title":"Kl\u00f3nozuk le a package-eket","text":"<pre><code>cd ~/ros2_ws/src\n</code></pre> <pre><code>git clone https://github.com/jkk-research/wayp_plan_tools\n</code></pre> <pre><code>git clone https://github.com/jkk-research/sim_wayp_plan_tools\n</code></pre>"},{"location":"szabalyozas/ros2practice/#ros-2-es-package-ek-buildelese","title":"ROS 2 -es package-ek buildel\u00e9se","text":"<p><pre><code>cd ~/ros2_ws\n</code></pre> <pre><code>colcon build --packages-select wayp_plan_tools sim_wayp_plan_tools\n</code></pre></p>"},{"location":"szabalyozas/ros2practice/#wayp_plan_tools-hasznalata-szimulatorkent","title":"<code>wayp_plan_tools</code> haszn\u00e1lata szimul\u00e1tork\u00e9nt","text":""},{"location":"szabalyozas/ros2practice/#11-a-gazebo-inditasa","title":"1.1. A gazebo ind\u00edt\u00e1sa","text":"<pre><code>ign gazebo -v 4 -r ackermann_steering.sdf\n</code></pre>"},{"location":"szabalyozas/ros2practice/#12-a-gazebo-bridge-inditasa","title":"1.2. A Gazebo bridge ind\u00edt\u00e1sa","text":"<p>Ha esetleg nem lenne telep\u00edtve a bridge, a k\u00f6vetkez\u0151 parancsok seg\u00edtenek: <pre><code>sudo apt update\n</code></pre></p> <pre><code>sudo apt install ros-humble-ros-gz -y\n</code></pre> <p>Tanteremben pedig:</p> <pre><code>cd /mnt/kozos/script\n</code></pre> <pre><code>./gz_bridge.sh\n</code></pre> <p>Ne felejts\u00fcnk el <code>source</code>-olni az ROS-es parancsok el\u0151tt.</p> <pre><code>source ~/ros2_ws/install/local_setup.bash\n</code></pre> <pre><code>ros2 launch sim_wayp_plan_tools gazebo_bridge.launch.py\n</code></pre> <p>Ez a <code>launch</code> f\u00e1jl a k\u00f6vetkez\u0151 node-okat ind\u00edtja el egyben:</p> <p><pre><code>ros2 run ros_gz_bridge parameter_bridge /world/ackermann_steering/pose/info@geometry_msgs/msg/PoseArray[ignition.msgs.Pose_V\n</code></pre> <pre><code>ros2 run ros_gz_bridge parameter_bridge /model/vehicle_blue/cmd_vel@geometry_msgs/msg/Twist]ignition.msgs.Twist\n</code></pre> <pre><code>ros2 run ros_gz_bridge parameter_bridge /model/vehicle_blue/odometry@nav_msgs/msg/Odometry[ignition.msgs.Odometry --ros-args -r /model/vehicle_blue/odometry:=/odom\n</code></pre> T\u00f6bb inform\u00e1ci\u00f3 a bridge-r\u0151l: github.com/gazebosim/ros_gz/blob/ros2/ros_gz_bridge/README.md</p> <p>Ez a <code>launch</code> a <code>PoseArray</code>-b\u0151l egy <code>/tf</code>-et is k\u00e9sz\u00edt a <code>pose_arr_to_tf</code>.</p>"},{"location":"szabalyozas/ros2practice/#opcionalis-a-gazebo-ban-levo-robot-iranyitasa-billentyuzettel","title":"Opcion\u00e1lis: A gazebo-ban l\u00e9v\u0151 robot ir\u00e1ny\u00edt\u00e1sa billenty\u0171zettel:","text":"<pre><code>ros2 run teleop_twist_keyboard teleop_twist_keyboard --ros-args -r /cmd_vel:=/model/vehicle_blue/cmd_vel\n</code></pre>"},{"location":"szabalyozas/ros2practice/#13-waypointok-betoltese","title":"1.3. Waypointok bet\u00f6lt\u00e9se","text":"<p>Megjegyz\u00e9s: A waypointok egy ponthalmaz, amely az \u00fatvonal poz\u00edci\u00f3, orient\u00e1ci\u00f3 \u00e9s sebess\u00e9g adatait tartalmazza diszkr\u00e9t pontokra osztva. Ezeket az adatokat jellemz\u0151en \u00fagy nyerj\u00fck ki hogy az \u00fatunk sor\u00e1n ROS-ben r\u00f6gz\u00edtj\u00fck a gps-t\u0151l vagy az odometri\u00e1t\u00f3l az x,y esetleg z koordin\u00e1t\u00e1kat, az aktu\u00e1lishoz k\u00e9pest a k\u00f6vetkez\u0151 pontra mutat\u00f3 orient\u00e1ci\u00f3t \u00e9s az \u00e9ppen aktu\u00e1lis sebess\u00e9g adatot. V\u00e9g\u00fcl az im\u00e9nt felsoroltakat csv f\u00e1jlokban r\u00f6gz\u00edtj\u00fck.  </p> <p>Haszn\u00e1ljuk a ROS 2-es workspacet <code>file_dir</code>-k\u00e9nt: <pre><code>ros2 run wayp_plan_tools waypoint_loader --ros-args -p file_name:=sim_waypoints1.csv -p file_dir:=$HOME/ros2_ws/src/sim_wayp_plan_tools/csv -r __ns:=/sim1\n</code></pre> Vagy az alapparam\u00e9terekel:</p> <pre><code>ros2 launch sim_wayp_plan_tools waypoint_loader.launch.py\n</code></pre>"},{"location":"szabalyozas/ros2practice/#14-waypoint-goal-pose-kent","title":"1.4. Waypoint goal pose-k\u00e9nt","text":"<p>Ahogy az elm\u00e9leti r\u00e9sz 4. fejezetben az \u00e1br\u00e1kon l\u00e1that\u00f3, minden szab\u00e1lyoz\u00e1si algoritmushoz tartozik egy vagy t\u00f6bb goal pose amire az \u00e9ppen m\u0171k\u00f6d\u0151 szab\u00e1lz\u00f3 szab\u00e1lyoz. </p> <p><pre><code>ros2 run wayp_plan_tools waypoint_to_target --ros-args -p lookahead_min:=2.5 -p lookahead_max:=4.5 -p mps_alpha:=1.5 -p mps_beta:=3.5 -p waypoint_topic:=waypointarray -p tf_frame_id:=base_link -p tf_child_frame_id:=map -r __ns:=/sim1\n</code></pre> Vagy az alapparam\u00e9terekel:</p> <pre><code>ros2 launch sim_wayp_plan_tools waypoint_to_target.launch.py\n</code></pre>"},{"location":"szabalyozas/ros2practice/#15-a-szabalyzas-inditasa","title":"1.5. A szab\u00e1lyz\u00e1s ind\u00edt\u00e1sa:","text":"<p>T\u00f6bb lehet\u0151s\u00e9g van: - <code>single_goal_pursuit</code>: Pure pursuit (for vehicles / robots), a simple cross-track error method - <code>multiple_goal_pursuit</code>: Multiple goal pursuit for vehicles / robots an implementation of our paper - <code>stanley_control</code>: Stanley controller, a heading error + cross-track error method - <code>follow_the_carrot</code>: Follow-the-carrot, the simplest controller</p> <p>Egy p\u00e9lda a pure pursuit-ra :</p> <p><pre><code>ros2 run wayp_plan_tools single_goal_pursuit --ros-args -p cmd_topic:=/model/vehicle_blue/cmd_vel -p wheelbase:=1.0 -p waypoint_topic:=targetpoints -r __ns:=/sim1\n</code></pre> Vagy az alapparam\u00e9terekel:</p> <pre><code>ros2 launch sim_wayp_plan_tools single_goal_pursuit.launch.py\n</code></pre>"},{"location":"szabalyozas/ros2practice/#16-az-eredmenyek-vizualizalasa-rviz2-ben","title":"1.6. Az eredm\u00e9nyek vizualiz\u00e1l\u00e1sa <code>RViz2</code>-ben:","text":"<p><pre><code>ros2 launch sim_wayp_plan_tools rviz1.launch.py\n</code></pre> Vagy futtasunk mindent egy\u00fctt egyetlen parancsal:</p> <p>After <code>ign gazebo -v 4 -r ackermann_steering.sdf</code> (terminal 1) and <code>source ~/ros2_ws/install/local_setup.bash</code> (terminal 2), run this command (also in terminal 2):  <pre><code>ros2 launch sim_wayp_plan_tools all_in_once.launch.py\n</code></pre></p>"},{"location":"szabalyozas/ros2practice/#hibaelharitas","title":"Hibaelh\u00e1r\u00edt\u00e1s","text":"<p>A <code>ign gazebo server</code> le\u00e1ll\u00edt\u00e1sa:</p> <pre><code>ps aux | grep ign\n</code></pre> <pre><code>ab  12345 49.9  1.2 2412624 101608 ?      Sl   08:26  27:20 ign gazebo server\nab  12346  518  6.6 10583664 528352 ?     Sl   08:26 283:45 ign gazebo gui\nab  12347  0.0  0.0   9396  2400 pts/2    S+   09:21   0:00 grep --color=auto ign\n</code></pre> <p>Ha azonos\u00edtva van a PID a folyamat le\u00e1ll\u00edt\u00e1s\u00e1hoz haszn\u00e1ld a kill parancsot. P\u00e9ld\u00e1ul a gazebo szerver le\u00e1ll\u00edt\u00e1s\u00e1hoz:</p> <pre><code>kill 12345\n</code></pre>"},{"location":"szabalyozas/ros2practice/#2-feladat-sajat-fejlesztesu-szabalyzo-es-jarmu-modell","title":"<code>2. feladat</code>:  Saj\u00e1t fejleszt\u00e9s\u0171 szab\u00e1lyz\u00f3 \u00e9s j\u00e1rm\u0171 modell","text":"<p>Ebben a feladatban elk\u00e9sz\u00edtj\u00fck az elm\u00e9leten bemutatott sebess\u00e9g szab\u00e1lyz\u00f3t, \u00e9s az ahhoz kapcsol\u00f3d\u00f3 egyszer\u0171 j\u00e1rm\u0171modellt.</p> <p>Ha ezt eddig nem tett\u00fck meg, friss\u00edts\u00fck az arj_packages repository-t:</p> <pre><code>git pull\n</code></pre> <p>Navig\u00e1ljunk a workspace src mapp\u00e1j\u00e1ban a repo gy\u00f6k\u00e9rmapp\u00e1j\u00e1ba:</p> <pre><code>cd ~ros2_ws/src/arj_packages\n</code></pre> <p>Vizsg\u00e1ljuk meg a repository tartalm\u00e1t:</p> <p><pre><code>dir\n</code></pre> L\u00e1tjuk, hogy megjelent egy speed_control_loop nev\u0171 almappa. Ez a mappa tartalmazza a szab\u00e1lyz\u00e1shoz haszn\u00e1lt j\u00e1rm\u0171modellt \u00e9s a szab\u00e1lyz\u00f3t. Nyissuk meg a forr\u00e1sk\u00f3dot VS Code seg\u00edts\u00e9g\u00e9vel.</p> <p></p> <p>A mappa tartalmazza a szok\u00e1sos package xml-t \u00e9s a CMakeList-et, tov\u00e1bb\u00e1 k\u00e9t cpp forr\u00e1sf\u00e1jlt. A vehicle_model.cpp \u00e9rtelemszer\u0171en a j\u00e1rm\u0171modellt, a speed_controller.cpp a szab\u00e1lyz\u00f3t tartalmazza. Vizsg\u00e1ljuk el\u0151sz\u00f6r a j\u00e1rm\u0171 modell forr\u00e1sk\u00f3dj\u00e1t!</p>"},{"location":"szabalyozas/ros2practice/#jarmumodell","title":"J\u00e1rm\u0171modell","text":"<pre><code>class VehicleModel : public rclcpp::Node\n{\npublic:\n    VehicleModel() : Node(\"vehicle_model\")\n    {\n        timer_ = this-&gt;create_wall_timer(std::chrono::milliseconds(200), std::bind(&amp;VehicleModel::loop, this));  \n        state_pub_ = this-&gt;create_publisher&lt;std_msgs::msg::Float32MultiArray&gt;(\"/vehicle/state\", 10);\n        cmd_sub_ = this-&gt;create_subscription&lt;std_msgs::msg::Float32&gt;(\"/vehicle/propulsion\", 10,  std::bind(&amp;VehicleModel::propulsion_callback, this, std::placeholders::_1));\n        RCLCPP_INFO(this-&gt;get_logger(), \"vehicle_model has been started\");\n    }\n</code></pre> <p>A szok\u00e1sos #include-ok \u00e9s n\u00e9vdefin\u00edci\u00f3k ut\u00e1n a j\u00e1rm\u0171modell oszt\u00e1ly konstruktora l\u00e1that\u00f3. A node neve \"vehicle_model\". Egy topic-ra iratkozunk fel, a <code>/vehicle/propulsion</code> nev\u0171re, amely a nev\u00e9b\u0151l is ad\u00f3d\u00f3dan a j\u00e1rm\u0171re hat\u00f3 hajt\u00f3er\u0151t adja meg. Ezen k\u00edv\u00fcl hirdetj\u00fck a <code>/vehicle/state</code> nev\u0171 topicot, mely megadja a j\u00e1rm\u0171 mozg\u00e1s\u00e1llapot\u00e1t.</p> <p>Ezt k\u00f6vet\u0151en defini\u00e1lunk n\u00e9h\u00e1ny v\u00e1ltoz\u00f3t.  1. El\u0151sz\u00f6r egy lok\u00e1lis v\u00e1ltoz\u00f3t, melyben a bemeneti er\u0151t t\u00e1roljuk el. 2. Ezt k\u00f6veti egy t\u00f6mb, mely tartalmazni fogja a j\u00e1rm\u0171 sebess\u00e9g\u00e9t \u00e9s gyorsul\u00e1s\u00e1t, a k\u00e9t \u00e1llapotv\u00e1ltoz\u00f3t, melyekkel a j\u00e1rm\u0171 \u00e1llapot\u00e1t le\u00edrjuk. 3. Defini\u00e1lunk egy Fload nev\u0171 v\u00e1ltoz\u00f3t, amelyben megadhatjuk, milyen extra terhel\u00e9sek hassanak a j\u00e1rm\u0171re. 4. V\u00e9g\u00fcl defini\u00e1lunk n\u00e9h\u00e1ny nem v\u00e1ltoztathat\u00f3 param\u00e9tert, pl. a j\u00e1rm\u0171 s\u00faly\u00e1t, homlokfel\u00fclet\u00e9nek nagys\u00e1g\u00e1t...stb.</p> <pre><code>private:\n    // input command\n    float Fprop {0.0f};\n\n    // vehicle state array\n    std::vector&lt;float&gt; state; //speed, acceleration\n    float vx{0.0f};\n    float ax{0.0f};\n\n    // load\n    float Fload{0.0f};\n\n    // params\n    float m {1350.0}; // kg\n    float A {1.5f}; // m^2\n    float rho {1.0f}; // kg/m^3\n    float c {0.33f}; // aerodynamic factor\n    float b {0.1f}; // rolling friction, viscosous\n</code></pre> <p>A topic callback f\u00fcggv\u00e9ny kiz\u00e1r\u00f3lag a bej\u00f6v\u0151 adatot m\u00e1solja a lok\u00e1lis v\u00e1ltoz\u00f3nkba.</p> <pre><code>void propulsion_callback(const std_msgs::msg::Float32 input_msg)\n{\n    Fprop = input_msg.data;\n}\n</code></pre> <p>V\u00e9gezet\u00fcl a loop() f\u00fcggv\u00e9ny, melyben el\u0151sz\u00f6r sz\u00e1m\u00edtjuk az ellen\u00e1ll\u00e1si er\u0151ket (l\u00e9gellen\u00e1ll\u00e1s \u00e9s viszk\u00f3zus s\u00farl\u00f3d\u00e1s), majd sz\u00e1m\u00edtjuk az ered\u0151 er\u0151t \u00e9s ebb\u0151l a j\u00e1rm\u0171 gyorsul\u00e1s\u00e1t. A j\u00e1rm\u0171 gyorsul\u00e1s\u00e1t integr\u00e1lva kapjuk a j\u00e1rm\u0171 sebess\u00e9g\u00e9t.</p> <pre><code>void loop()\n{\n    // calculate new state based on load, prop force, mass and aerodynamic drag\n    float Faero = 0.5*A*rho*c*pow(vx,2);\n    float Ffric = b*vx;\n    ax = (Fprop - Ffric - Fload - Faero)/m;\n    vx = std::max(0.0f, vx + ax*0.1f); // 0.1s is the time step of the model\n\n    // Publish state\n    state.clear();\n    std_msgs::msg::Float32MultiArray state_msg;\n    state.push_back(vx); // m/s\n    state.push_back(ax); // m/s^2\n\n    state_msg.data = state;\n    state_pub_-&gt;publish(state_msg);\n}\n</code></pre>"},{"location":"szabalyozas/ros2practice/#szabalyzo","title":"Szab\u00e1lyz\u00f3","text":"<p>A speed_control.cpp-ben a j\u00e1rm\u0171 sebess\u00e9g\u00e9nek PID szab\u00e1lyz\u00e1s\u00e1t l\u00e1thatjuk. A node neve \"speed_control\", feliratkozik a <code>/vehicle/state</code> topicra, melyet a j\u00e1rm\u0171 modell hirdet. Ezen k\u00edv\u00fcl hirdetj\u00fck a <code>/vehicle/propulsion</code> command topicot, egy\u00fattal feliratkozunk a <code>/vehicle/cmd</code> c\u00e9lsebess\u00e9get megad\u00f3 topicra. A szab\u00e1lyz\u00f3 l\u00e9nyege, hogy a user \u00e1ltal megadott sebess\u00e9get szab\u00e1lyozza \u00fagy, hogy el\u0151\u00e1ll\u00edtja a j\u00e1rm\u0171hajt\u00e1s sz\u00e1m\u00e1ra a c\u00e9ler\u0151t. A modell \u00e1llapot\u00e1t\u00f3l f\u00fcgg\u0151en n\u00f6velj\u00fck vagy cs\u00f6kkentj\u00fck a c\u00e9ler\u0151t.</p> <pre><code>class SpeedControl : public rclcpp::Node\n{\npublic:\n    SpeedControl() : Node(\"speed_control\")\n    {\n        timer_ = this-&gt;create_wall_timer(std::chrono::milliseconds(200), std::bind(&amp;SpeedControl::loop, this));  \n\n        cmd_pub_ = this-&gt;create_publisher&lt;std_msgs::msg::Float32&gt;(\"/vehicle/propulsion\", 10);\n        state_sub_ = this-&gt;create_subscription&lt;std_msgs::msg::Float32MultiArray&gt;(\"/vehicle/state\", 10, std::bind(&amp;SpeedControl::state_callback, this, std::placeholders::_1));\n        cmd_sub_ = this-&gt;create_subscription&lt;std_msgs::msg::Float32&gt;(\"/vehicle/cmd\", 10, std::bind(&amp;SpeedControl::cmd_callback, this, std::placeholders::_1));\n\n        this-&gt;declare_parameter(\"/control/P\", 100.0f);\n        this-&gt;declare_parameter(\"/control/I\", 5.0f);\n        this-&gt;declare_parameter(\"/control/D\", 10.0f);\n\n        RCLCPP_INFO(this-&gt;get_logger(), \"speed_control has been started\");\n    }\n</code></pre> <p>A szab\u00e1lyz\u00e1st a loop() f\u00fcggv\u00e9nyben l\u00e1thatjuk. A P, I \u00e9s D param\u00e9terek ROS param\u00e9terk\u00e9nt \u00e1ll\u00edthat\u00f3k. A hajt\u00f3 er\u0151 3 t\u00e9nyez\u0151b\u0151l tev\u0151dik \u00f6ssze: a derivat\u00edv tagb\u00f3l (Fprop_D), az ar\u00e1nyos tagb\u00f3l (Fprop_P) \u00e9s az integr\u00e1lt tagb\u00f3l (Fprop_I). Ez egy p\u00e1rhuzamos PID strukt\u00fara, teh\u00e1t a h\u00e1rom tag \u00f6sszege adja ki a c\u00e9ler\u0151t.</p> <pre><code>void loop()\n    {\n        P = (float)this-&gt;get_parameter(\"/control/P\").as_double();\n        I = (float)this-&gt;get_parameter(\"/control/I\").as_double();\n        D = (float)this-&gt;get_parameter(\"/control/D\").as_double();\n        // calculate new state based on load, prop force, mass and aerodynamic drag\n        float Fprop_D = D*((vSet-vx)-error)/0.1;\n\n        float error = vSet-vx;\n        float Fprop_P = P*error;\n        float Fprop_I = I*integrated_error;\n\n        Fprop = Fprop_P+Fprop_I+Fprop_D;\n\n        Fprop = std::min(std::max(-Fprop_max, Fprop), Fprop_max);\n\n        // Publish cmd\n        std_msgs::msg::Float32 cmd_msg;\n        cmd_msg.data = Fprop;\n\n        cmd_pub_-&gt;publish(cmd_msg);\n\n        integrated_error+= error*0.1f;\n    }\n</code></pre>"},{"location":"szabalyozas/ros2practice/#teszt","title":"Teszt","text":"<p>A teszthez el\u0151sz\u00f6r buildelj\u00fck a speed_control_loop packaget!</p> <pre><code>colcon build --packages-select speed_control_loop\n</code></pre> <p>Egy m\u00e1sik termin\u00e1lban, source-ol\u00e1s ut\u00e1n ind\u00edtsuk el el\u0151sz\u00f6r a vehicle_model node-ot, majd a speed_control node-ot! Ezt megtehetj\u00fck egyszer\u0171en az el\u0151re elk\u00e9sz\u00edtett run_all.launch.py launch f\u00e1jl seg\u00edts\u00e9g\u00e9vel is!</p> <pre><code>cd ~/ros2_ws/src/arj_packages/speed_control_loop\n</code></pre> <pre><code>ros2 launch launch/run_all.launch.py\n</code></pre> <p>Nyissuk meg a Foxglove studiot. \u00c9s kapcsol\u00f3djunk a local host-hoz. Ahhoz, hogy a kapcsolat l\u00e9trej\u00f6jj\u00f6n, ind\u00edtsuk el a megfelel\u0151 bridge-et! Tegy\u00fck ezt egy \u00fajabb termin\u00e1lb\u00f3l!</p> <p><pre><code>cd ~/ros2_ws/\n</code></pre> <pre><code>ros2 launch foxglove_bridge foxglove_bridge_launch.xml\n</code></pre></p> <p>Adjunk hozz\u00e1 3 plot panelt, majd v\u00e1lasszuk ki a k\u00e9pen l\u00e1that\u00f3 topicokat. Mivel m\u00e9g nem hat\u00e1roztuk meg a c\u00e9lsebess\u00e9get, \u00edgy az alap\u00e9rt\u00e9ken z\u00e9rus. A j\u00e1rm\u0171 gyakorlatilag \u00e1ll, a szab\u00e1lyz\u00f3 kimenete is z\u00e9rus.</p> <p></p> <p>Hirdess\u00fcnk k\u00e9zzel egy topicot, amely megadja a k\u00edv\u00e1nt sebess\u00e9get (pl. tempomat eset\u00e9n a korm\u00e1nyon be\u00e1ll\u00edtott c\u00e9lsebess\u00e9g)!</p> <pre><code>ros2 topic pub /vehicle/cmd std_msgs/msg/Float32 \"data: 30.0\"\n</code></pre> <p>Mit l\u00e1tunk? A szab\u00e1lyz\u00f3 egy ideig a megengedett legnagyobb gyorsul\u00e1ssal (kb. 9 m/s^2-el) gyors\u00edtja a j\u00e1rm\u0171vet, am\u00edg az el nem \u00e9ri a k\u00edv\u00e1nt 30 m/s-os sebess\u00e9get. Tov\u00e1bbi sebess\u00e9gekkel, illetve param\u00e9ter be\u00e1ll\u00edt\u00e1sokkal k\u00eds\u00e9rletezhet\u00fcnk.</p> <p></p> <p>P\u00e9ld\u00e1ul </p> <pre><code>rosparam set /speed_control /control/I 200.0\n</code></pre> <p>eset\u00e9n a sebess\u00e9g felfut\u00e1sa kev\u00e9sb\u00e9 lesz egyenletes, tov\u00e1bb\u00e1 t\u00fallend\u00fcl\u00e9s is megfigyelhet\u0151. </p> <p></p>"},{"location":"szabalyozas/ros2practice/#3-feladat-pid-hangolas","title":"<code>3. feladat</code>: PID hangol\u00e1s","text":""},{"location":"szabalyozas/ros2practice/#video","title":"Vide\u00f3","text":"<p>A vide\u00f3hoz hasonl\u00f3 m\u00f3don szeretn\u00e9nk szeml\u00e9ltetni a szab\u00e1lyoz\u00e1s k\u00e9rd\u00e9sk\u00f6r\u00e9t, azonban mi Plotjuggler helyett Foxglove Studio-t haszn\u00e1lunk.</p> <p>A k\u00f6vetkez\u0151 le\u00edr\u00e1s azzal a felt\u00e9telez\u00e9ssel \u00e9l, hogy a ROS 2 workspace a <code>~/ros2_ws/</code> helyen tal\u00e1lhat\u00f3.</p>"},{"location":"szabalyozas/ros2practice/#terminal-1-clone","title":"<code>Terminal 1</code> clone","text":"<p>Kl\u00f3nozzuk a repositoryt:</p> <pre><code>cd ~/ros2_ws/src\n</code></pre> <pre><code>git clone https://github.com/dottantgal/ros2_pid_library\n</code></pre>"},{"location":"szabalyozas/ros2practice/#terminal-1-build","title":"<code>Terminal 1</code> build","text":"<p>L\u00e9pj\u00fcnk vissza a workspace gy\u00f6ker\u00e9be \u00e9s build:</p> <pre><code>cd ~/ros2_ws\n</code></pre> <pre><code>colcon build --packages-select use_library pid_library example_system\n</code></pre>"},{"location":"szabalyozas/ros2practice/#terminal-2-run","title":"<code>Terminal 2</code> run","text":"<p>\u00daj termin\u00e1lt nyissunk \u00e9s futtassuk a k\u00f6vetkez\u0151 parancsokat:</p> <pre><code>source ~/ros2_ws/install/local_setup.bash &amp;&amp; source ~/ros2_ws/install/setup.bash\n</code></pre> <pre><code>ros2 launch example_system example_sys_launch.py\n</code></pre>"},{"location":"szabalyozas/ros2practice/#terminal-3-set-point","title":"<code>Terminal 3</code> set point","text":"<pre><code>ros2 topic pub -r 1  /set_point_topic std_msgs/msg/Float32 \"data: 0.0\"\n</code></pre> <pre><code>ros2 topic pub -r 1  /set_point_topic std_msgs/msg/Float32 \"data: 1.0\"\n</code></pre> <pre><code>ros2 topic pub -r 1  /set_point_topic std_msgs/msg/Float32 \"data: 1.4\"\n</code></pre> <pre><code>ros2 topic pub -r 1  /set_point_topic std_msgs/msg/Float32 \"data: 0.6\"\n</code></pre>"},{"location":"szabalyozas/ros2practice/#terminal-4-foxglove","title":"<code>Terminal 4</code> foxglove","text":"<p>Ha esetleg eddig nem lett volna telep\u00edtve: <pre><code>sudo apt install ros-humble-foxglove-bridge\n</code></pre> Maga bridge \u00edgy ind\u00edthat\u00f3: <pre><code>source ~/ros2_ws/install/local_setup.bash &amp;&amp; source ~/ros2_ws/install/setup.bash\n</code></pre> <pre><code>ros2 launch foxglove_bridge foxglove_bridge_launch.xml\n</code></pre> Ezut\u00e1n Foxglove Studi\u00f3 seg\u00edts\u00e9g\u00e9vel <code>ws://localhost:8765</code> c\u00edmen el\u00e9rhet\u0151 minden adat.</p> <p></p>"},{"location":"szabalyozas/ros2practice/#vs-code","title":"VS code","text":"<p>Szerkessz\u00fck a <code>example_sys_launch.py</code> f\u00e1jlt, majd <code>colcon build</code> (terminal 1) <code>source</code> \u00e9s futtat\u00e1s.</p> <pre><code>code ~/ros2_ws/src/ros2_pid_library/\n</code></pre> <p></p> <p>Futtassuk \u00e9s figyelj\u00fck meg az eredm\u00e9nyeket a beavatkoz\u00f3 jel (<code>control_value</code>) enyh\u00e9n m\u00e1s jelleget mutat:</p> <p></p>"},{"location":"szabalyozas/ros2practice/#forrasok-sources","title":"Forr\u00e1sok / Sources","text":"<ul> <li>github.com/dottantgal/ros2_pid_library - MIT license</li> </ul>"},{"location":"szimulacio/","title":"Szimul\u00e1ci\u00f3","text":"<p>A szimul\u00e1ci\u00f3 sor\u00e1n sz\u00e1m\u00edt\u00f3g\u00e9pes modellen tanulm\u00e1nyozzuk a rendszer v\u00e1rhat\u00f3 viselked\u00e9s\u00e9s\u00e9t.</p> <p></p> <p>A szimul\u00e1ci\u00f3 l\u00e9nyege teh\u00e1t, hogy a kezdeti, ak\u00e1r komoly tesztel\u00e9s n\u00e9lk\u00fcli programk\u00f3dunkat ne a val\u00f3 vil\u00e1gban az \u00f6nvezet\u0151 aut\u00f3nkon / robotunkon kezdj\u00fck el kipr\u00f3b\u00e1lni. Ennek ugyanis \u00e9rtelemszer\u0171 h\u00e1tr\u00e1nyai lehetnek. Fontos azonban megjegyezni, hogy a szimul\u00e1tor mindig a val\u00f3s\u00e1g egyszer\u0171s\u00edtett modellj\u00e9t szimul\u00e1lja csup\u00e1n, \u00edgy a szimul\u00e1torban j\u00f3l m\u0171k\u00f6d\u0151 k\u00f3d nem mindig fog teljesen m\u0171k\u00f6dni a val\u00f3 \u00e9letben is.</p> <p>Eddig egyed\u00fcl a Turtlesim nev\u0171 2D szimul\u00e1tort haszn\u00e1ltuk. Egyszer\u0171s\u00e9ge, oktat\u00e1si jellege miatt k\u00f6zkedvelt, de a 3D vil\u00e1g term\u00e9sztesen ennn\u00e9l sokkal \u00f6sszetettebb. C\u00e9lszer\u0171 lehet teh\u00e1t 3D szimul\u00e1torokat haszn\u00e1lni. </p> 2D 3D Turtlesim Gazebo, Carla, SVL, AWSIM, MVsim <p>Az ROS-\u00e1ltal legink\u00e1bb t\u00e1mogatott szimul\u00e1tor a Gazebo, de \u00e9rdemes megeml\u00edteni az SVL-t, ebb\u0151l saj\u00e1t verzi\u00f3nk is van a Nissan-ra optimaliz\u00e1va, a Carla-t vagy a CoppeliaSim-et.</p>"},{"location":"szimulacio/#attekinto-video-a-szimulatorokrol","title":"\u00c1ttekint\u0151 vide\u00f3 a szimul\u00e1torokr\u00f3l","text":"<p>Simulate robots like never before with Open 3D Engine from Open Robotics on Vimeo.</p>"},{"location":"szimulacio/#tovabbi-szimulatorok","title":"Tov\u00e1bbi szimul\u00e1torok","text":"<ul> <li>OSRF Gazebo - ROS-\u00e1ltal legink\u00e1bb t\u00e1mogatott szimul\u00e1tor, OGRE-alap\u00fa, ROS/ROS 2 kompatibilis.</li> <li>GitHub repository</li> <li>CARLA - Unreal Engine alap\u00fa automotive szimul\u00e1tor. Autoware, Baidu Apollo, ROS/ROS 2 kompatibilt\u00e1ssal</li> <li>GitHub repository </li> <li>YouTube channel</li> <li>LGSVL / SVL - Unity Enginealap\u00fa automotive szimul\u00e1tor, Autoware, Baidu Apollo, ROS/ROS 2 kompatibilt\u00e1ssal. Fontos: az LG felf\u00fcggesztette az SVL Simulator akt\u00edv fejleszt\u00e9s\u00e9t.</li> <li>GitHub repository</li> <li>YouTube channel</li> <li>OSSDC SIM - Unity Engine alap\u00fa szimul\u00e1tor aut\u00f3ipari alkalmaz\u00e1sokhoz, a felf\u00fcggesztett LGSVL szimul\u00e1toron alapul, de akt\u00edv fejleszt\u00e9s. Kompatibilis az Autoware, a Baidu Apollo \u00e9s a ROS/ROS 2 szoftverekkel.</li> <li>GitHub repository</li> <li>YouTube video</li> <li>AirSim - Unreal Engine alap\u00fa szimul\u00e1tor dr\u00f3nokhoz \u00e9s aut\u00f3khoz. ROS kompatibilis.</li> <li>GitHub repository</li> <li>YouTube video</li> <li>AWSIM - Unity Engine alap\u00fa szimul\u00e1tor aut\u00f3ipari alkalmaz\u00e1sokhoz. Kompatibilis az Autoware-rel \u00e9s a ROS 2-vel.</li> <li>GitHub repository</li> <li>YouTube video \u2013 CoppeliaSim \u2013 T\u00f6bbplatformos, \u00e1ltal\u00e1nos c\u00e9l\u00fa robotszimul\u00e1tor (kor\u00e1bbi nev\u00e9n V-REP).</li> <li>YouTube channel</li> <li>MVSim</li> <li>GitHub repository</li> <li>YouTube video</li> <li>AutoDRIVE</li> <li>GitHub repository</li> <li>YouTube channel</li> </ul>"},{"location":"szimulacio/#gazebo-es-ros-kompatibilitas","title":"Gazebo \u00e9s ROS kompatibilit\u00e1s","text":"<p>Az ROS \u00e9s Gazebo kiv\u00e1laszt\u00e1s a Picking the \"Correct\" Versions of ROS &amp; Gazebo link alapj\u00e1n \u00edrjuk le. Megjegyz\u00e9s: a Gazebo 11 \u00e9s el\u0151tt el\u00e9v\u0151 verzi\u00f3it Gazebo Classic n\u00e9ven, m\u00edg az ut\u00e1na l\u00e9v\u0151ket Ignition Gazebo vagy r\u00f6viden Ignition-k\u00e9nt eml\u00edtik.</p> GZ Citadel (LTS) GZ Fortress (LTS) GZ Garden ROS 2 Rolling \ud83d\udd34 \ud83d\udfe2 \ud83d\udfe1 ROS 2 Humble (LTS) \ud83d\udd34 \ud83d\udfe2 \ud83d\udfe1 ROS 2 Foxy (LTS) \ud83d\udfe2 \ud83d\udd34 \ud83d\udd34 ROS 1 Noetic (LTS) \ud83d\udfe2 \ud83d\udfe1 \ud83d\udd34 <ul> <li>\ud83d\udfe2 - Aj\u00e1nlott kombin\u00e1ci\u00f3</li> <li>\ud83d\udfe1 - Lehets\u00e9ges, de nem aj\u00e1nott. Plusz munk\u00e1val m\u0171k\u00f6d\u00e9sre lehet b\u00edrni egy\u00fctt a k\u00e9t szoftvert.</li> <li>\ud83d\udd34 - Nem kompatibils / nem lehets\u00e9ges.</li> </ul>"},{"location":"szimulacio/f1tenth_sim_a/","title":"<code>ROS 2</code> F1/10 Wheeltec Roboworks Gazebo simulation workshop","text":"<p>The workshop is ROS 2 compatible </p>"},{"location":"szimulacio/f1tenth_sim_a/#video","title":"Video","text":""},{"location":"szimulacio/f1tenth_sim_a/#requirements-high-level","title":"Requirements (high-level)","text":"<ol> <li>ROS 2 Humble: \ud83d\udfe0 see previous workshops or docs.ros.org/en/humble/Installation.html </li> <li>Gazebo Fortress: \u2705 current workshop gazebosim.org/docs/fortress/install_ubuntu</li> <li><code>ROS gz bridge</code>:  \u2705 current workshop, ROS integration. Install with a single command: <code>sudo apt install ros-humble-ros-gz-bridge</code>, gazebosim.org/docs/fortress/ros2_integration</li> <li>Build and run custom worlds and models  \u2705 current workshop (e.g. <code>F1/10</code> / <code>Wheeltec, Roboworks</code>) </li> </ol> Official F1/10 vehicle vs Wheeltec Roboworks Ackermann Rosbot mini vehicle"},{"location":"szimulacio/f1tenth_sim_a/#binary-installation-on-ubuntu","title":"Binary Installation on Ubuntu","text":"<p>Fortress binaries are provided for Ubuntu Bionic, Focal and Jammy. All of the Fortress binaries are hosted in the osrfoundation repository. To install all of them, the metapackage <code>ignition-fortress</code> can be installed. The following is based on gazebosim.org/docs/fortress/install_ubuntu.</p> <p>First install some necessary tools:</p> <p><pre><code>sudo apt-get update\n</code></pre> <pre><code>sudo apt-get install lsb-release wget gnupg\n</code></pre></p> <p>Then install Ignition Fortress:</p> <p><pre><code>sudo wget https://packages.osrfoundation.org/gazebo.gpg -O /usr/share/keyrings/pkgs-osrf-archive-keyring.gpg\n</code></pre> <pre><code>echo \"deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/pkgs-osrf-archive-keyring.gpg] http://packages.osrfoundation.org/gazebo/ubuntu-stable $(lsb_release -cs) main\" | sudo tee /etc/apt/sources.list.d/gazebo-stable.list &gt; /dev/null\n</code></pre> <pre><code>sudo apt-get update\n</code></pre> <pre><code>sudo apt-get install ignition-fortress\n</code></pre></p> <p>All libraries should be ready to use and the <code>ign gazebo</code> app ready to be executed.</p>"},{"location":"szimulacio/f1tenth_sim_a/#gazebo-fortress-ros-2-integration","title":"Gazebo Fortress ROS 2 integration","text":"<p>Issue the following command:</p> <pre><code>sudo apt install ros-humble-ros-gz-bridge\n</code></pre>"},{"location":"szimulacio/f1tenth_sim_a/#additional-settings-to-wsl2","title":"Additional settings to WSL2","text":"<p>Warning - WSL2</p> <p>There is an issue, which can be set even in <code>~/.bashrc</code>:</p> <pre><code>export LIBGL_ALWAYS_SOFTWARE=1\n</code></pre> <p>Set it in <code>~/.bashrc</code>: <pre><code>echo \"export LIBGL_ALWAYS_SOFTWARE=1\" &gt;&gt; ~/.bashrc\n</code></pre></p>  Don't forget to source bashrc. <pre><code>source ~/.bashrc\n</code></pre> <p>After new terminal or <code>source</code>:</p> <pre><code>echo $LIBGL_ALWAYS_SOFTWARE\n</code></pre> <p>should  print <code>1</code>. Alternatively </p> <p><pre><code>cat ~/.bashrc | grep LIBGL\n</code></pre> should print the line.</p>"},{"location":"szimulacio/f1tenth_sim_a/#check-the-installation","title":"Check the installation","text":"<p>Success</p> <p>Now the <code>ign gazebo</code> should work and the <code>ros2</code> commands should be available.</p> <p></p> <p>Try at least one of the following commands:</p> <pre><code>ign gazebo\n</code></pre> <pre><code>ign gazebo -v 4 -r ackermann_steering.sdf\n</code></pre> <pre><code>ign gazebo shapes.sdf\n</code></pre> <p></p> <pre><code>ign param --versions\n</code></pre>"},{"location":"szimulacio/f1tenth_sim_a/#packages-and-build","title":"Packages and build","text":"<p>Detailed description of the packages and build process.</p> <p>It is assumed that the workspace is <code>~/ros2_ws/</code>.</p> <pre><code>cd ~/ros2_ws/src\n</code></pre> <pre><code>git clone https://github.com/robotverseny/robotverseny_gazebo24\n</code></pre>"},{"location":"szimulacio/f1tenth_sim_a/#build","title":"Build","text":"<pre><code>cd ~/ros2_ws\n</code></pre> <pre><code>colcon build --symlink-install --packages-select robotverseny_application robotverseny_description robotverseny_bringup robotverseny_gazebo \n</code></pre> <p>Opcion\u00e1lis, de \u00e9rdemes feltenni az RViz 2D Overlay csomagot, amivel a debug sz\u00f6vegeket lehet megjelen\u00edteni a RViz2-ben:</p> <pre><code>sudo apt install ros-humble-rviz-2d-overlay*\n</code></pre>"},{"location":"szimulacio/f1tenth_sim_a/#run","title":"Run","text":"Don't forget to source before ROS commands. <pre><code>source ~/ros2_ws/install/setup.bash\n</code></pre> <pre><code>ros2 launch robotverseny_bringup roboworks.launch.py\n</code></pre>"},{"location":"szimulacio/f1tenth_sim_a/#useful-commands","title":"Useful commands","text":"<p>Publish command topic: <pre><code>ros2 topic pub --once /roboworks/cmd_vel geometry_msgs/msg/Twist \"{linear: {x: 2.5, y: 0.0, z: 0.0}, angular: {x: 0.0, y: 0.0, z: -0.01}}\"\n</code></pre></p> <p>Teleop twist keyboard: <pre><code>ros2 run teleop_twist_keyboard teleop_twist_keyboard --ros-args -r /cmd_vel:=/roboworks/cmd_vel\n</code></pre></p> <p>Ignition info topic: <pre><code>ign topic -i --topic /model/roboworks/cmd_vel\n</code></pre> Ignition echo topic:</p> <pre><code>ign topic -et /model/roboworks/cmd_vel\n</code></pre> <p>Topics:</p> <pre><code>ros2 topic list\n</code></pre>  Here are the topics. <pre><code>/clicked_point\n/clock\n/goal_pose\n/initialpose\n/joint_states\n/parameter_events\n/robot_description\n/roboworks/cmd_vel\n/roboworks/odometry\n/roboworks/scan\n/rosout\n/tf\n/tf_static\n</code></pre>"},{"location":"szimulacio/f1tenth_sim_a/#linkek","title":"Linkek","text":"<ul> <li>Angol nyelv\u0171 le\u00edr\u00e1s</li> <li>robotverseny.github.io</li> <li>Gazebo Fortress</li> </ul>"},{"location":"szimulacio/gazebo_fortress/","title":"Ignition Gazebo Fortress","text":"<p>Az Ignition Gazebo Fortress egy long-term support (LTS) release 2026 szeptember\u00e9ig t\u00e1mogatva. ROS 2 Humble kiad\u00e1ssal kompatibilis, l\u00e1sd a kompatibilt\u00e1si m\u00e1trixot.</p> <p></p>"},{"location":"szimulacio/gazebo_fortress/#telepites","title":"Telep\u00edt\u00e9s","text":"<p>Aj\u00e1nlott az Ubuntu \u00e9s a binary telep\u00edt\u00e9s: gazebosim.org/docs/fortress/install_ubuntu. Term\u00e9szetesen az el\u0151z\u0151 linken tov\u00e1bbkattintva el\u00e9rhet\u0151ek a Windowsos illetve a forr\u00e1sk\u00f3db\u00f3l ford\u00edtott verzi\u00f3k is.</p>"},{"location":"szimulacio/gazebo_fortress/#ros-2-integracio","title":"ROS 2 integr\u00e1ci\u00f3","text":"<ul> <li>gazebosim.org/docs/fortress/ros2_integration</li> <li>github.com/gazebosim/ros_gz/blob/ros2/ros_gz_bridge/README.md</li> </ul>"},{"location":"szimulacio/gazebo_fortress/#megjegyzes-wsl-eseten","title":"Megjegyz\u00e9s <code>WSL</code> eset\u00e9n","text":"<p>Gazebo szimul\u00e1tort \u00e9s Windows Subsystem for Linux-ot haszn\u00e1lva el\u0151fordulhat egy issue, ami egy egyszer\u0171 k\u00f6rnyezeti v\u00e1ltoz\u00f3 be\u00e1ll\u00edt\u00e1s\u00e1val jav\u00edthat\u00f3. A <code>~/.bashrc</code> f\u00e1jlba a k\u00f6vetkez\u0151t kell be\u00e1ll\u00edtani:</p> <pre><code>export LIBGL_ALWAYS_SOFTWARE=1 ### GAZEBO IGNITION \n</code></pre> <p>\u00daj termin\u00e1l vagy <code>source</code> ut\u00e1n a <code>echo $LIBGL_ALWAYS_SOFTWARE</code> parancsra <code>1</code>-et fog ki\u00edni.</p>"},{"location":"szimulacio/gazebo_fortress/#pelda-gazebo-fortress-beepitett-vilagok-world","title":"P\u00e9lda: Gazebo Fortress be\u00e9p\u00edtett vil\u00e1gok (world)","text":"<p>WSL elset\u00e9n els\u0151 l\u00e9p\u00e9sk\u00e9nt ellen\u0151rizz\u00fck a be\u00e1ll\u00edt\u00e1sok helyess\u00e9g\u00e9t:</p> <pre><code>echo $LIBGL_ALWAYS_SOFTWARE \n</code></pre> <p>Amennyiben a parancsra <code>1</code>-et \u00edr v\u00e1laszk\u00e9nt, akkor helyes a be\u00e1ll\u00edt\u00e1sunk. </p> <p>N\u00e9zz\u00fck meg a telep\u00edtett verzi\u00f3t:</p> <pre><code>ign param --versions\n</code></pre> <p>A v\u00e1lasz pl <code>11.4.1</code> lehet.</p> <p>Ind\u00edtsuk el a Gazebo-t:</p> <pre><code>ign gazebo\n</code></pre> <p></p> <p>Nyissuk meg a <code>shapes.sdf</code> vil\u00e1got. Az SDF (Simulation Description Format), egy be\u00e9p\u00edtett  XML le\u00edr\u00e1s. AK\u00e1r egy parancsk\u00e9nt is ind\u00edthat\u00f3: <code>ign gazebo shapes.sdf</code>.</p> <p></p>"},{"location":"szimulacio/gazebo_fortress/#pelda-ackermann-robot","title":"P\u00e9lda: Ackermann robot","text":"<p>Ackermann robotnak a \"szem\u00e9lyaut\u00f3-szer\u0171\" el\u0151l k\u00e9t korm\u00e1nyzott, h\u00e1tul pedig k\u00e9t nem korm\u00e1nyzott ker\u00e9kkel rendelkez\u0151 j\u00e1rm\u0171vet / robotot. Ebben a p\u00e9ld\u00e1ban egy ilyen robotot szeretn\u00e9nk mozgatni ROS 2-b\u0151l. Az <code>ign gazebo</code> parancsra a szimul\u00e1ci\u00f3-v\u00e1laszt\u00f3 fel\u00fclet indul. Egy paranccsal ind\u00edthat\u00f3 az Ackermann robot szimul\u00e1ci\u00f3:</p> <pre><code>ign gazebo -v 4 -r ackermann_steering.sdf\n</code></pre> <p></p> <p>Az Ignition Gazebo ROS 2-t\u0151l f\u00fcggetlen, de j\u00f3l t\u00e1mogatott, \u00edgy <code>ros_gz_bridge</code> package seg\u00edts\u00e9g\u00e9vel ind\u00edthat\u00f3 az a bridge, amin a szimmul\u00e1ci\u00f3s topicok ROS 2 topick\u00e9nt l\u00e1tszanak, pl:</p> <pre><code>sudo apt update\n</code></pre> <pre><code>sudo apt install ros-humble-ros-gz -y\n</code></pre> <p>Tanteremben pedig:</p> <pre><code>cd /mnt/kozos/script\n</code></pre> <pre><code>./gz_bridge.sh\n</code></pre> <pre><code>ros2 run ros_gz_bridge parameter_bridge /model/vehicle_blue/cmd_vel@geometry_msgs/msg/Twist]ignition.msgs.Twist\n</code></pre> <pre><code>ros2 run ros_gz_bridge parameter_bridge /model/vehicle_blue/odometry@nav_msgs/msg/Odometry[ignition.msgs.Odometry --ros-args -r /model/vehicle_blue/odometry:=/odom\n</code></pre> <pre><code>ros2 run ros_gz_bridge parameter_bridge /world/ackermann_steering/pose/info@tf2_msgs/msg/TFMessage[ignition.msgs.Pose_V  --ros-args -r /world/ackermann_steering/pose/info:=/tf\n</code></pre> <p>Ez a 3 parancs egy hossz\u00fa parancsk\u00e9nt is kiadhat\u00f3:</p> <pre><code>ros2 run ros_gz_bridge parameter_bridge /model/vehicle_blue/cmd_vel@geometry_msgs/msg/Twist]ignition.msgs.Twist /model/vehicle_blue/odometry@nav_msgs/msg/Odometry[ignition.msgs.Odometry   /world/ackermann_steering/pose/info@tf2_msgs/msg/TFMessage[ignition.msgs.Pose_V  --ros-args -r /world/ackermann_steering/pose/info:=/tf -r /model/vehicle_blue/odometry:=/odom\n</code></pre> <p>Hogy pontosan milyen szimul\u00e1ci\u00f3s topicok vannak, az ezekkel a parancsokkal ellen\u0151rizhat\u0151:</p> <pre><code>ign topic -l\n</code></pre> <pre><code>ign topic -et /model/vehicle_blue/tf\n</code></pre> <pre><code>ign topic -i --topic /model/vehicle_blue/tf\n</code></pre> <p>Billenty\u0171zetr\u0151l teleoper\u00e1lhatjuk a j\u00e1rm\u0171vet:</p> <pre><code>ros2 run teleop_twist_keyboard teleop_twist_keyboard --ros-args -r /cmd_vel:=/model/vehicle_blue/cmd_vel\n</code></pre>"},{"location":"szimulacio/gazebo_fortress/#linkek","title":"Linkek","text":"<ul> <li>gazebosim.org/docs/fortress</li> <li>gazebosim.org/docs/fortress/manipulating_models</li> </ul>"},{"location":"szimulacio/gyakorlat/","title":"Ignition Gazebo gyakorlat","text":""},{"location":"szimulacio/gyakorlat/#sajat-robotszimulacio-letrehozasa","title":"Saj\u00e1t robotszimul\u00e1ci\u00f3 l\u00e9trehoz\u00e1sa","text":"<p>A k\u00f6vetkez\u0151kben l\u00e9tre fogunk hozni egy egyszer\u0171 k\u00f6rnyezetet (world), valamint egy robot modellt. Ennek \u00e9rdek\u00e9ben hozzunk l\u00e9tre egy <code>simulation</code> mapp\u00e1t, majd ezen bel\u00fcl a <code>building_robot.sdf</code> nev\u0171 f\u00e1jlt. A mappa b\u00e1rhol l\u00e9trehozhat\u00f3, illetve a f\u00e1jl neve is szabadon v\u00e1laszthat\u00f3, a k\u00f6vethet\u0151s\u00e9g \u00e9rdek\u00e9ben \u00e9rdemes a megadott m\u00f3don elj\u00e1rni.</p> <p><pre><code>mkdir simulation\n</code></pre> <pre><code>cd simulation\n</code></pre> <pre><code>touch building_robot.sdf\n</code></pre></p>"},{"location":"szimulacio/gyakorlat/#kornyezet-letrehozasa","title":"K\u00f6rnyezet l\u00e9trehoz\u00e1sa","text":"<p>Nyissuk meg a l\u00e9trehozott f\u00e1jlt Visual Studio Code seg\u00edts\u00e9g\u00e9vel, majd m\u00e1soljuk be az al\u00e1bbi k\u00f3dr\u00e9szletet:</p> <p><pre><code>&lt;?xml version=\"1.0\" ?&gt;\n&lt;sdf version=\"1.10\"&gt;\n    &lt;world name=\"car_world\"&gt;\n        &lt;physics name=\"1ms\" type=\"ignored\"&gt;\n            &lt;max_step_size&gt;0.001&lt;/max_step_size&gt;\n            &lt;real_time_factor&gt;1.0&lt;/real_time_factor&gt;\n        &lt;/physics&gt;\n        &lt;plugin\n            filename=\"gz-sim-physics-system\"\n            name=\"gz::sim::systems::Physics\"&gt;\n        &lt;/plugin&gt;\n        &lt;plugin\n            filename=\"gz-sim-user-commands-system\"\n            name=\"gz::sim::systems::UserCommands\"&gt;\n        &lt;/plugin&gt;\n        &lt;plugin\n            filename=\"gz-sim-scene-broadcaster-system\"\n            name=\"gz::sim::systems::SceneBroadcaster\"&gt;\n        &lt;/plugin&gt;\n\n        &lt;light type=\"directional\" name=\"sun\"&gt;\n            &lt;cast_shadows&gt;true&lt;/cast_shadows&gt;\n            &lt;pose&gt;0 0 10 0 0 0&lt;/pose&gt;\n            &lt;diffuse&gt;0.8 0.8 0.8 1&lt;/diffuse&gt;\n            &lt;specular&gt;0.2 0.2 0.2 1&lt;/specular&gt;\n            &lt;attenuation&gt;\n                &lt;range&gt;1000&lt;/range&gt;\n                &lt;constant&gt;0.9&lt;/constant&gt;\n                &lt;linear&gt;0.01&lt;/linear&gt;\n                &lt;quadratic&gt;0.001&lt;/quadratic&gt;\n            &lt;/attenuation&gt;\n            &lt;direction&gt;-0.5 0.1 -0.9&lt;/direction&gt;\n        &lt;/light&gt;\n\n        &lt;model name=\"ground_plane\"&gt;\n            &lt;static&gt;true&lt;/static&gt;\n            &lt;link name=\"link\"&gt;\n                &lt;collision name=\"collision\"&gt;\n                &lt;geometry&gt;\n                    &lt;plane&gt;\n                    &lt;normal&gt;0 0 1&lt;/normal&gt;\n                    &lt;/plane&gt;\n                &lt;/geometry&gt;\n                &lt;/collision&gt;\n                &lt;visual name=\"visual\"&gt;\n                &lt;geometry&gt;\n                    &lt;plane&gt;\n                    &lt;normal&gt;0 0 1&lt;/normal&gt;\n                    &lt;size&gt;100 100&lt;/size&gt;\n                    &lt;/plane&gt;\n                &lt;/geometry&gt;\n                &lt;material&gt;\n                    &lt;ambient&gt;0.8 0.8 0.8 1&lt;/ambient&gt;\n                    &lt;diffuse&gt;0.8 0.8 0.8 1&lt;/diffuse&gt;\n                    &lt;specular&gt;0.8 0.8 0.8 1&lt;/specular&gt;\n                &lt;/material&gt;\n                &lt;/visual&gt;\n            &lt;/link&gt;\n        &lt;/model&gt;\n    &lt;/world&gt;\n&lt;/sdf&gt;\n</code></pre> A fenti k\u00f3dr\u00e9szlet \u00fcres k\u00f6rnyezetet defini\u00e1l, mind\u00f6ssze egy s\u00edk (talaj), valamint alap\u00e9rtelmezett vil\u00e1g\u00edt\u00e1s (napf\u00e9ny) tal\u00e1lhat\u00f3 meg benne. Ments\u00fck el a k\u00f3dot, majd ind\u00edtsuk el a szimul\u00e1ci\u00f3t az al\u00e1bbi m\u00f3don, a <code>simulation</code> mapp\u00e1b\u00f3l:</p> <p><pre><code>cd ~/simulation\n</code></pre> <pre><code>ign gazebo building_robot.sdf\n</code></pre></p> <p>Ind\u00edt\u00e1st k\u00f6vet\u0151en a le\u00edrtaknak megfelel\u0151 \u00fcres k\u00f6rnyezetet kell l\u00e1tnunk:</p> <p></p>"},{"location":"szimulacio/gyakorlat/#robot-modell-letrehozasa","title":"Robot modell l\u00e9trehoz\u00e1sa","text":"<p>Folytassuk a <code>building_robot.sdf</code> szerkeszt\u00e9s\u00e9t, a <code>&lt;/model&gt;</code> c\u00edmk\u00e9t k\u00f6vet\u0151en: </p> <p><pre><code>&lt;model name='vehicle_blue' canonical_link='chassis'&gt;\n    &lt;pose relative_to='world'&gt;0 0 0 0 0 0&lt;/pose&gt;\n&lt;/model&gt;\n</code></pre> A robot modell megnevez\u00e9se ebben az esetben <code>vehicle_blue</code> . A megnevez\u00e9s szabadon megv\u00e1laszthat\u00f3, viszont fontos figyelni arra, hogy a n\u00e9v egyedi legyen az azonos k\u00f6rnyezeten bel\u00fcl haszn\u00e1lt modellek k\u00f6z\u00f6tt.</p> <p>A modellt fel\u00e9p\u00edt\u0151 elemeket (pl. karossz\u00e9ria, kerekek stb.) a tov\u00e1bbiakban linkeknek nevezz\u00fck.</p> <p>Minden modellnek lehet egyetlen \u00fan. <code>canonical_link</code> eleme. Minden tov\u00e1bbi modellen bel\u00fcl alkalmazott link ehhez fog csatlakozni. Amennyiben nem defini\u00e1lunk egyetlen <code>canonical_link</code> elemet sem, az els\u0151 link alap\u00e9rtelmezetten <code>canonical</code> t\u00edpus\u00fa lesz.</p> <p>A <code>&lt;pose&gt;</code> c\u00edmke haszn\u00e1lat\u00e1val megadhat\u00f3 egy link poz\u00edci\u00f3ja \u00e9s orient\u00e1ci\u00f3ja. A c\u00edmke ut\u00e1n megadott <code>relative_to</code> attrib\u00fatummal megadhat\u00f3, hogy mihez k\u00e9pest szeretn\u00e9nk a link poz\u00edci\u00f3j\u00e1t \u00e9s orient\u00e1ci\u00f3j\u00e1t defini\u00e1lni. Az attrib\u00fatum megad\u00e1sa n\u00e9lk\u00fcl a poz\u00edci\u00f3 megad\u00e1sa a k\u00f6rnyezethez k\u00e9pest t\u00f6rt\u00e9nik. A poz\u00edci\u00f3 \u00e9s orient\u00e1ci\u00f3 megad\u00e1s\u00e1nak form\u00e1tuma <code>&lt;pose&gt;X Y Z R P Y&lt;/pose&gt;</code>, ahol X, Y \u00e9s Z a frame-en bel\u00fcli poz\u00edci\u00f3 koordin\u00e1t\u00e1i, R, P \u00e9s Y pedig az orient\u00e1ci\u00f3t adja meg radi\u00e1nban. A robot defini\u00e1l\u00e1sa sor\u00e1n minden param\u00e9ternek z\u00e9rus \u00e9rt\u00e9ket adtunk, teh\u00e1t a robot \u00e9s a k\u00f6rnyezet frame-je egybeesik.</p> <p>Minden modell (robot) <code>jointok</code> (csukl\u00f3k / \u00edz\u00fcletek) \u00e1ltal \u00f6sszekapcsolt <code>linkekb\u0151l</code> \u00e1ll.</p>"},{"location":"szimulacio/gyakorlat/#a-robotot-alkoto-linkek-definialasa","title":"A robotot alkot\u00f3 linkek defini\u00e1l\u00e1sa","text":"<p>Minden link l\u00e9trehoz\u00e1sa sor\u00e1n meg kell adnunk a k\u00f6vetkez\u0151ket: 1. link neve, poz\u00edci\u00f3ja 2. link inerci\u00e1lis tulajdons\u00e1gai (t\u00f6meg \u00e9s inerciam\u00e1trix) 3. vizu\u00e1lis \u00e9s egyszer\u0171s\u00edtett (collision) geometria</p> <ul> <li>Karossz\u00e9ria</li> </ul> <p>Link l\u00e9trehoz\u00e1sa:</p> <pre><code>&lt;link name='chassis'&gt;\n        &lt;pose relative_to='__model__'&gt;0.5 0 0.4 0 0 0&lt;/pose&gt;\n&lt;/link&gt;\n</code></pre> <p>Inerci\u00e1lis tulajdons\u00e1gok (a m\u00e9rt\u00e9kegys\u00e9gek ebben az esetben is SI-ben \u00e9rtend\u0151ek):</p> <pre><code>&lt;inertial&gt;\n    &lt;mass&gt;1.14395&lt;/mass&gt;\n    &lt;inertia&gt;\n        &lt;ixx&gt;0.095329&lt;/ixx&gt;\n        &lt;ixy&gt;0&lt;/ixy&gt;\n        &lt;ixz&gt;0&lt;/ixz&gt;\n        &lt;iyy&gt;0.381317&lt;/iyy&gt;\n        &lt;iyz&gt;0&lt;/iyz&gt;\n        &lt;izz&gt;0.476646&lt;/izz&gt;\n    &lt;/inertia&gt;\n&lt;/inertial&gt;\n</code></pre> <p>Vizu\u00e1lis \u00e9s egyszer\u0171s\u00edtett (\u00fctk\u00f6z\u00e9si/collision) geometria megad\u00e1sa:</p> <pre><code>&lt;visual name='visual'&gt;\n    &lt;geometry&gt;\n        &lt;box&gt;\n            &lt;size&gt;2.0 1.0 0.5&lt;/size&gt;\n        &lt;/box&gt;\n    &lt;/geometry&gt;\n    &lt;material&gt;\n        &lt;ambient&gt;0.0 0.0 1.0 1&lt;/ambient&gt;\n        &lt;diffuse&gt;0.0 0.0 1.0 1&lt;/diffuse&gt;\n        &lt;specular&gt;0.0 0.0 1.0 1&lt;/specular&gt;\n    &lt;/material&gt;\n&lt;/visual&gt;\n</code></pre> <pre><code>&lt;collision name='collision'&gt;\n    &lt;geometry&gt;\n        &lt;box&gt;\n            &lt;size&gt;2.0 1.0 0.5&lt;/size&gt;\n        &lt;/box&gt;\n    &lt;/geometry&gt;\n&lt;/collision&gt;\n</code></pre> <p>Ind\u00edtsuk el a szimul\u00e1ci\u00f3t ism\u00e9t:</p> <p><pre><code>cd ~/simulation\n</code></pre> <pre><code>ign gazebo building_robot.sdf\n</code></pre></p> <p>Ezt k\u00f6vet\u0151en a szimul\u00e1torban a robot karossz\u00e9ri\u00e1j\u00e1t kell l\u00e1tnunk:</p> <p></p> <ul> <li>Jobb \u00e9s bal ker\u00e9k</li> </ul> <p>Hozzuk l\u00e9tre a robot jobb \u00e9s bal (hajtott) kerek\u00e9t k\u00e9pez\u0151 linkeket. Ezt a robotot defini\u00e1l\u00f3 <code>&lt;model&gt;</code> c\u00edmk\u00e9k k\u00f6z\u00f6tt kell megtenn\u00fcnk, ugyanis ide ker\u00fcl minden olyan link defin\u00edci\u00f3ja, amely azonos modellen (a roboton) bel\u00fcl \u00e9rtend\u0151.</p> <p>A kerekeket hengerek (sphere) seg\u00edts\u00e9g\u00e9vel fogjuk l\u00e9trehozni. A kerekeknek az Y tengely ment\u00e9n kell elfordulniuk, ez\u00e9rt meg kell adnunk a helyes orient\u00e1ci\u00f3jukat. </p> <pre><code>&lt;link name='left_wheel'&gt;\n    &lt;pose relative_to=\"chassis\"&gt;-0.5 0.6 0 -1.5707 0 0&lt;/pose&gt;\n    &lt;inertial&gt;\n        &lt;mass&gt;1&lt;/mass&gt;\n        &lt;inertia&gt;\n            &lt;ixx&gt;0.043333&lt;/ixx&gt;\n            &lt;ixy&gt;0&lt;/ixy&gt;\n            &lt;ixz&gt;0&lt;/ixz&gt;\n            &lt;iyy&gt;0.043333&lt;/iyy&gt;\n            &lt;iyz&gt;0&lt;/iyz&gt;\n            &lt;izz&gt;0.08&lt;/izz&gt;\n        &lt;/inertia&gt;\n    &lt;/inertial&gt;\n</code></pre> <p>Vizu\u00e1lis \u00e9s egyszer\u0171s\u00edtett (\u00fctk\u00f6z\u00e9si/collision) geometria megad\u00e1sa:</p> <pre><code>&lt;visual name='visual'&gt;\n        &lt;geometry&gt;\n            &lt;cylinder&gt;\n                &lt;radius&gt;0.4&lt;/radius&gt;\n                &lt;length&gt;0.2&lt;/length&gt;\n            &lt;/cylinder&gt;\n        &lt;/geometry&gt;\n        &lt;material&gt;\n            &lt;ambient&gt;1.0 0.0 0.0 1&lt;/ambient&gt;\n            &lt;diffuse&gt;1.0 0.0 0.0 1&lt;/diffuse&gt;\n            &lt;specular&gt;1.0 0.0 0.0 1&lt;/specular&gt;\n        &lt;/material&gt;\n    &lt;/visual&gt;\n    &lt;collision name='collision'&gt;\n        &lt;geometry&gt;\n            &lt;cylinder&gt;\n                &lt;radius&gt;0.4&lt;/radius&gt;\n                &lt;length&gt;0.2&lt;/length&gt;\n            &lt;/cylinder&gt;\n        &lt;/geometry&gt;\n    &lt;/collision&gt;\n&lt;/link&gt;\n</code></pre> <p>A bal ker\u00e9k megad\u00e1sa anal\u00f3g m\u00f3don t\u00f6rt\u00e9nik, csak a poz\u00edci\u00f3 tekintet\u00e9ben (\u00e9s term\u00e9szetesen a link nev\u00e9ben) t\u00e9r el a jobb ker\u00e9k megad\u00e1s\u00e1t\u00f3l: </p> <pre><code>&lt;link name='right_wheel'&gt;\n    &lt;pose relative_to=\"chassis\"&gt;-0.5 -0.6 0 -1.5707 0 0&lt;/pose&gt; &lt;!--sz\u00f6gek radi\u00e1nban--&gt;\n    &lt;inertial&gt;\n        &lt;mass&gt;1&lt;/mass&gt;\n        &lt;inertia&gt;\n            &lt;ixx&gt;0.043333&lt;/ixx&gt;\n            &lt;ixy&gt;0&lt;/ixy&gt;\n            &lt;ixz&gt;0&lt;/ixz&gt;\n            &lt;iyy&gt;0.043333&lt;/iyy&gt;\n            &lt;iyz&gt;0&lt;/iyz&gt;\n            &lt;izz&gt;0.08&lt;/izz&gt;\n        &lt;/inertia&gt;\n    &lt;/inertial&gt;\n    &lt;visual name='visual'&gt;\n        &lt;geometry&gt;\n            &lt;cylinder&gt;\n                &lt;radius&gt;0.4&lt;/radius&gt;\n                &lt;length&gt;0.2&lt;/length&gt;\n            &lt;/cylinder&gt;\n        &lt;/geometry&gt;\n        &lt;material&gt;\n            &lt;ambient&gt;1.0 0.0 0.0 1&lt;/ambient&gt;\n            &lt;diffuse&gt;1.0 0.0 0.0 1&lt;/diffuse&gt;\n            &lt;specular&gt;1.0 0.0 0.0 1&lt;/specular&gt;\n        &lt;/material&gt;\n    &lt;/visual&gt;\n    &lt;collision name='collision'&gt;\n        &lt;geometry&gt;\n            &lt;cylinder&gt;\n                &lt;radius&gt;0.4&lt;/radius&gt;\n                &lt;length&gt;0.2&lt;/length&gt;\n            &lt;/cylinder&gt;\n        &lt;/geometry&gt;\n    &lt;/collision&gt;\n&lt;/link&gt;\n</code></pre> <ul> <li>T\u00e1maszt\u00f3g\u00f6rg\u0151 hozz\u00e1ad\u00e1sa</li> </ul> <p>Van lehet\u0151s\u00e9g eny\u00e9ni frame-ek l\u00e9trehoz\u00e1s\u00e1ra is, a t\u00e1maszt\u00f3g\u00f6rg\u0151 fel\u00e9p\u00edt\u00e9se sor\u00e1n ezt fogjuk tenni:</p> <p><pre><code>&lt;frame name=\"caster_frame\" attached_to='chassis'&gt;\n    &lt;pose&gt;0.8 0 -0.2 0 0 0&lt;/pose&gt;\n&lt;/frame&gt;\n</code></pre> A l\u00e9trehozott frame neve <code>caster_frame</code>, amely a <code>chassis</code> linkhez csatlakozik. A <code>&lt;pose&gt;</code> c\u00edmke megadja a poz\u00edci\u00f3j\u00e1t \u00e9s orient\u00e1ci\u00f3j\u00e1t ehhez a linkhez k\u00e9pest, viszont a <code>relative_to</code> attrib\u00fatumra az egy\u00e9ni frame eset\u00e9ben nem volt sz\u00fcks\u00e9g. </p> <p>Folytat\u00f3dhad a t\u00e1maszt\u00f3g\u00f6rg\u0151 defini\u00e1l\u00e1sa:</p> <pre><code>&lt;link name='caster'&gt;\n    &lt;pose relative_to='caster_frame'/&gt;\n    &lt;inertial&gt;\n        &lt;mass&gt;1&lt;/mass&gt;\n        &lt;inertia&gt;\n            &lt;ixx&gt;0.016&lt;/ixx&gt;\n            &lt;ixy&gt;0&lt;/ixy&gt;\n            &lt;ixz&gt;0&lt;/ixz&gt;\n            &lt;iyy&gt;0.016&lt;/iyy&gt;\n            &lt;iyz&gt;0&lt;/iyz&gt;\n            &lt;izz&gt;0.016&lt;/izz&gt;\n        &lt;/inertia&gt;\n    &lt;/inertial&gt;\n    &lt;visual name='visual'&gt;\n        &lt;geometry&gt;\n            &lt;sphere&gt;\n                &lt;radius&gt;0.2&lt;/radius&gt;\n            &lt;/sphere&gt;\n        &lt;/geometry&gt;\n        &lt;material&gt;\n            &lt;ambient&gt;0.0 1 0.0 1&lt;/ambient&gt;\n            &lt;diffuse&gt;0.0 1 0.0 1&lt;/diffuse&gt;\n            &lt;specular&gt;0.0 1 0.0 1&lt;/specular&gt;\n        &lt;/material&gt;\n    &lt;/visual&gt;\n    &lt;collision name='collision'&gt;\n        &lt;geometry&gt;\n            &lt;sphere&gt;\n                &lt;radius&gt;0.2&lt;/radius&gt;\n            &lt;/sphere&gt;\n        &lt;/geometry&gt;\n    &lt;/collision&gt;\n&lt;/link&gt;\n</code></pre>"},{"location":"szimulacio/gyakorlat/#csuklok-izuletek-joints-definialasa","title":"Csukl\u00f3k / \u00edz\u00fcletek (joints) defini\u00e1l\u00e1sa","text":"<p>A kor\u00e1bban defini\u00e1lt linkek k\u00f6z\u00f6tt \u00f6sszef\u00fcgg\u00e9seket kell defini\u00e1lnunk. Ezek az \u00f6sszef\u00fcgg\u00e9sek fogj\u00e1k megadni, hogy a linkek milyen m\u00f3don mozdulhatnak el egym\u00e1shoz k\u00e9pest. Ebb\u0151l ered a defin\u00edci\u00f3 m\u00f3dj\u00e1nak neve is.</p> <ul> <li>Bal ker\u00e9k joint</li> </ul> <p>Megadjuk a joint nev\u00e9t \u00e9s t\u00edpus\u00e1t. A ker\u00e9knek el kell fordulnia, ez\u00e9rt a <code>revolute</code> t\u00edpust v\u00e1lasztjuk.</p> <p><pre><code>&lt;joint name='left_wheel_joint' type='revolute'&gt;\n    &lt;pose relative_to='left_wheel'/&gt;\n</code></pre> Ezt k\u00f6vet\u0151en megadjuk az al\u00e1-f\u00f6l\u00e9 rendel\u0151 viszonyt: <pre><code>    &lt;parent&gt;chassis&lt;/parent&gt;\n    &lt;child&gt;left_wheel&lt;/child&gt;\n</code></pre> V\u00e9g\u00fcl meg kell adnunk a linkek k\u00f6z\u00f6tti k\u00e9nyszerek defin\u00edci\u00f3j\u00e1t. Ezek a defin\u00edci\u00f3k b\u00e1rmely frame-re vonatkoz\u00f3an megadhat\u00f3ak, nem csak a sz\u00fcl\u0151-gyerek frame-ek k\u00f6z\u00f6tt. </p> <p>Jelen esetben a ker\u00e9knek az Y tengely k\u00f6r\u00fcl kell elfordulnia. Teljesen, t\u00f6bbsz\u00f6r is k\u00f6rbefordulhat, ez\u00e9rt a mozg\u00e1s korl\u00e1tjai pozit\u00edv \u00e9s negat\u00edv v\u00e9gtelen lesz.</p> <pre><code> &lt;axis&gt;\n        &lt;xyz expressed_in='__model__'&gt;0 1 0&lt;/xyz&gt;\n        &lt;limit&gt;\n            &lt;lower&gt;-1.79769e+308&lt;/lower&gt;    &lt;!--negat\u00edv v\u00e9gtelen--&gt;\n            &lt;upper&gt;1.79769e+308&lt;/upper&gt;     &lt;!--pozit\u00edv v\u00e9gtelen--&gt;\n        &lt;/limit&gt;\n    &lt;/axis&gt;\n&lt;/joint&gt;\n</code></pre> <ul> <li>Jobb ker\u00e9k joint</li> </ul> <p>A jobb ker\u00e9k joint defini\u00e1l\u00e1sa a bal ker\u00e9k\u00e9hez hasonl\u00f3 m\u00f3don t\u00f6rt\u00e9nik:</p> <pre><code>&lt;joint name='right_wheel_joint' type='revolute'&gt;\n    &lt;pose relative_to='right_wheel'/&gt;\n    &lt;parent&gt;chassis&lt;/parent&gt;\n    &lt;child&gt;right_wheel&lt;/child&gt;\n    &lt;axis&gt;\n        &lt;xyz expressed_in='__model__'&gt;0 1 0&lt;/xyz&gt;\n        &lt;limit&gt;\n            &lt;lower&gt;-1.79769e+308&lt;/lower&gt;    &lt;!--negat\u00edv v\u00e9gtelen--&gt;\n            &lt;upper&gt;1.79769e+308&lt;/upper&gt;     &lt;!--pozit\u00edv v\u00e9gtelen--&gt;\n        &lt;/limit&gt;\n    &lt;/axis&gt;\n&lt;/joint&gt;\n</code></pre> <ul> <li>T\u00e1maszt\u00f3ker\u00e9k joint</li> </ul> <p>Mivel a t\u00e1maszt\u00f3ker\u00e9k g\u00f6mb, minden tengely ment\u00e9n elfordulhat. Ebb\u0151l ad\u00f3d\u00f3an eset\u00e9ben elt\u00e9r\u0151 t\u00edpus\u00fa joint ker\u00fcl alkalmaz\u00e1sra: </p> <pre><code>&lt;joint name='caster_wheel' type='ball'&gt;\n    &lt;parent&gt;chassis&lt;/parent&gt;\n    &lt;child&gt;caster&lt;/child&gt;\n&lt;/joint&gt;\n</code></pre> <p>Ind\u00edtsuk el a szimul\u00e1ci\u00f3t ism\u00e9t:</p> <p><pre><code>cd ~/simulation\n</code></pre> <pre><code>ign gazebo building_robot.sdf\n</code></pre></p> <p>Ezt k\u00f6vet\u0151en a szimul\u00e1torban a robotot kell l\u00e1tnunk:</p> <p></p> <p>Az eddig bemutatottakat tartalmaz\u00f3 XML le\u00edr\u00f3 f\u00e1jl tartalma:</p> <pre><code>&lt;?xml version=\"1.0\" ?&gt;\n&lt;sdf version=\"1.8\"&gt;\n    &lt;world name=\"car_world\"&gt;\n        &lt;physics name=\"1ms\" type=\"ignored\"&gt;\n            &lt;max_step_size&gt;0.001&lt;/max_step_size&gt;\n            &lt;real_time_factor&gt;1.0&lt;/real_time_factor&gt;\n        &lt;/physics&gt;\n        &lt;plugin\n            filename=\"gz-sim-physics-system\"\n            name=\"gz::sim::systems::Physics\"&gt;\n        &lt;/plugin&gt;\n        &lt;plugin\n            filename=\"gz-sim-user-commands-system\"\n            name=\"gz::sim::systems::UserCommands\"&gt;\n        &lt;/plugin&gt;\n        &lt;plugin\n            filename=\"gz-sim-scene-broadcaster-system\"\n            name=\"gz::sim::systems::SceneBroadcaster\"&gt;\n        &lt;/plugin&gt;\n\n        &lt;light type=\"directional\" name=\"sun\"&gt;\n            &lt;cast_shadows&gt;true&lt;/cast_shadows&gt;\n            &lt;pose&gt;0 0 10 0 0 0&lt;/pose&gt;\n            &lt;diffuse&gt;0.8 0.8 0.8 1&lt;/diffuse&gt;\n            &lt;specular&gt;0.2 0.2 0.2 1&lt;/specular&gt;\n            &lt;attenuation&gt;\n                &lt;range&gt;1000&lt;/range&gt;\n                &lt;constant&gt;0.9&lt;/constant&gt;\n                &lt;linear&gt;0.01&lt;/linear&gt;\n                &lt;quadratic&gt;0.001&lt;/quadratic&gt;\n            &lt;/attenuation&gt;\n            &lt;direction&gt;-0.5 0.1 -0.9&lt;/direction&gt;\n        &lt;/light&gt;\n\n        &lt;model name=\"ground_plane\"&gt;\n            &lt;static&gt;true&lt;/static&gt;\n            &lt;link name=\"link\"&gt;\n                &lt;collision name=\"collision\"&gt;\n                &lt;geometry&gt;\n                    &lt;plane&gt;\n                    &lt;normal&gt;0 0 1&lt;/normal&gt;\n                    &lt;/plane&gt;\n                &lt;/geometry&gt;\n                &lt;/collision&gt;\n                &lt;visual name=\"visual\"&gt;\n                &lt;geometry&gt;\n                    &lt;plane&gt;\n                    &lt;normal&gt;0 0 1&lt;/normal&gt;\n                    &lt;size&gt;100 100&lt;/size&gt;\n                    &lt;/plane&gt;\n                &lt;/geometry&gt;\n                &lt;material&gt;\n                    &lt;ambient&gt;0.8 0.8 0.8 1&lt;/ambient&gt;\n                    &lt;diffuse&gt;0.8 0.8 0.8 1&lt;/diffuse&gt;\n                    &lt;specular&gt;0.8 0.8 0.8 1&lt;/specular&gt;\n                &lt;/material&gt;\n                &lt;/visual&gt;\n            &lt;/link&gt;\n        &lt;/model&gt;\n\n        &lt;model name='vehicle_blue' canonical_link='chassis'&gt;\n            &lt;pose relative_to='world'&gt;0 0 0 0 0 0&lt;/pose&gt;   &lt;!--alapbe\u00e1ll\u00edt\u00e1s szerint a megadott p\u00f3z a vil\u00e1g koordin\u00e1t\u00e1ihoz k\u00e9pest \u00e9rtend\u0151--&gt;\n\n            &lt;!--karossz\u00e9ria--&gt;\n            &lt;link name='chassis'&gt;\n                &lt;pose relative_to='__model__'&gt;0.5 0 0.4 0 0 0&lt;/pose&gt;\n                &lt;inertial&gt;\n                    &lt;mass&gt;1.14395&lt;/mass&gt;\n                    &lt;inertia&gt;\n                        &lt;ixx&gt;0.095329&lt;/ixx&gt;\n                        &lt;ixy&gt;0&lt;/ixy&gt;\n                        &lt;ixz&gt;0&lt;/ixz&gt;\n                        &lt;iyy&gt;0.381317&lt;/iyy&gt;\n                        &lt;iyz&gt;0&lt;/iyz&gt;\n                        &lt;izz&gt;0.476646&lt;/izz&gt;\n                    &lt;/inertia&gt;\n                &lt;/inertial&gt;\n                &lt;visual name='visual'&gt;\n                    &lt;geometry&gt;\n                        &lt;box&gt;\n                            &lt;size&gt;2.0 1.0 0.5&lt;/size&gt;\n                        &lt;/box&gt;\n                    &lt;/geometry&gt;\n                    &lt;!--Az \u00f6sszetev\u0151 anyagjellemz\u0151i (sz\u00edne)--&gt;\n                    &lt;material&gt;\n                        &lt;ambient&gt;0.0 0.0 1.0 1&lt;/ambient&gt;\n                        &lt;diffuse&gt;0.0 0.0 1.0 1&lt;/diffuse&gt;\n                        &lt;specular&gt;0.0 0.0 1.0 1&lt;/specular&gt;\n                    &lt;/material&gt;\n                &lt;/visual&gt;\n                &lt;collision name='collision'&gt;\n                    &lt;geometry&gt;\n                        &lt;box&gt;\n                            &lt;size&gt;2.0 1.0 0.5&lt;/size&gt;\n                        &lt;/box&gt;\n                    &lt;/geometry&gt;\n                &lt;/collision&gt;\n            &lt;/link&gt;\n\n            &lt;!--Bal ker\u00e9k--&gt;\n            &lt;link name='left_wheel'&gt;\n                &lt;pose relative_to=\"chassis\"&gt;-0.5 0.6 0 -1.5707 0 0&lt;/pose&gt;\n                &lt;inertial&gt;\n                    &lt;mass&gt;1&lt;/mass&gt;\n                    &lt;inertia&gt;\n                        &lt;ixx&gt;0.043333&lt;/ixx&gt;\n                        &lt;ixy&gt;0&lt;/ixy&gt;\n                        &lt;ixz&gt;0&lt;/ixz&gt;\n                        &lt;iyy&gt;0.043333&lt;/iyy&gt;\n                        &lt;iyz&gt;0&lt;/iyz&gt;\n                        &lt;izz&gt;0.08&lt;/izz&gt;\n                    &lt;/inertia&gt;\n                &lt;/inertial&gt;\n                &lt;visual name='visual'&gt;\n                    &lt;geometry&gt;\n                        &lt;cylinder&gt;\n                            &lt;radius&gt;0.4&lt;/radius&gt;\n                            &lt;length&gt;0.2&lt;/length&gt;\n                        &lt;/cylinder&gt;\n                    &lt;/geometry&gt;\n                    &lt;material&gt;\n                        &lt;ambient&gt;1.0 0.0 0.0 1&lt;/ambient&gt;\n                        &lt;diffuse&gt;1.0 0.0 0.0 1&lt;/diffuse&gt;\n                        &lt;specular&gt;1.0 0.0 0.0 1&lt;/specular&gt;\n                    &lt;/material&gt;\n                &lt;/visual&gt;\n                &lt;collision name='collision'&gt;\n                    &lt;geometry&gt;\n                        &lt;cylinder&gt;\n                            &lt;radius&gt;0.4&lt;/radius&gt;\n                            &lt;length&gt;0.2&lt;/length&gt;\n                        &lt;/cylinder&gt;\n                    &lt;/geometry&gt;\n                &lt;/collision&gt;\n            &lt;/link&gt;\n\n            &lt;!--Jobb ker\u00e9k (ugyanaz, mint a bal ker\u00e9k, a poz\u00edci\u00f3 t\u00fckr\u00f6z\u00e9s\u00e9vel)--&gt;\n            &lt;link name='right_wheel'&gt;\n                &lt;pose relative_to=\"chassis\"&gt;-0.5 -0.6 0 -1.5707 0 0&lt;/pose&gt;\n                &lt;inertial&gt;\n                    &lt;mass&gt;1&lt;/mass&gt;\n                    &lt;inertia&gt;\n                        &lt;ixx&gt;0.043333&lt;/ixx&gt;\n                        &lt;ixy&gt;0&lt;/ixy&gt;\n                        &lt;ixz&gt;0&lt;/ixz&gt;\n                        &lt;iyy&gt;0.043333&lt;/iyy&gt;\n                        &lt;iyz&gt;0&lt;/iyz&gt;\n                        &lt;izz&gt;0.08&lt;/izz&gt;\n                    &lt;/inertia&gt;\n                &lt;/inertial&gt;\n                &lt;visual name='visual'&gt;\n                    &lt;geometry&gt;\n                        &lt;cylinder&gt;\n                            &lt;radius&gt;0.4&lt;/radius&gt;\n                            &lt;length&gt;0.2&lt;/length&gt;\n                        &lt;/cylinder&gt;\n                    &lt;/geometry&gt;\n                    &lt;material&gt;\n                        &lt;ambient&gt;1.0 0.0 0.0 1&lt;/ambient&gt;\n                        &lt;diffuse&gt;1.0 0.0 0.0 1&lt;/diffuse&gt;\n                        &lt;specular&gt;1.0 0.0 0.0 1&lt;/specular&gt;\n                    &lt;/material&gt;\n                &lt;/visual&gt;\n                &lt;collision name='collision'&gt;\n                    &lt;geometry&gt;\n                        &lt;cylinder&gt;\n                            &lt;radius&gt;0.4&lt;/radius&gt;\n                            &lt;length&gt;0.2&lt;/length&gt;\n                        &lt;/cylinder&gt;\n                    &lt;/geometry&gt;\n                &lt;/collision&gt;\n            &lt;/link&gt;\n\n            &lt;!--Tetsz\u0151leges frame--&gt;\n            &lt;frame name=\"caster_frame\" attached_to='chassis'&gt;\n                &lt;pose&gt;0.8 0 -0.2 0 0 0&lt;/pose&gt;\n            &lt;/frame&gt;\n\n            &lt;!--T\u00e1maszt\u00f3g\u00f6rg\u0151--&gt;\n            &lt;link name='caster'&gt;\n                &lt;pose relative_to='caster_frame'/&gt;\n                &lt;inertial&gt;\n                    &lt;mass&gt;1&lt;/mass&gt;\n                    &lt;inertia&gt;\n                        &lt;ixx&gt;0.016&lt;/ixx&gt;\n                        &lt;ixy&gt;0&lt;/ixy&gt;\n                        &lt;ixz&gt;0&lt;/ixz&gt;\n                        &lt;iyy&gt;0.016&lt;/iyy&gt;\n                        &lt;iyz&gt;0&lt;/iyz&gt;\n                        &lt;izz&gt;0.016&lt;/izz&gt;\n                    &lt;/inertia&gt;\n                &lt;/inertial&gt;\n                &lt;visual name='visual'&gt;\n                    &lt;geometry&gt;\n                        &lt;sphere&gt;\n                            &lt;radius&gt;0.2&lt;/radius&gt;\n                        &lt;/sphere&gt;\n                    &lt;/geometry&gt;\n                    &lt;material&gt;\n                        &lt;ambient&gt;0.0 1 0.0 1&lt;/ambient&gt;\n                        &lt;diffuse&gt;0.0 1 0.0 1&lt;/diffuse&gt;\n                        &lt;specular&gt;0.0 1 0.0 1&lt;/specular&gt;\n                    &lt;/material&gt;\n                &lt;/visual&gt;\n                &lt;collision name='collision'&gt;\n                    &lt;geometry&gt;\n                        &lt;sphere&gt;\n                            &lt;radius&gt;0.2&lt;/radius&gt;\n                        &lt;/sphere&gt;\n                    &lt;/geometry&gt;\n                &lt;/collision&gt;\n            &lt;/link&gt;\n\n            &lt;!--Bal ker\u00e9k joint--&gt;\n            &lt;joint name='left_wheel_joint' type='revolute'&gt;\n                &lt;pose relative_to='left_wheel'/&gt;\n                &lt;parent&gt;chassis&lt;/parent&gt;\n                &lt;child&gt;left_wheel&lt;/child&gt;\n                &lt;axis&gt;\n                    &lt;xyz expressed_in='__model__'&gt;0 1 0&lt;/xyz&gt; \n                    &lt;limit&gt;\n                        &lt;lower&gt;-1.79769e+308&lt;/lower&gt;    &lt;!--negat\u00edv v\u00e9gtelen--&gt;\n                        &lt;upper&gt;1.79769e+308&lt;/upper&gt;     &lt;!--pozit\u00edv v\u00e9gtelen--&gt;\n                    &lt;/limit&gt;\n                &lt;/axis&gt;\n            &lt;/joint&gt;\n\n            &lt;!--Jobb ker\u00e9k joint--&gt;\n            &lt;joint name='right_wheel_joint' type='revolute'&gt;\n                &lt;pose relative_to='right_wheel'/&gt;\n                &lt;parent&gt;chassis&lt;/parent&gt;\n                &lt;child&gt;right_wheel&lt;/child&gt;\n                &lt;axis&gt;\n                    &lt;xyz expressed_in='__model__'&gt;0 1 0&lt;/xyz&gt;\n                    &lt;limit&gt;\n                        &lt;lower&gt;-1.79769e+308&lt;/lower&gt;    &lt;!--negat\u00edv v\u00e9gtelen--&gt;\n                        &lt;upper&gt;1.79769e+308&lt;/upper&gt;     &lt;!--pozit\u00edv v\u00e9gtelen--&gt;\n                    &lt;/limit&gt;\n                &lt;/axis&gt;\n            &lt;/joint&gt;\n\n            &lt;!--T\u00e1maszt\u00f3g\u00f6rg\u0151 joint--&gt;\n            &lt;joint name='caster_wheel' type='ball'&gt;\n                &lt;parent&gt;chassis&lt;/parent&gt;\n                &lt;child&gt;caster&lt;/child&gt;\n            &lt;/joint&gt;\n        &lt;/model&gt;\n    &lt;/world&gt;\n&lt;/sdf&gt;\n</code></pre>"},{"location":"szimulacio/gyakorlat/#a-robotplatform-mozgatasa","title":"A robotplatform mozgat\u00e1sa","text":"<p>A kor\u00e1bbiakban \u00f6ssze\u00e1ll\u00edtott robot mozgat\u00e1s\u00e1hoz egy plugint, pontosabban a <code>diff_drive</code> plugint fogunk alkalmazni. </p> <p>Nyissuk meg a kor\u00e1bban l\u00e9trehozott <code>building_robot.sdf</code> f\u00e1jlt, \u00e9s a <code>vehicle_blue</code> <code>&lt;model&gt;</code> c\u00edmk\u00e9in bel\u00fcl h\u00edvjuk meg a plugint, valamint defini\u00e1ljuk a haszn\u00e1lat\u00e1hoz sz\u00fcks\u00e9ges alapvet\u0151 param\u00e9tereket:</p> <pre><code>&lt;plugin\n    filename=\"libignition-gazebo-diff-drive-system.so\"\n    name=\"ignition::gazebo::systems::DiffDrive\"&gt;\n    &lt;left_joint&gt;left_wheel_joint&lt;/left_joint&gt;\n    &lt;right_joint&gt;right_wheel_joint&lt;/right_joint&gt;\n    &lt;wheel_separation&gt;1.2&lt;/wheel_separation&gt;\n    &lt;wheel_radius&gt;0.4&lt;/wheel_radius&gt;\n    &lt;odom_publish_frequency&gt;1&lt;/odom_publish_frequency&gt;\n    &lt;topic&gt;cmd_vel&lt;/topic&gt;\n&lt;/plugin&gt;\n</code></pre> <p>A <code>&lt;plugin&gt;</code> c\u00edmk\u00e9nek k\u00e9t attrib\u00fatuma van. Az egyik a k\u00f6nyvt\u00e1r megnevez\u00e9se, amelyb\u0151l a plugin sz\u00e1rmazik (<code>filename</code>), a m\u00e1sik a plugin neve (<code>name</code>). A tov\u00e1bbi c\u00edmk\u00e9k a differenci\u00e1lhajt\u00e1s\u00fa robot jellemz\u0151i: - <code>&lt;left_joint&gt;</code> \u00e9s <code>&lt;right_joint&gt;</code>: azok a jointok, amelyek kapcsolatot defini\u00e1lnak a robot bal- illetve jobboldali kereke, \u00e9s a robot karossz\u00e9ri\u00e1ja k\u00f6z\u00f6tt. - <code>&lt;wheel_separation&gt;</code>: a hajtott kerekek k\u00f6z\u00f6tti t\u00e1vols\u00e1g, vagyis a nyomt\u00e1v. Mivel kor\u00e1bban \u00fagy adtuk meg, hogy a jobb \u00e9s bal ker\u00e9k poz\u00edci\u00f3ja az Y tengely ment\u00e9n -0,6m \u00e9s 0,6m, a kerekek t\u00e1vols\u00e1ga 1,2m.  - <code>&lt;wheel_radius&gt;</code>: a hajtott kerekek sugara. - <code>&lt;odom_publish_frequency&gt;</code>: az a frekvencia, amellyel a plugin \u00e1ltal sz\u00e1molt odometri\u00e1t publish-olni szeretn\u00e9nk.</p> <p>A param\u00e9terek be\u00e1ll\u00edt\u00e1s\u00e1val a modell\u00fcnk k\u00e9sz a mozgat\u00e1sra. A k\u00f6vetkez\u0151 l\u00e9p\u00e9s az, hogy utas\u00edt\u00e1sokat k\u00fcldj\u00fcnk neki, ami a <code>cmd_vel</code> topic seg\u00edts\u00e9g\u00e9vel hajthat\u00f3 v\u00e9gre.</p> <ol> <li> <p>Ind\u00edtsuk el a robotot k\u00e9zi parancsmegad\u00e1ssal</p> </li> <li> <p>Az egyik termin\u00e1lban ind\u00edtsuk el a szimul\u00e1ci\u00f3t: <pre><code>ign gazebo building_robot.sdf\n</code></pre></p> </li> <li> <p>Egy m\u00e1sik termin\u00e1lb\u00f3l k\u00fcldj\u00fcnk utas\u00edt\u00e1st a robotnak: <pre><code>ign topic -t \"/cmd_vel\" -m ignition.msgs.Twist -p \"linear: {x: 0.5}, angular: {z: 0.05}\"\n</code></pre></p> </li> <li> <p>Nyomjuk meg a lej\u00e1tsz\u00e1s gombot a szimul\u00e1torban. </p> </li> </ol> <p>A fenti l\u00e9p\u00e9seket k\u00f6vet\u0151en a robotmodellnek mozognia kell.</p> <ol> <li>Mozgassuk a robotot a billenty\u0171zet seg\u00edts\u00e9g\u00e9vel</li> </ol> <p>Most a billenty\u0171zet olvas\u00e1s\u00e1val, szint\u00e9n ROS2 topic \u00e1ltal fogjuk ir\u00e1ny\u00edtani a robotot. Ehhez tov\u00e1bbi k\u00e9t plugin alkalmaz\u00e1sa lesz sz\u00fcks\u00e9ges: <code>KeyPublisher</code> \u00e9s <code>TriggeredPublisher</code>.</p> <p>A <code>KeyPublisher</code> egy <code>ign-gui</code> plugin, amely beolvassa a billenty\u0171zet billenty\u0171inek lenyom\u00e1s\u00e1t, \u00e9s a <code>/keyboard/keypress</code> topic-ra k\u00fcldi. Pr\u00f3b\u00e1ljuk ki ezt a plugint:</p> <ul> <li>Egyik termin\u00e1lban ism\u00e9t ind\u00edtsuk el a szimul\u00e1tort: </li> </ul> <pre><code>ign gazebo building_robot.sdf\n</code></pre> <ul> <li> <p>A szimul\u00e1tor ablak\u00e1nak jobb fels\u0151 sark\u00e1ban klikkelj\u00fcnk a <code>plugins</code> leg\u00f6rd\u00fcl\u0151 list\u00e1ra, majd a <code>Key Publisher</code> opci\u00f3ra.</p> </li> <li> <p>Egy m\u00e1sik termin\u00e1lban adjuk meg a k\u00f6vetkez\u0151t, ezzel ki\u00edrva az \u00f6sszes billenty\u0171zet-lenyom\u00e1st:</p> </li> </ul> <pre><code>ign topic -e -t /keyboard/keypress\n</code></pre> <p>A k\u00f6vetkez\u0151 l\u00e9p\u00e9s az, hogy a billenty\u0171zet le\u00fct\u00e9seit megfeleltess\u00fck a robot ir\u00e1ny\u00edt\u00e1s\u00e1ra alkalmas parancsoknak. Erre fogjuk haszn\u00e1lni a <code>TriggeredPublisher</code> plugint. </p> <p>A <code>TriggeredPublisher</code> plugin \u00e1ltalunk defini\u00e1lt m\u00f3don hoz l\u00e9tre kimenetet egy adott bemenetnek megfelel\u0151en. A <code>building_robot.sdf</code> f\u00e1jlban a <code>&lt;world&gt;</code> c\u00edmk\u00e9ken bel\u00fcl adjuk meg a k\u00f6vetkez\u0151 megfeleltet\u00e9st:</p> <pre><code>&lt;plugin filename=\"libignition-gazebo-triggered-publisher-system.so\"\n        name=\"ignition::gazebo::systems::TriggeredPublisher\"&gt;\n    &lt;input type=\"ignition.msgs.Int32\" topic=\"/keyboard/keypress\"&gt;\n        &lt;match field=\"data\"&gt;16777235&lt;/match&gt;\n    &lt;/input&gt;\n    &lt;output type=\"ignition.msgs.Twist\" topic=\"/cmd_vel\"&gt;\n        linear: {x: 0.5}, angular: {z: 0.0}\n    &lt;/output&gt;\n&lt;/plugin&gt;\n</code></pre> <p>Pr\u00f3b\u00e1ljuk ki a robot ir\u00e1ny\u00edt\u00e1s\u00e1t:</p> <ul> <li>Ind\u00edtsuk el a szimul\u00e1tort ism\u00e9t:</li> </ul> <pre><code>ign gazebo building_robot.sdf\n</code></pre> <ul> <li> <p>V\u00e1lasszuk ki a <code>Key Publisher</code> plugint. </p> </li> <li> <p>Gy\u0151z\u0151dj\u00fcnk meg r\u00f3la, hogy fut a szimul\u00e1ci\u00f3, sz\u00fcks\u00e9g eset\u00e9n nyomjuk le a Lej\u00e1tsz\u00e1s gombot.</p> </li> <li> <p>Nyomjuk le a <code>Fel</code> (\u2191) ny\u00edlbillenty\u0171t. A robotnak el kell indulnia el\u0151re.</p> </li> </ul>"},{"location":"szimulacio/gyakorlat/#onallo-feladat","title":"\u00d6n\u00e1ll\u00f3 feladat","text":"<p>K\u00e9sz\u00edts\u00fck el az \u00f6sszes ny\u00edlbillenty\u0171 funkci\u00f3j\u00e1t a kor\u00e1bbi k\u00f3dr\u00e9szlet kib\u0151v\u00edt\u00e9s\u00e9vel. A feladat anal\u00f3g m\u00f3don, csak a param\u00e9terek m\u00f3dos\u00edt\u00e1s\u00e1val megoldhat\u00f3, az al\u00e1bbi megfeleltet\u00e9sek seg\u00edts\u00e9g\u00e9vel:</p> <ul> <li>Balra ny\u00edl, \u00e9rt\u00e9ke: <code>16777234</code>, param\u00e9terek: <code>linear: {x: 0.0}, angular: {z: 0.5}</code></li> <li>Fel ny\u00edl, \u00e9rt\u00e9ke: <code>16777235</code>, param\u00e9terek: <code>linear: {x: 0.5}, angular: {z: 0.0}</code></li> <li>Jobbra ny\u00edl, \u00e9rt\u00e9ke: <code>16777236</code>, param\u00e9terek: <code>linear: {x: 0.0}, angular: {z: -0.5}</code></li> <li>Le ny\u00edl, \u00e9rt\u00e9ke: <code>16777237</code>, param\u00e9terek: <code>linear: {x: 0.5}, angular: {z: 0.0}</code></li> </ul>"},{"location":"szimulacio/gyakorlat/#kornyezet-kibovitese","title":"K\u00f6rnyezet kib\u0151v\u00edt\u00e9se","text":"<p>Az eddig l\u00e9trehozott szimul\u00e1lt k\u00f6rnyezet csak egy talajs\u00edkot \u00e9s napf\u00e9nyt tartalmaz. Hozzunk l\u00e9tre tov\u00e1bbi k\u00f6rnyezeti elemeket primit\u00edv statikus elemek hozz\u00e1ad\u00e1s\u00e1val. Kezdj\u00fck egyetlen t\u00e9glatest, \"fal\" l\u00e9trehoz\u00e1s\u00e1val:</p> <pre><code>&lt;model name='wall'&gt;\n    &lt;static&gt;true&lt;/static&gt;\n    &lt;pose&gt;5 0 0 0 0 0&lt;/pose&gt;&lt;!--p\u00f3z a vil\u00e1ghoz k\u00e9pest--&gt;\n    &lt;link name='box'&gt;\n        &lt;pose/&gt;\n        &lt;visual name='visual'&gt;\n            &lt;geometry&gt;\n                &lt;box&gt;\n                    &lt;size&gt;0.5 10.0 2.0&lt;/size&gt;\n                &lt;/box&gt;\n            &lt;/geometry&gt;\n            &lt;!--adjunk hozz\u00e1 anyagot (sz\u00ednt)--&gt;\n            &lt;material&gt;\n                &lt;ambient&gt;0.0 0.0 1.0 1&lt;/ambient&gt;\n                &lt;diffuse&gt;0.0 0.0 1.0 1&lt;/diffuse&gt;\n                &lt;specular&gt;0.0 0.0 1.0 1&lt;/specular&gt;\n            &lt;/material&gt;\n        &lt;/visual&gt;\n        &lt;collision name='collision'&gt;\n            &lt;geometry&gt;\n                &lt;box&gt;\n                    &lt;size&gt;0.5 10.0 2.0&lt;/size&gt;\n                &lt;/box&gt;\n            &lt;/geometry&gt;\n        &lt;/collision&gt;\n    &lt;/link&gt;\n&lt;/model&gt;\n</code></pre>"},{"location":"szimulacio/gyakorlat/#onallo-feladat_1","title":"\u00d6n\u00e1ll\u00f3 feladat","text":"<p>Adjunk hozz\u00e1 a k\u00f6rnyezethez tov\u00e1bbi k\u00e9t elemet az al\u00e1bbi param\u00e9terekkel: 1. elem     - neve (name): wall1     - helyzete (pose): (0 12 0 0 0 1.5707)     - m\u00e9rete: (0.5 10.0 2.0)     - anyaga, sz\u00edne tetsz\u0151leges</p> <ol> <li>elem<ul> <li>neve (name): wall2</li> <li>helyzete (pose): (0 -12 0 0 0 1.5707)</li> <li>m\u00e9rete: (0.5 10.0 2.0)</li> <li>anyaga, sz\u00edne tetsz\u0151leges</li> </ul> </li> </ol>"},{"location":"szimulacio/gyakorlat/#szenzor-hozzaadasa","title":"Szenzor hozz\u00e1ad\u00e1sa","text":"<p>Az el\u0151z\u0151 r\u00e9szekben kialak\u00edtottunk egy mozgathat\u00f3 robotszimul\u00e1ci\u00f3t, viszont az auton\u00f3m m\u0171k\u00f6dtet\u00e9s\u00e9hez mindenk\u00e9pp sz\u00fcks\u00e9ges valamilyen szenzor(ok) szimul\u00e1ci\u00f3ja is. A k\u00f6vetkez\u0151 l\u00e9p\u00e9sekben IMU (Inertial Measurement Unit) szenzort, valamint LiDAR szenzort fogunk hozz\u00e1adni a kor\u00e1bban kialak\u00edtott robothoz. </p> <ul> <li>IMU szenzor</li> </ul> <p>Az IMU szenzor h\u00e1rom elk\u00fcl\u00f6n\u00edthet\u0151 inform\u00e1ci\u00f3t ad: - A szenzor orient\u00e1ci\u00f3ja kvaternion form\u00e1tumban. - A szenzor sz\u00f6gsebess\u00e9ge (X, Y, Z) tengelyek k\u00f6r\u00fcl. - A szenzor line\u00e1ris gyorsul\u00e1sa (X, Y, Z) tengelyek ment\u00e9n.</p> <p>Az IMU szenzor szint\u00e9n plugin seg\u00edts\u00e9g\u00e9vel adhat\u00f3 hozz\u00e1. Defini\u00e1ljuk az IMU szenzort a kor\u00e1bban l\u00e9trehozott f\u00e1jl szerkeszt\u00e9s\u00e9vel, a <code>&lt;world&gt;</code> c\u00edmk\u00e9k k\u00f6z\u00f6tt:</p> <pre><code>&lt;plugin filename=\"libignition-gazebo-imu-system.so\"\n        name=\"ignition::gazebo::systems::Imu\"&gt;\n&lt;/plugin&gt;\n</code></pre> <p>A plugin defini\u00e1l\u00e1s\u00e1t k\u00f6vet\u0151en defini\u00e1ljuk a szenzorra vonatkoz\u00f3 param\u00e9tereket. A szenzor azon link param\u00e9tereit adja vissza, amelyhez hozz\u00e1rendelj\u00fck. Mivel a robotra, vagyis a robot karossz\u00e9ri\u00e1j\u00e1ra vonatkoz\u00f3 m\u00e9r\u00e9seket szeretn\u00e9nk v\u00e9gezni, ezt a linket adjuk meg:</p> <pre><code>&lt;sensor name=\"imu_sensor\" type=\"imu\"&gt;\n    &lt;always_on&gt;1&lt;/always_on&gt;\n    &lt;update_rate&gt;1&lt;/update_rate&gt;\n    &lt;visualize&gt;true&lt;/visualize&gt;\n    &lt;topic&gt;imu&lt;/topic&gt;\n&lt;/sensor&gt;\n</code></pre> <p>Az alkalmazott param\u00e9terek a k\u00f6vetkez\u0151ek: - <code>&lt;always_on&gt;</code>: ha az \u00e9rt\u00e9ke 1, a szenzor mindig friss\u00edteni fogja a kimen\u0151 adat\u00e1t a friss\u00edt\u00e9si r\u00e1t\u00e1nak megfelel\u0151en. - <code>&lt;update_rate&gt;</code>: a kimen\u0151 adat friss\u00edt\u00e9si frekvenci\u00e1ja. - <code>&lt;vizualize&gt;</code>: ha az \u00e9rt\u00e9ke 1, a szenzor reprezent\u00e1ci\u00f3ja vizu\u00e1lisan megjelen\u00edt\u00e9sre ker\u00fcl. - <code>&lt;topic&gt;</code>: a kimen\u0151 adatokat tartalmaz\u00f3 topic neve.</p> <p>Pr\u00f3b\u00e1ljuk ki a l\u00e9trehozott szenzort. </p> <ul> <li>Ment\u00e9s ut\u00e1n ind\u00edtsuk el a szimul\u00e1tort:</li> </ul> <pre><code>ign gazebo building_robot.sdf\n</code></pre> <ul> <li>Egy m\u00e1sik termin\u00e1lban \u00edrjuk ki az IMU adatait. Ha a billenty\u0171zettel mozgatjuk a robotot, v\u00e1ltoz\u00e1s lesz megfigyelhet\u0151 a szenzoradatokban:</li> </ul> <pre><code>ign topic -e -t /imu\n</code></pre>"},{"location":"szimulacio/gyakorlat/#forrasok","title":"Forr\u00e1sok","text":"<ul> <li>gazebosim.org/docs/fortress/sdf_worlds</li> <li>gazebosim.org/docs/fortress/building_robot</li> <li>gazebosim.org/docs/fortress/moving_robot</li> </ul>"},{"location":"szimulacio/lgsvl_nissan/","title":"LGSVL Nissan","text":"<p>Link: github.com/szenergy/nissanleaf-lgsvl</p>"},{"location":"szimulacio/lgsvl_nissan/#telepites","title":"Telep\u00edt\u00e9s","text":""},{"location":"telepites/","title":"Telep\u00edt\u00e9s","text":"<p>ROS 2</p> <p>ROS 1 verzi\u00f3kat csak t\u00f6rt\u00e9nelmi okokb\u00f3l t\u00e1rgyalunk, a jelenlegi fejleszt\u00e9sekhez a ROS 2-t aj\u00e1nljuk.</p> <p><code>ROS 1</code> alapvet\u0151en Linux rendszereken t\u00e1mogatott, b\u00e1r voltak pr\u00f3b\u00e1lkoz\u00e1sok m\u00e1s oper\u00e1ci\u00f3s rendszerekre is. Ezzel szemben az <code>ROS 2</code> m\u00e1r t\u00e1mogatja a nat\u00edv Windows, Mac OS vagy egy\u00e9b Real-Time oper\u00e1ci\u00f3s rendszen t\u00f6rt\u00e9n\u0151 futtat\u00e1st. Teh\u00e1t alapvet\u0151en n\u00e9gy lehet\u0151s\u00e9g adott:</p> <ol> <li>Dual boot, Windows mell\u00e9 telep\u00edtett nat\u00edv Linux (legink\u00e1bb Ubuntu) \u2705 le\u00edr\u00e1s</li> <li>Windows WSL2, k\u00f6nny\u0171s\u00faly\u00fa Linux virtu\u00e1lis g\u00e9p \u2705 le\u00edr\u00e1s</li> <li>Virtu\u00e1lis g\u00e9p Windowsra \ud83d\udfe0</li> <li>Windows build \ud83d\udfe0</li> </ol> <p>Ebb\u0151l a 4 lehet\u0151s\u00e9gb\u0151l az els\u0151 kett\u0151t aj\u00e1nljuk, de telm\u00e9szetesen a t\u00f6bbi sem tiltott. A dual boot betekint\u00e9st ny\u00fajt a Linux vil\u00e1gba, ami egy m\u00e9rn\u00f6kn\u00e9l hasznos tud\u00e1st jelent manaps\u00e1g. Telep\u00edt\u00e9sn\u00e9l k\u00f6r\u00fcltekint\u0151en kell elj\u00e1rni, hiszen egy rossz be\u00e1ll\u00edt\u00e1s adatveszt\u00e9st okoz, \u00edgy a biztons\u00e1gi ment\u00e9s is aj\u00e1nlott. A WSL (Windows Subsystem for Linux) egy k\u00f6nny\u0171s\u00faly\u00fa kompatibilit\u00e1si r\u00e9teg Linux-alap\u00fa elemek futtat\u00e1s\u00e1hoz Windows 10, vagy Windows 11 alap\u00fa rendszereken. Ahogy a k\u00f6vetkez\u0151 \u00e1br\u00e1n is l\u00e1tszik, a Linux kernel ugyanolyan egyszer\u0171en \u00e9rheti el a hardverelemeket (CPU, mem\u00f3ria, GPU), mint a Windows kernel. Ehhez k\u00e9pest a virtu\u00e1lis g\u00e9p (3. lehet\u0151s\u00e9g) egy j\u00f3val lassabb , t\u00f6bb absztrakci\u00f3s r\u00e9teget haszn\u00e1l\u00f3 megold\u00e1s, annak aj\u00e1nlott, akinek vagy nagyon modern, gyors g\u00e9pe van, vagy m\u00e1r eleve telep\u00edtett ilyen rendszereket. A nat\u00edv Windows build (4. lehet\u0151s\u00e9g) elvileg adott, de mivel a dokumen\u00e1ti\u00f3 t\u00falnyom\u00f3 r\u00e9sze Linuxra \u00e9rhet\u0151 el, \u00edgy nagyon sok extra munk\u00e1t fog jelenteni.</p> <p>Az els\u0151 h\u00e1rom opci\u00f3 szeml\u00e9ltet\u00e9se:</p> <p></p>"},{"location":"telepites/#tamogatott-operacios-rendszerek-es-ros-disztibuciok","title":"T\u00e1mogatott oper\u00e1ci\u00f3s rendszerek \u00e9s <code>ROS</code> disztib\u00faci\u00f3k","text":"Oper\u00e1ci\u00f3s rendszer t\u00e1mogatott t\u00e1mogatott t\u00e1mogatott Ubuntu 18.04 ROS melodic Ubuntu 20.04 ROS noetic ROS2 humble Ubuntu 22.04 ROS2 humble Windows 10 (nat\u00edv) ROS2 humble Windows 11 (nat\u00edv) ROS2 humble Windows 10 (WSL2) ROS melodic ROS noetic ROS2 humble Windows 11 (WSL2) ROS melodic ROS noetic ROS2 humble <p>Tip</p> <p>Az ROS 1 melodic python 2.7-et t\u00e1mogat, ez nem aj\u00e1nlott.</p>"},{"location":"telepites/#ubuntu-es-python","title":"Ubuntu \u00e9s Python","text":"<ul> <li>Ubuntu <code>18.04.6 LTS</code> Python <code>2.7.17</code></li> <li>Ubuntu <code>20.04.4 LTS</code> Python <code>3.8.10</code></li> <li>Ubuntu <code>22.04.1 LTS</code> Python <code>3.10.6</code></li> </ul>"},{"location":"telepites/ros_humble/","title":"ROS 2 humble","text":"<p>Egyszer\u0171 telep\u00edt\u00e9s</p> <p>A telep\u00edt\u00e9s l\u00e9p\u00e9sr\u0151l-l\u00e9p\u00e9sre is v\u00e9grehajthat\u00f3, de k\u00e9sz\u00edtett\u00fcnk egy egyszer\u0171 shell script alap\u00fa telep\u00edt\u00e9st is.</p> <p>Ahogy abevezet\u0151ben \u00edrtuk, alapvet\u0151en n\u00e9gy lehet\u0151s\u00e9g adott <code>ROS 2 Humble</code> telep\u00edt\u00e9s\u00e9re:</p> <ol> <li>Dual boot, Windows mell\u00e9 telep\u00edtett nat\u00edv Linux (legink\u00e1bb Ubuntu) \u2705 le\u00edr\u00e1s</li> <li>Windows WSL2, k\u00f6nny\u0171s\u00faly\u00fa Linux virtu\u00e1lis g\u00e9p \u2705 le\u00edr\u00e1s</li> <li>Virtu\u00e1lis g\u00e9p Windowsra \ud83d\udfe0</li> <li>Windows build \ud83d\udfe0</li> </ol> <p>Ebb\u0151l a 4 lehet\u0151s\u00e9gb\u0151l az els\u0151 kett\u0151t aj\u00e1nljuk, de telm\u00e9szetesen a t\u00f6bbi sem tiltott. A dual boot betekint\u00e9st ny\u00fajt a Linux vil\u00e1gba, ami egy m\u00e9rn\u00f6kn\u00e9l hasznos tud\u00e1st jelent manaps\u00e1g. Telep\u00edt\u00e9sn\u00e9l k\u00f6r\u00fcltekint\u0151en kell elj\u00e1rni, hiszen egy rossz be\u00e1ll\u00edt\u00e1s adatveszt\u00e9st okoz, \u00edgy a biztons\u00e1gi ment\u00e9s is aj\u00e1nlott. A WSL (Windows Subsystem for Linux) egy k\u00f6nny\u0171s\u00faly\u00fa kompatibilit\u00e1si r\u00e9teg Linux-alap\u00fa elemek futtat\u00e1s\u00e1hoz Windows 10, vagy Windows 11 alap\u00fa rendszereken. Ahogy a k\u00f6vetkez\u0151 \u00e1br\u00e1n is l\u00e1tszik, a Linux kernel ugyanolyan egyszer\u0171en \u00e9rheti el a hardverelemeket (CPU, mem\u00f3ria, GPU stb), mint a Windows kernel. Ehhez k\u00e9pest a virtu\u00e1lis g\u00e9p (3. lehet\u0151s\u00e9g) egy j\u00f3val lassabb, t\u00f6bb absztrakci\u00f3s r\u00e9teget haszn\u00e1l\u00f3 megold\u00e1s, annak aj\u00e1nlott, akinek vagy nagyon modern, gyors g\u00e9pe van, vagy m\u00e1r eleve telep\u00edtett ilyen rendszereket. A nat\u00edv Windows build (4. lehet\u0151s\u00e9g) elvileg adott, de mivel a dokumen\u00e1ti\u00f3 t\u00falnyom\u00f3 r\u00e9sze Linuxra \u00e9rhet\u0151 el, \u00edgy nagyon sok extra munk\u00e1t fog jelenteni.</p> <p>Az els\u0151 h\u00e1rom opci\u00f3 szeml\u00e9ltet\u00e9se:</p> <p></p>"},{"location":"telepites/ros_humble/#telepites","title":"Telep\u00edt\u00e9s","text":"<p>A k\u00f6vetkez\u0151 le\u00edr\u00e1s Ubuntu 22.04 Jammyre vonatkozik. Megjegyz\u00e9s, hogy m\u00e1s verzi\u00f3k is t\u00e1mogatottak, ezekre vonatkoz\u00f3 telep\u00edt\u00e9s \u00e9s le\u00edr\u00e1sok el\u00e9rhet\u0151ek itt: docs.ros.org/en/humble/Installation/Alternatives.html</p> <p>A k\u00f6vetkez\u0151 le\u00edr\u00e1s a docs.ros.org/en/humble/Installation.html alapszik.</p>"},{"location":"telepites/ros_humble/#nyelv-beallitasa","title":"Nyelv be\u00e1ll\u00edt\u00e1sa","text":"<p>Note</p> <p>Ez a l\u00e9p\u00e9s \u00e1ltal\u00e1ban kihagyhat\u00f3</p> <p>Gy\u0151z\u0151dj\u00f6n meg arr\u00f3l, hogy olyan ter\u00fcleti be\u00e1ll\u00edt\u00e1ssal rendelkezik, amely t\u00e1mogatja az UTF-8 szabv\u00e1nyt. </p> <pre><code>locale # UTF-8 ellen\u0151rz\u00e9se\n\nsudo apt update &amp;&amp; sudo apt install locales\nsudo locale-gen en_US en_US.UTF-8\nsudo update-locale LC_ALL=en_US.UTF-8 LANG=en_US.UTF-8\nexport LANG=en_US.UTF-8\n\nlocale # be\u00e1ll\u00edt\u00e1sok ellen\u0151rz\u00e9se\n</code></pre>"},{"location":"telepites/ros_humble/#forrasok-beallitasa","title":"Forr\u00e1sok be\u00e1ll\u00edt\u00e1sa","text":"<p>Hozz\u00e1 kell adnia a ROS 2 apt t\u00e1rol\u00f3t a rendszer\u00e9hez.</p> <p>El\u0151sz\u00f6r gy\u0151z\u0151dj\u00f6n meg arr\u00f3l, hogy az Ubuntu Universe adatt\u00e1r enged\u00e9lyezve van.</p> <pre><code>sudo apt install software-properties-common\nsudo add-apt-repository universe\n</code></pre> <p>ROS 2 GPG kulcs hozz\u00e1ad\u00e1sa, <code>apt</code>-vel.</p> <pre><code>sudo apt update &amp;&amp; sudo apt install curl -y\nsudo curl -sSL https://raw.githubusercontent.com/ros/rosdistro/master/ros.key -o /usr/share/keyrings/ros-archive-keyring.gpg\n</code></pre> <p>Ezut\u00e1n k\u00f6vetkezik a t\u00e1rol\u00f3 hozz\u00e1ad\u00e1sa a forr\u00e1slist\u00e1hoz.</p> <pre><code>echo \"deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/ros-archive-keyring.gpg] http://packages.ros.org/ros2/ubuntu $(. /etc/os-release &amp;&amp; echo $UBUNTU_CODENAME) main\" | sudo tee /etc/apt/sources.list.d/ros2.list &gt; /dev/null\n</code></pre>"},{"location":"telepites/ros_humble/#ros-2-csomagok-telepitese","title":"ROS 2 csomagok telep\u00edt\u00e9se","text":"<p>Friss\u00edt\u00e9s:</p> <pre><code>sudo apt update\n</code></pre> <p>A ROS 2 csomagok gyakran friss\u00edtett Ubuntu rendszerekre \u00e9p\u00fclnek. Mindig aj\u00e1nlott, hogy \u00faj csomagok telep\u00edt\u00e9se el\u0151tt meggy\u0151z\u0151dni arr\u00f3l, hogy rendszere naprak\u00e9sz-e. <pre><code>sudo apt upgrade\n</code></pre></p> <p>Desktop telep\u00edt\u00e9s: ROS, RViz, dem\u00f3k, oktat\u00f3anyagok telep\u00edt\u00e9se: <pre><code>sudo apt install ros-humble-desktop\n</code></pre></p> <p>Fejleszt\u0151eszk\u00f6z\u00f6k, ford\u00edt\u00f3k \u00e9s egy\u00e9b eszk\u00f6z\u00f6k ROS-csomagok k\u00e9sz\u00edt\u00e9s\u00e9hez:  <pre><code>sudo apt install ros-dev-tools\n</code></pre></p>"},{"location":"telepites/ros_humble/#source","title":"Source","text":"<p>\u00c1ll\u00edtsa be k\u00f6rnyezet\u00e9t a k\u00f6vetkez\u0151 f\u00e1jl source-ol\u00e1s\u00e1val:</p> <pre><code>source /opt/ros/humble/setup.bash\n</code></pre> <p>Tipp: ezt meg lehet tenni a <code>.bashrc</code> f\u00e1jlban is <code>echo \"source /opt/ros/humble/setup.bash\" &gt;&gt; ~/.bashrc</code>.</p>"},{"location":"telepites/ros_humble/#telepites-ellenorzese","title":"Telep\u00edt\u00e9s ellen\u0151rz\u00e9se","text":"<p>Ellen\u0151rizz\u00fck a telep\u00edt\u00e9s helyess\u00e9g\u00e9t, a <code>ros2 topic list</code> paranccsal. </p> <pre><code>$ ros2 topic list\n\n/parameter_events\n/rosout \n</code></pre> <p>Ha minden rendben, akkor a fenti k\u00e9t topicnak kell megjelennie. Ezut\u00e1n lehet megismerni az egyszer\u0171 p\u00e9lda node-ok haszn\u00e1lat\u00e1t: docs.ros.org/en/humble/Tutorials/Beginner-CLI-Tools.html</p>"},{"location":"telepites/ros_humble/#telepites-utani-ajanlott-beallitasok","title":"Telep\u00edt\u00e9s ut\u00e1ni aj\u00e1nlott be\u00e1ll\u00edt\u00e1sok","text":""},{"location":"telepites/ros_humble/#konzol-szinek","title":"Konzol sz\u00ednek","text":"<p>Alap\u00e9rtelmez\u00e9s szerint a konzol kimenet nem sz\u00ednezett, de ezt c\u00e9lszer\u0171 be\u00e1ll\u00edtani az <code>RCUTILS_COLORIZED_OUTPUT</code> k\u00f6rnyezeti v\u00e1ltoz\u00f3val (ak\u00e1r <code>bashrc</code>-be \u00edrva). P\u00e9ld\u00e1ul:</p> <pre><code>export RCUTILS_COLORIZED_OUTPUT=1 \n</code></pre> <p></p> <p>R\u00e9szletek: docs.ros.org/en/humble/Tutorials/Demos/Logging-and-logger-configuration.html#id14</p>"},{"location":"telepites/ros_humble/#colcon_cd","title":"<code>colcon_cd</code>","text":"<p>Szint\u00e9n c\u00e9lszer\u0171 be\u00e1ll\u00edtani a <code>colcon_cd</code> paranccsot, \u00edgy gyorsan v\u00e1lthatunk munkak\u00f6nyvt\u00e1r\u00e1t egy csomag k\u00f6nyvt\u00e1r\u00e1ra. P\u00e9ldak\u00e9nt a <code>colcon_cd some_ros_package</code> parancsra gyorsan a <code>~/ros2_ws/src/some_ros_package</code> k\u00f6nyvt\u00e1rba ugorhatunk.</p> <p>R\u00e9szletek: docs.ros.org/en/humble/Tutorials/Beginner-Client-Libraries/Colcon-Tutorial.html#setup-colcon-cd</p>"},{"location":"telepites/ros_humble/#otthoni-geptermi-telepites","title":"Otthoni / g\u00e9ptermi telep\u00edt\u00e9s","text":"<p>G\u00e9pteremben a k\u00f6vetkez\u0151 <code>install_humble.sh</code> f\u00e1jlt (shell scriptet) futtatuk minden g\u00e9pen.</p> <p><pre><code>wget https://raw.githubusercontent.com/sze-info/arj/main/docs/telepites/install_humble.sh\n</code></pre> <pre><code>sudo chmod +x install_humble.sh\n</code></pre></p> <p>Otthon: <pre><code>./install_humble.sh\n</code></pre> G\u00e9pteremben: <pre><code>./install_humble.sh campus\n</code></pre></p>"},{"location":"telepites/ros_humble/#workspace-reset","title":"Workspace reset","text":"<p>Ha szeretn\u00e9nk a teljes <code>ros2_ws</code>-t t\u00f6r\u00f6lni, majd \u00fajra kl\u00f3nozni \u00e9s buildelni (~5 percig eltart), akkor a k\u00f6vetkez\u0151 egyetlen hosz\u00fa paranccsal megtehetj\u00fck:</p> <pre><code>cd ~ ; rm ws_reset.sh; wget https://raw.githubusercontent.com/sze-info/arj/main/docs/telepites/ws_reset.sh; sudo chmod +x ws_reset.sh; ./ws_reset.sh\n</code></pre>"},{"location":"telepites/ubuntu/","title":"Ubuntu dual boot","text":""},{"location":"telepites/win10/","title":"Windows WSL2","text":"<p>A Windows Subsystem for Linux egy kompatibilit\u00e1si r\u00e9teg Linux-alap\u00fa elemek nat\u00edv futtat\u00e1s\u00e1hoz Windows 10, vagy Windows 11 alap\u00fa rendszereken. Akkor \u00e9rdemes v\u00e1lasztani a WSL haszn\u00e1lat\u00e1t, ha nem szeretn\u00e9tek nat\u00edv Ubuntu-t (pl 18.04 / 22.04) telep\u00edteni a sz\u00e1m\u00edt\u00f3g\u00e9peitekre. A tant\u00e1rgyban haszn\u00e1lhat\u00f3 rendszer t\u00f6bbf\u00e9le m\u00f3don is l\u00e9trehozhat\u00f3:</p> <ul> <li>WSL telep\u00edt\u00e9se \u00e9s Snapshot import\u00e1l\u00e1sa link</li> <li>WSL telep\u00edt\u00e9se \u00e9s ROS install\u00e1l\u00e1sa Script seg\u00edts\u00e9g\u00e9vel link </li> </ul>"},{"location":"telepites/win10/#wsl-telepitese-es-snapshot-importalasa","title":"WSL telep\u00edt\u00e9se \u00e9s Snapshot import\u00e1l\u00e1sa","text":"<p>A telep\u00edt\u00e9st bemutat\u00f3 vide\u00f3: </p> <p>A vide\u00f3 l\u00e9p\u00e9sei sz\u00f6vegesen:</p> <ol> <li>WSL snapshot (backup f\u00e1jl) let\u00f6lt\u00e9se: WSL snapshot let\u00f6lt\u00e9se  ~2.5 GB</li> <li>Snapshot kicsomagol\u00e1sa <code>.zip</code> &gt;&gt; <code>.tar</code></li> <li>Powershell (Admin) WSL feature bekapcsol\u00e1sa, majd WSL telep\u00edt\u00e9se:  <pre><code>Enable-WindowsOptionalFeature -Online -FeatureName Microsoft-Windows-Subsystem-Linux\n</code></pre> <pre><code>wsl --install --no-distribution\n</code></pre></li> <li>Powershell, WSL Snapshot f\u00e1jl (tar) import\u00e1l\u00e1s:  <pre><code>wsl --import ajr1 .\\ajr1\\ .\\ajr24a.tar\n</code></pre></li> <li>VS code \u00e9s WSL kieg\u00e9sz\u00edt\u0151 telep\u00edt\u00e9se: </li> </ol> <p></p> <p>Danger</p> <p>A <code>wsl -l -v</code> parancs list\u00e1zza a telep\u00edtett WSL verzi\u00f3kat. A <code>VERSION</code> oszlopnak 2-nek kell lennie, k\u00fcl\u00f6nben a WSL elavult verzi\u00f3j\u00e1t telep\u00edtett\u00fck. P\u00e9lda helyes kimenetre: <pre><code>NAME            STATE           VERSION\nUbuntu          Stopped         2\nUbuntu-22.04    Stopped         2\nUbuntu-24.04    Running         2\najr1            Stopped         2\n</code></pre> Amennyiben a <code>VERSION</code> oszlopban <code>1</code>-es szerepel <code>wsl --update</code> paranccsal lehet a verzi\u00f3t friss\u00edteni.</p>"},{"location":"telepites/win10/#wsl-telepitese-es-ros-installalasa-script-segitsegevel","title":"WSL telep\u00edt\u00e9se \u00e9s ROS install\u00e1l\u00e1sa Script seg\u00edts\u00e9g\u00e9vel","text":"<p>A WSL telep\u00edt\u00e9s\u00e9t bemutat\u00f3 Windows 11-es vide\u00f3 (Windows 10 verzi\u00f3 lejjebb, de nagyr\u00e9szt megegyez\u0151 tartalommal):</p> <p>A vide\u00f3 l\u00e9p\u00e9sei sz\u00f6vegesen:</p> <ul> <li>Rendszergazdak\u00e9nt futtatva nyissatok egy PowerShell ablakot.</li> <li>M\u00e1solj\u00e1tok be az al\u00e1bbi parancsot. Ezzel enged\u00e9lyezitek a WSL haszn\u00e1lat\u00e1t. <pre><code>Enable-WindowsOptionalFeature -Online -FeatureName Microsoft-Windows-Subsystem-Linux\n</code></pre></li> <li>Ind\u00edts\u00e1tok \u00fajra a sz\u00e1m\u00edt\u00f3g\u00e9pet az <code>Y</code> bet\u0171 be\u00edr\u00e1s\u00e1val. (opcion\u00e1lis)</li> <li>Nyiss\u00e1tok meg a Microsoft Store-t, \u00e9s keressetek r\u00e1 a Windows Subsystem for Linux Preview-ra. Telep\u00edts\u00e9tek.</li> <li>Szint\u00e9n a Microsoft Store-ban keressetek r\u00e1 az Ubuntu 22.04-re, \u00e9s telep\u00edts\u00e9tek, vagy PowerShell (Admin): <pre><code>wsl --install -d Ubuntu-22.04\n</code></pre></li> <li>A k\u00f6nnyebb kezelhet\u0151s\u00e9g \u00e9rdek\u00e9ben \u00e9rdemes telep\u00edteni a Windows Terminal programot is. Szint\u00e9n a Microsoft Store-ban keressetek r\u00e1 a Windows Terminal-ra, \u00e9s telep\u00edts\u00e9tek.</li> <li>Ind\u00edts\u00e1tok el a Windows Terminal programot, \u00e9s a Ctrl+, (Control \u00e9s vessz\u0151) billenty\u0171kombin\u00e1ci\u00f3val nyiss\u00e1tok meg a be\u00e1ll\u00edt\u00e1sokat. A Default Profile be\u00e1ll\u00edt\u00e1si sor leg\u00f6rd\u00fcl\u0151 list\u00e1j\u00e1b\u00f3l v\u00e1lassz\u00e1tok az Ubuntu 22.04-et. </li> <li>Ind\u00edts\u00e1tok \u00fajra a Windows Terminal-t. Az els\u0151 indul\u00e1skor adjatok meg tetsz\u0151leges felhaszn\u00e1l\u00f3nevet \u00e9s jelsz\u00f3t. </li> <li>A megold\u00e1s kidolgoz\u00e1s\u00e1hoz a VS Code szerkeszt\u0151t javasoljuk. Telep\u00edts\u00e9tek innen: code.visualstudio.com/download</li> <li>V\u00e9g\u00fcl telep\u00edts\u00e9tek a VS Code Remote Development kieg\u00e9sz\u00edt\u0151j\u00e9t, hogy WSL haszn\u00e1lat\u00e1val is el\u00e9rhet\u0151 legyen: marketplace.visualstudio.com/items?itemName=ms-vscode-remote.vscode-remote-extensionpack</li> </ul> <p>A WSL telep\u00edt\u00e9s\u00e9t bemutat\u00f3 Windows 10-es vide\u00f3 itt \u00e9rhet\u0151 el: </p> <p>A VS Code telep\u00edt\u00e9s\u00e9hez itt tal\u00e1ltok \u00fatmutat\u00f3t: </p>"},{"location":"tervezes/","title":"Tervez\u00e9s","text":"<p>Megk\u00fcl\u00f6nb\u00f6ztethet\u00fcnk glob\u00e1lis tervez\u00e9s \u00e9s lok\u00e1lis tervez\u00e9st.</p> <p></p> <p>A tervez\u00e9s mint fogalom arra a k\u00e9rd\u00e9sre ad v\u00e1laszt, hogy hogyan jutunk el A-b\u00f3l B pontba a megfelel\u0151 krit\u00e9riumok mellett. A tervez\u00e9snek k\u00e9t alr\u00e9sze van a p\u00e1lya- vagy \u00fatvonaltervez\u00e9s, amely megmondja hogy az adott szakaszon merre kell menni illetve a trajekt\u00f3riatervez\u00e9s, amely azt mondja meg hogy az adott szakaszon milyen sebess\u00e9gel kell haladnia az adott j\u00e1rm\u0171nek. </p> <p>A tervez\u00e9si feladat jellege szerint megk\u00fcl\u00f6nb\u00f6ztett\u00fcnk glob\u00e1lis \u00e9s lok\u00e1lis tervez\u00e9st. A k\u00e9t tervez\u00e9si m\u00f3dszer k\u00fcl\u00f6nbs\u00e9geit az al\u00e1bbi t\u00e1bl\u00e1zat foglalja \u00f6ssze: </p> Glob\u00e1lis tervez\u00e9s Lok\u00e1lis tervez\u00e9s T\u00e9rk\u00e9p alap\u00fa Szenzor alap\u00fa Ismert terep/munkater\u00fclet Ismeretlen ter\u00fclet Az \u00fat tervez\u00e9s el\u0151bb t\u00f6rt\u00e9nik mint a mozg\u00e1s Az \u00fat tervez\u00e9s \u00e9s a mozg\u00e1s egyszerre t\u00f6rt\u00e9nik Nincs szigor\u00fa k\u00f6vetelm\u00e9ny a sz\u00e1m\u00edt\u00e1si id\u0151re K\u00f6vetelm\u00e9ny hogy val\u00f3s id\u0151ben m\u0171k\u00f6dj\u00f6n <p>A tervez\u00e9s v\u00e9geredm\u00e9nye mind lok\u00e1lis \u00e9s glob\u00e1lis esetben egy diszkr\u00e9t pontokra osztott szakasz, amelynek minden pontja tartalmaz poz\u00edci\u00f3, orient\u00e1ci\u00f3 \u00e9s sebess\u00e9g inform\u00e1ci\u00f3kat, amit r\u00f6viden trajekt\u00f3ri\u00e1nak h\u00edvunk: .</p> <pre><code>flowchart LR\nsubgraph Plan [Tervez\u00e9s]\n  G[Glob\u00e1lis&lt;br/&gt;tervez\u00e9s]:::red --&gt;|\u00fatvonal| L[Lok\u00e1lis&lt;br/&gt;tervez\u00e9s]:::red\nend\nsubgraph Perception [\u00c9szlel\u00e9s]\n  T[T\u00e9rk\u00e9pez\u00e9s&lt;br/&gt;/\u00e9szlel\u00e9s/]:::light \n  H[Lokaliz\u00e1ci\u00f3&lt;br/&gt;/\u00e9szlel\u00e9s/]:::light\n  P[Predikci\u00f3&lt;br/&gt;/\u00e9szlel\u00e9s/]:::light \nend\nT ---&gt;|t\u00e9rk\u00e9p| L\nH ---&gt;|pose| L\nP ---&gt;|predikt\u00e1lt objektumok| L\nsubgraph Control [Szab\u00e1lyoz\u00e1s]\n  L --&gt; |trajekt\u00f3ria| S[Szab\u00e1lyoz\u00e1s]:::light \nend\n\n\nclassDef light fill:#34aec5,stroke:#152742,stroke-width:2px,color:#152742  \nclassDef dark fill:#152742,stroke:#34aec5,stroke-width:2px,color:#34aec5\nclassDef white fill:#ffffff,stroke:#152742,stroke-width:2px,color:#152742\nclassDef red fill:#ef4638,stroke:#152742,stroke-width:2px,color:#fff\n</code></pre>"},{"location":"tervezes/#globalis-tervezes","title":"Glob\u00e1lis tervez\u00e9s","text":""},{"location":"tervezes/#bevezetes","title":"Bevezet\u00e9s","text":"<p>Az al\u00e1bbi n\u00e9met nyelv\u0171, de angol PPT-t \u00e9s feliratot tartalmaz\u00f3 vide\u00f3 a TU M\u00fcnchen tananyag\u00e1nak r\u00e9sze, a t\u00e9m\u00e1ban j\u00f3 \u00f6sszefoglal\u00f3:</p> <p>A Vide\u00f3hoz tartoz\u00f3 PDF f\u00e1jl el\u00e9rhet\u0151 itt</p> <p>Ismertebb glob\u00e1lis tervez\u0151 algoritmusok:  - RRT (Rapidly exploring random tree): Az RRT egy mintav\u00e9telez\u00e9s alap\u00fa m\u00f3dszer bej\u00e1rand\u00f3 glob\u00e1lis t\u00e9r felder\u00edt\u00e9s\u00e9re \u00e9s \u00fatvonalak tervez\u00e9s\u00e9re. Megjegyz\u00e9s: bizonyos esetekben lok\u00e1lis tervez\u0151k\u00e9nt is haszn\u00e1lj\u00e1k. Az algoritmus random (v\u00e9letlenszer\u0171) m\u00f3don v\u00e1laszt ki pontokat \u00e9s n\u00f6vekv\u0151 ir\u00e1nyban kiterjeszti a f\u00e1t az\u00e1ltal, hogy a legk\u00f6zelebbi m\u00e1r megl\u00e9v\u0151 pontokhoz kapcsolja az \u00faj pontokat. Tov\u00e1bbi inform\u00e1ci\u00f3: en.wikipedia.org/wiki/Rapidly_exploring_random_tree. - Informed-RRT: Az Informed-RRT az alap RRT kiterjeszt\u00e9se, amely heurisztik\u00e1t haszn\u00e1l a c\u00e9l fel\u00e9 t\u00f6rt\u00e9n\u0151 hat\u00e9konyabb felder\u00edt\u00e9sre. Az algoritmus \u00fagy tervezi az \u00fatvonalakat, hogy el\u0151sz\u00f6r a k\u00f6zelebbi ter\u00fcleteket fedezze fel, majd a k\u00e9s\u0151bbi f\u00e1zisokban elmozduljon a t\u00e1volabbi ter\u00fcletek fel\u00e9. - A-star: Az A algoritmus (ejtsd \"A csillag\") gr\u00e1fbej\u00e1r\u00f3 \u00e9s \u00fatvonalkeres\u00e9si algoritmus, amelyet teljess\u00e9ge,  hat\u00e9konys\u00e1ga miatt gyakran r\u00e9gen el\u0151szeretettel haszn\u00e1ltak. Az egyik f\u0151 gyakorlati h\u00e1tr\u00e1nya az $$ O(b^{d}) $$ t\u00e1rhelybonyolults\u00e1ga, mivel az \u00f6sszes gener\u00e1lt csom\u00f3pontot elt\u00e1rolja a mem\u00f3ri\u00e1ban. \u00cdgy a gyakorlati \u00fatkeres\u0151 rendszerekben \u00e1ltal\u00e1ban jobban teljes\u00edtenek n\u00e1la olyan algoritmusok, amelyek k\u00e9pesek a gr\u00e1f el\u0151feldolgoz\u00e1s\u00e1ra a jobb teljes\u00edtm\u00e9ny \u00e9rdek\u00e9ben. Tov\u00e1bbi inform\u00e1ci\u00f3: hu.wikipedia.org/wiki/A*_algoritmus. - D-star: A D algoritmus (ejtsd \"D csillag\") a \"Dynamic A-star\" r\u00f6vid\u00edt\u00e9se. Ez az algoritmus egy m\u00f3dos\u00edtott v\u00e1ltozata az A algoritmusnak, amely dinamikus k\u00f6rnyezetekben haszn\u00e1lhat\u00f3. A Dynamic A-star algoritmus folyamatosan friss\u00edti az \u00fatvonalat, mik\u00f6zben a robot halad az \u00faton, hogy alkalmazkodjon a v\u00e1ltoz\u00f3 k\u00f6r\u00fclm\u00e9nyekhez vagy akad\u00e1lyokhoz.  Tov\u00e1bbi inform\u00e1ci\u00f3: en.wikipedia.org/wiki/D* . - Dijkstra*: A Dijkstra algoritmus az egyik legismertebb \u00e9s leggyakrabban haszn\u00e1lt algoritmus a legr\u00f6videbb \u00fat keres\u00e9s\u00e9re egy gr\u00e1fban. Ez egy sz\u00e9less\u00e9gi keres\u0151algoritmus, amely iterat\u00edvan b\u0151v\u00edti a f\u00e1t a kezd\u0151pontb\u00f3l kiindulva, \u00e9s kiv\u00e1lasztja a legk\u00f6zelebbi m\u00e9g nem l\u00e1togatott cs\u00facsot. Tov\u00e1bbi inform\u00e1ci\u00f3: en.wikipedia.org/wiki/Dijkstra's_algorithm.</p> <p>J\u00f3 tudni, hogy a fenti algoritmusokanak sz\u00e1mos v\u00e1ltozata, tov\u00e1bbfejleszt\u00e9se ismert.</p>"},{"location":"tervezes/#utazo-ugynok-problema","title":"Utaz\u00f3 \u00fcgyn\u00f6k probl\u00e9ma","text":"<p>Az utaz\u00f3 \u00fcgyn\u00f6k probl\u00e9ma (TSP traveling salesman problem) egy j\u00f3l ismert kombinatorikus optimaliz\u00e1ci\u00f3s probl\u00e9ma, amely a sz\u00e1m\u00edt\u00e1studom\u00e1ny \u00e9s a matematika ter\u00fclet\u00e9n jelent meg. A probl\u00e9ma l\u00e9nyege az, hogy az utaz\u00f3 \u00fcgyn\u00f6knek egy adott v\u00e1rosokb\u00f3l \u00e1ll\u00f3 halmazt kell megl\u00e1togatnia, \u00e9s vissza kell t\u00e9rnie a kiindul\u00e1si v\u00e1rosba a lehet\u0151 legr\u00f6videbb \u00faton \u00fagy, hogy minden v\u00e1rost pontosan egyszer l\u00e1togat meg. Tob\u00e1bbi inform\u00e1ci\u00f3: hu.wikipedia.org/wiki/Az_utaz\u00f3_\u00fcgyn\u00f6k_probl\u00e9m\u00e1ja.</p> <p>Form\u00e1lisan megfogalmazva, legyen adott egy ir\u00e1ny\u00edtott s\u00falyozott gr\u00e1f, ahol a csom\u00f3pontok reprezent\u00e1lj\u00e1k a v\u00e1rosokat, az \u00e9lek a v\u00e1rosok k\u00f6z\u00f6tti utakat jel\u00f6lik, \u00e9s a s\u00falyok az \u00e9lek hossz\u00e1t jel\u00f6lik. A c\u00e9l az, hogy tal\u00e1ljunk egy olyan Hamilton-k\u00f6rt (k\u00f6r, amely minden csom\u00f3pontot pontosan egyszer \u00e9rint), amelynek \u00f6sszs\u00falya minim\u00e1lis. A probl\u00e9ma az NP-neh\u00e9z oszt\u00e1lyba tartozik, ami azt jelenti, hogy nincs ismert hat\u00e9kony algoritmus, amely mindig garant\u00e1ltan megtal\u00e1lja a legoptim\u00e1lisabb megold\u00e1st polinomi\u00e1lis id\u0151ben a v\u00e1rosok sz\u00e1m\u00e1val ar\u00e1nyosan. </p> <p>Auton\u00f3m j\u00e1rm\u0171vek \u00e9s robotika vonatkoz\u00e1s\u00e1ban legt\u00f6bbsz\u00f6r nem a klasszikus TSP probl\u00e9ma mer\u00fcl fel, hanem annak deriv\u00e1tuma, hiszen p\u00e9ld\u00e1ul egy auton\u00f3m j\u00e1rm\u0171 eset\u00e9ben pontosan tudjuk honnan indulunk \u00e9s hova \u00e9rkez\u00fcnk. Ez a klasszikus utaz\u00f3 \u00fcgyn\u00f6k probl\u00e9ma eset\u00e9n nem ismert felt\u00e9tel.</p>"},{"location":"tervezes/#lokalis-tervezes","title":"Lok\u00e1lis tervez\u00e9s","text":""},{"location":"tervezes/#bevezetes_1","title":"Bevezet\u00e9s","text":"<p>Az al\u00e1bbi n\u00e9met nyelv\u0171, de angol PPT-t \u00e9s feliratot tartalmaz\u00f3 vide\u00f3 a TU M\u00fcnchen tananyag\u00e1nak r\u00e9sze, a t\u00e9m\u00e1ban j\u00f3 \u00f6sszefoglal\u00f3:</p> <p>A Vide\u00f3hoz tartoz\u00f3 PDF f\u00e1jl el\u00e9rhet\u0151 itt.</p>"},{"location":"tervezes/#motivacio","title":"Motiv\u00e1ci\u00f3","text":"<p>A lok\u00e1lis tervez\u00e9s voltak\u00e9pp a val\u00f3s id\u0151ben m\u00e9rt, dinamikusan v\u00e1ltoz\u00f3 k\u00f6r\u00fclm\u00e9nyekre adott tervez\u00e9si v\u00e1lasz. Mit \u00e9rt\u00fcnk ez alatt? A legegyszer\u0171bb p\u00e9lda, ha a glob\u00e1lis tervez\u00e9st gyakorlatilag egy \u00fatvonal megtervez\u00e9s\u00e9hez (pl. hogyan jussak el A-b\u00f3l B-be) hasonl\u00edtjuk, a lok\u00e1lis tervez\u00e9st pedig az adott s\u00e1vban, adott forgalmi helyzetben t\u00f6rt\u00e9n\u0151 feladathoz hasonl\u00edtjuk. Azonban l\u00e1thatjuk, hogy egy tervez\u00e9si szint \"lok\u00e1lis\" \u00e9s \"glob\u00e1lis\" mivoltja nem mindig k\u00fcl\u00f6n\u00fcl el 100%-ban egym\u00e1st\u00f3l. Pl. megtervezz\u00fck, hogy az M1-es aut\u00f3p\u00e1ly\u00e1n szeretn\u00e9nk haladni. Ezen bel\u00fcl t\u00f6bb s\u00e1v is van, \u00edgy melyiket v\u00e1lasszuk? Alapb\u00f3l a k\u00fcls\u0151 s\u00e1vot v\u00e1lasztjuk, ezt tekinhetj\u00fck a glob\u00e1lis trajekt\u00f3ri\u00e1nak. Ugyanakkor menetk\u00f6zben s\u00e1vot kell v\u00e1ltanunk, \u00e9s \u00edgy a bels\u0151 s\u00e1vot k\u00f6vetj\u00fck. Ezt egy \u00fat sor\u00e1n t\u00f6bbsz\u00f6r megtessz\u00fck. A teljes \u00fatra vet\u00edtve \u00edgy a k\u00f6vetni k\u00edv\u00e1nt s\u00e1v id\u0151nk\u00e9nt a bels\u0151, id\u0151nk\u00e9nt a k\u00fcls\u0151 s\u00e1v lesz. Ezt el\u0151re nem tudjuk megmondani, \u00edgy a legels\u0151 glob\u00e1lis trajekt\u00f3ria defin\u00edci\u00f3t nem el\u00e9g\u00edtj\u00fck ki. Tekinthetj\u00fck lok\u00e1lis tervez\u00e9si probl\u00e9m\u00e1nak, viszont az, hogy a bels\u0151 vagy k\u00fcls\u0151 s\u00e1vot k\u00f6vetj\u00fck, nem f\u00fcgg k\u00fcls\u0151 t\u00e9nyez\u0151kt\u0151l, kiz\u00e1r\u00f3lag a d\u00f6nt\u00e9s maga f\u00fcgg att\u00f3l (pl. s\u00e1vot v\u00e1ltunk egy el\u0151tt\u00fcnk halad\u00f3 aut\u00f3 miatt), viszont ha m\u00e1r s\u00e1vot v\u00e1ltottunk, az \u00faj s\u00e1v \u00e1ltal kijel\u00f6lt \u00fatvonal megintcsak nem f\u00fcgg dinamikus t\u00e9nyez\u0151kt\u0151l. Ezeket az ellentmond\u00e1sokat t\u00f6bbf\u00e9lek\u00e9ppen is feloldhatjuk: - egy el\u0151re eltervezett \u00fatvonalat tekint\u00fcnk glob\u00e1lisnak (ez esetben ez a k\u00fcls\u0151 s\u00e1v), mind m\u00f3dos\u00edt\u00e1s lok\u00e1lis, vagy - mag\u00e1t az aut\u00f3p\u00e1ly\u00e1n halad\u00e1st tekintj\u00fck glob\u00e1lis \u00fatvonalnak, ami \u00edgy nem f\u00fcgg a s\u00e1vokt\u00f3l, bevezet\u00fcnk egy k\u00f6z\u00e9ps\u0151 szintet, nevezz\u00fck glob\u00e1lis trajekt\u00f3ri\u00e1nak, amely ez esetben k\u00e9t alternat\u00edv \u00fatvonalat jelent (k\u00fcls\u0151 vagy bels\u0151 s\u00e1v), \u00e9s egy lok\u00e1lis trajekt\u00f3ri\u00e1t, ami ennek a m\u00f3dos\u00edt\u00e1sa val\u00f3s idej\u0171 inform\u00e1ci\u00f3k alapj\u00e1n, vagy - a glob\u00e1lis trajekt\u00f3ria sem fix, hanem id\u0151ben v\u00e1ltozhat, de csak ritk\u00e1n, ha erre k\u00fcls\u0151 trigger jelt ad (pl. s\u00e1vv\u00e1lt\u00e1s).</p> <p>Ebben a fejezetben a lok\u00e1lis trajekt\u00f3ria megtervez\u00e9s\u00e9h\u00e9z sz\u00fcks\u00e9ges alapokat vessz\u00fck \u00e1t, \u00edgy a k\u00f6vetkez\u0151kben kiz\u00e1r\u00f3lag erre a szintre koncentr\u00e1lunk. A fenti p\u00e9ld\u00e1ban szerepl\u0151 lok\u00e1lis tervez\u00e9si feladatr\u00f3l mind elmondhat\u00f3, hogy: - adott hozz\u00e1 valamilyen glob\u00e1lis \u00fatvonal (pl. s\u00e1v), amit alapul vesz\u00fcnk, - figyelembe kell venni a val\u00f3sidej\u0171 v\u00e1ltoz\u00f3kat (pl. m\u00e1s j\u00e1rm\u0171vek), - mindig a j\u00e1rm\u0171 \u00e1ltal befuthat\u00f3 \u00fatvonalat kell tervezni, azaz a lek\u00f6vet\u0151 szab\u00e1lyz\u00e1s szempontj\u00e1b\u00f3l stabil, az utasok sz\u00e1m\u00e1ra pedig komfortos; ezt r\u00f6viden mondhatjuk \"kinetikailag j\u00f3l kondicion\u00e1lt\" \u00fatvonalnak is, - az \u00fatvonal legyen biztons\u00e1gos, azaz ne s\u00e9rtsen hat\u00e1rokat illetve kell\u0151 t\u00e1vols\u00e1got tartson m\u00e1s objektumokt\u00f3l.</p> <p>Ahhoz, hogy ezeket a c\u00e9lokat teljes\u00edteni tudjuk, tudni kell, pontosan a glob\u00e1lis \u00fatvonalat, m\u00e9rni kell a dinamikus v\u00e1ltoz\u00f3kat, ismern\u00fcnk kell a j\u00e1rm\u0171vet illetve tudnunk kell, pontosan mit jelent az utasok sz\u00e1m\u00e1ra a \"komfort\". Emellett fontos kiemelni, hogy a lok\u00e1lis \u00fatvonal a legt\u00f6bbsz\u00f6r nem kiz\u00e1r\u00f3lag pontok halmaza. A trajekt\u00f3ria reprezent\u00e1l\u00e1s\u00e1ra valamilyen modellt haszn\u00e1lunk, azaz geometriailag kompakt form\u00e1ban \u00edrjuk le. Ez a gyakorlatban jelenthet pl. polinomi\u00e1lis form\u00e1t, Euler-g\u00f6rb\u00e9t, Spline-t...stb. Ezek a g\u00f6rbe le\u00edr\u00e1sok mind v\u00e9ges sz\u00e1m\u00fa param\u00e9terrel \u00edrnak le egy g\u00f6rb\u00e9t. Ahhoz, hogy a g\u00f6rbe egy pontj\u00e1t megkapjuk, a g\u00f6rb\u00e9t le\u00edr\u00f3 f\u00fcggv\u00e9nyt ki\u00e9rt\u00e9kelj\u00fck egy adott X t\u00e1vols\u00e1gon. Ez a megk\u00f6zel\u00edt\u00e9s az\u00e9rt hasznos, mert \u00edgy hossz\u00fa g\u00f6rb\u00e9ket is kev\u00e9s param\u00e9ter seg\u00edts\u00e9g\u00e9vel tudunk le\u00edrni, \u00e9s \u00edgy a megval\u00f3s\u00edt\u00e1s sor\u00e1n mem\u00f3ri\u00e1t \u00e9s fut\u00e1sid\u0151t sp\u00f3rolunk. Tov\u00e1bb\u00e1 az egyenlet deriv\u00e1ltjai tov\u00e1bbi mennyis\u00e9geket (pl. orient\u00e1ci\u00f3, g\u00f6rb\u00fclet) adnak meg, \u00e9s \u00edgy a szab\u00e1lyz\u00e1s sz\u00e1m\u00e1ra ezeket k\u00f6nnyen el\u0151 tudjuk \u00e1ll\u00edtani.</p>"},{"location":"tervezes/#lokalis-tervezo-algoritmusok","title":"Lok\u00e1lis tervez\u0151 algoritmusok","text":"<p>A lok\u00e1lis megold\u00e1sokat, ahogy a bevezet\u0151 vide\u00f3ban is l\u00e1thattuk neh\u00e9z csoportos\u00edtani, rendszerezni, a megold\u00e1sok gyakran nem tisz\u00e1n egy m\u00f3dszertant haszn\u00e1lnak. P\u00e9lda erre a State Lattice tervez\u0151, ami grid-szer\u0171 r\u00e1cs szerkezeten dolgozik, de gr\u00e1f-szer\u0171 keres\u00e9st haszn\u00e1l. Ide t\u00f6bbnyire olyan ismertebb lok\u00e1lis tervez\u0151 algoritmusokat, algoritmuscsal\u00e1dokat sorolunk fel, amiknek van ny\u00edlt forr\u00e1s k\u00f3d\u00fa implement\u00e1ci\u00f3juk:</p> <ul> <li>DWA (Dynamic Window Approach): A robotikai / auton\u00f3m mozg\u00e1stervez\u00e9sben a DWA megk\u00f6zel\u00edt\u00e9s egy online \u00fctk\u00f6z\u00e9s elker\u00fcl\u00e9si strat\u00e9gia, \u00fatvonaltervez\u00e9s\u00e9hez \u00e9s navig\u00e1ci\u00f3j\u00e1hoz dinamikus k\u00f6rnyezetben. Ahogy a neve is mutatja az el\u0151rehalad\u00e1s sor\u00e1n egy dinamikus ablakot tol maga el\u0151tt a robot / j\u00e1rm\u0171. T\u00f6bb lehets\u00e9ges ir\u00e1nyt (pontosabban trajakt\u00f3ri\u00e1t) vesz sz\u00e1mba, majd ebb\u0151l azt az \u00e1llapotot v\u00e1laszt\u00e1sztja, amit a lekisebb k\u00f6lts\u00e9g\u0171nek \u00edt\u00e9l. Tov\u00e1bbi inform\u00e1ci\u00f3: en.wikipedia.org/wiki/Dynamic_window_approach.</li> <li>TEB (Timed Elastic Band): Szint\u00e9n online, mozg\u00f3 robotok trajekt\u00f3ri\u00e1j\u00e1nak tervez\u00e9s\u00e9re \u00e9s k\u00f6vet\u00e9s\u00e9re szolg\u00e1l dinamikus k\u00f6rnyezetben. A TEB algoritmus k\u00fcl\u00f6n\u00f6sen hasznos nem-holon\u00f3m robotok (mint p\u00e9ld\u00e1ul az aut\u00f3k) sz\u00e1m\u00e1ra, amelyeknek korl\u00e1tozott a mozg\u00e1si szabads\u00e1guk. A m\u00f3dszer lok\u00e1lisan optimaliz\u00e1lja a robot p\u00e1ly\u00e1j\u00e1t a p\u00e1lyafut\u00e1si id\u0151, az akad\u00e1lyokt\u00f3l val\u00f3 elv\u00e1laszt\u00e1s \u00e9s a fut\u00e1s k\u00f6zbeni kinodinamikai korl\u00e1tok betart\u00e1sa tekintet\u00e9ben. Neve az gumi / elasztikus szalagra utal, ami k\u00f6nnyed\u00e9n hajtogathat\u00f3 a megfele\u0151 ir\u00e1nyba. Tov\u00e1bbi inform\u00e1ci\u00f3: github.com/rst-tu-dortmund/teb_local_planner.</li> <li>State Lattice: A robot / j\u00e1rm\u0171 kinodinamikai korl\u00e1tai az \u00e1llapotr\u00e1cs gr\u00e1fban vannak k\u00f3dolva, \u00e9s ebben a gr\u00e1fban b\u00e1rmely \u00fatvonal megval\u00f3s\u00edthat\u00f3. A gr\u00e1f fel\u00e9p\u00edt\u00e9se ut\u00e1n b\u00e1rmilyen gr\u00e1fkeres\u0151 algoritmus haszn\u00e1lhat\u00f3 a tervez\u00e9shez. navigation.ros.org/configuration/packages/smac/configuring-smac-lattice.html</li> <li>RRT (Rapidly exploring random tree): RRT-r\u0151l m\u00e1r volt sz\u00f3 a glob\u00e1lis tervez\u00e9skor is, de lok\u00e1lis m\u00f3dszerekn\u00e9l is haszn\u00e1lj\u00e1k. </li> </ul> <p>Algroitmuscsal\u00e1dok:</p> <ul> <li>Gr\u00e1f alap\u00fa megold\u00e1sok: A folytonos t\u00e9rben gr\u00e1f seg\u00edts\u00e9g\u00e9vel keres\u0151 megold\u00e1sok tartoznak ide. Gyakran seg\u00edts\u00e9gk\u00e9ppen valamilyen lok\u00e1lis t\u00e9rk\u00e9pmodellt haszn\u00e1lnak, mint a Lanelet2. Ide tartozik pl. az Autoware obstacle_avoidance_planner.</li> <li>Grid alap\u00fa megold\u00e1sok: A folytonos t\u00e9r r\u00e1csszer\u0171 diszkretiz\u00e1l\u00e1s\u00e1val keletkez\u0151 grid-et haszn\u00e1l\u00f3 algoritmusok tartoznak ide. Gyakran haszn\u00e1ljuk a voxel grid, illetve az occupancy grid (foglats\u00e1gi r\u00e1cs) kifejez\u00e9st a diszkr\u00e9t t\u00e9r le\u00edr\u00e1s\u00e1ra. El\u0151nye, hogy bizonyos algoritmusok k\u00f6nnyebben Tov\u00e1bbi inform\u00e1ci\u00f3: github.com/jkk-research/pointcloud_to_grid, https://github.com/ANYbotics/grid_map. Bizonyos DWA megold\u00e1sok ebbe csal\u00e1dba tartoznak.</li> <li>Potential field alap\u00fa megold\u00e1sok: A potenci\u00e1lt\u00e9r alap\u00fa tervez\u00e9s (APF) sor\u00e1n a robotot vonz\u00f3 \u00e9s tasz\u00edt\u00f3 er\u0151kkel modellezik a k\u00f6rnyezetben l\u00e9v\u0151 objektumokt\u00f3l. A grid alap\u00fa m\u00f3dszerekkel ellent\u00e9tben itt maga a mez\u0151 mondja meg, hogy milyen t\u00e1vol ker\u00fclj\u00fcnk egy objektumot, m\u00edg a grid alapon a tervez\u0151 hat\u00e1rozza ezt meg. M\u00e1sik k\u00fcl\u00f6nbs\u00e9g, hogy a potenci\u00e1lt\u00e9r folytonos (nincs diszkretiz\u00e1l\u00e1s), m\u00edg a grid t\u00e9r diszkr\u00e9t. Tov\u00e1bbi inform\u00e1ci\u00f3: en.wikipedia.org/wiki/Motion_planning#Artificial_potential_fields, illetve itt is tal\u00e1lhat\u00f3 egy APF (artificial potential field) alap\u00fa megold\u00e1s.</li> <li>Fren\u00e9t rendszer alap\u00fa megold\u00e1sok: A Fren\u00e9t-koordin\u00e1tarendszerben a robot \u00e1llapota k\u00e9t dimenzi\u00f3ban van megadva: a hosszanti \u00e9s a later\u00e1lis poz\u00edci\u00f3. A hosszanti tengelyen a robot aktu\u00e1lis helyzete \u00e9s sebess\u00e9ge tal\u00e1lhat\u00f3, m\u00edg a later\u00e1lis tengelyen a robot poz\u00edci\u00f3ja az \u00fatvonalhoz k\u00e9pest. Tov\u00e1bbi inform\u00e1ci\u00f3: roboticsknowledgebase.com/wiki/planning/frenet-frame-planning/</li> </ul> <p>Megjegyz\u00e9s: TU M\u00fcnchen tananyaga hasonl\u00f3k\u00e9ppen, de m\u00e1s hangs\u00falyokkal osztja fel a lok\u00e1lis tervez\u0151 algoritmusokak: Graph-Based methods, Variational methods, Incremental Methods, Hybrid Methods.</p> M\u00f3dszerek Tulajdons\u00e1gok Korl\u00e1tok Inkrement\u00e1lis m\u00f3dszerek (pl. DWA) Val\u00f3sz\u00edn\u0171leg teljes A v\u00e9ges id\u0151n bel\u00fcli megold\u00e1s nem garant\u00e1lt Vari\u00e1ci\u00f3s m\u00f3dszerek (pl. APF) Nincs diszkretiz\u00e1l\u00e1s Helyi optimumot tal\u00e1l Alacsony sz\u00e1m\u00edt\u00e1si id\u0151 K\u00f6lts\u00e9gf\u00fcgg\u0151 solver Gr\u00e1f alap\u00fa m\u00f3dszerek (pl Lanelet2-alap\u00fa) Megtal\u00e1lja a glob\u00e1lis optimumot A dimenzionalit\u00e1s \u00e1tka Rugalmas k\u00f6lts\u00e9gf\u00fcggv\u00e9ny Diskretiz\u00e1lt megold\u00e1s Methods Properties Limitations Incremental Methods (eg. DWA) Probabilistically complete Solution in finite time not guaranteed Variational Methods  (eg. APF) No discretization Finds local optimum Low computation time Cost dependent solver Graph-Based Methods  (eg. pl Lanelet2-based) Finds global optimum Curse of dimensionality Flexible cost function Discretized solution"},{"location":"tervezes/#tervezesi-pelda","title":"Tervez\u00e9si p\u00e9lda","text":"<p>Az ebben a fejezetben szerepl\u0151 p\u00e9ld\u00e1t Werling \u00e9s mtsai. munk\u00e1j\u00e1b\u00f3l vett\u00fck [1]. Ez a p\u00e9lda egy \u00e1ltal\u00e1nos tervez\u00e9si probl\u00e9m\u00e1t mutat be, amely tartalmazza fenti szempontok legt\u00f6bbj\u00e9t. K\u00e9t fontos dologra h\u00edvjuk fel a figyelmet: - a kereszt- illetve hosszir\u00e1ny\u00fa tervez\u00e9si probl\u00e9m\u00e1t sz\u00e9tv\u00e1lasztjuk, illetve - a keresztir\u00e1ny\u00fa tervez\u00e9s az \u00fan. Fren\u00e9t-rendszerben t\u00f6rt\u00e9nik.</p>"},{"location":"tervezes/#keresztiranyu-tervezes","title":"Keresztir\u00e1ny\u00fa tervez\u00e9s","text":"<p>A keresztir\u00e1ny\u00fa tervez\u00e9s az \u00fatvonal g\u00f6rb\u00e9j\u00e9nek megtervez\u00e9s\u00e9t jelenti. El\u0151sz\u00f6r a Fren\u00e9t-rendszer fogalm\u00e1t vezetj\u00fck be. Az illuszt\u00e1rci\u00f3ja az 1. \u00e1br\u00e1n l\u00e1that\u00f3. A Fren\u00e9t-rendszer egy olyan koordin\u00e1tarendszer, amely egy tetsz\u0151leges g\u00f6rb\u00e9n (ez esetben pl. a s\u00e1vk\u00f6z\u00e9p, vagy a glob\u00e1lis trajekt\u00f3ria) fut v\u00e9gig az \\(\\(s(t)\\)\\) param\u00e9ter f\u00fcggv\u00e9ny\u00e9ben. A tetsz\u0151leges g\u00f6rb\u00e9t nevezz\u00fck referencia vonalnak. A Fren\u00e9t-rendszerben a referencia g\u00f6rbe koordin\u00e1t\u00e1ja csupa z\u00e9rus (\u00f6nmag\u00e1hoz k\u00e9pest vett elt\u00e9r\u00e9se nulla). Egy tervezett trajekt\u00f3ria pontjait ebben a koordin\u00e1tarendszerben \u00e9rtelmezve k\u00f6nny\u0171 kifejezni azt, ha a trajekt\u00f3ri\u00e1t egyel\u0151v\u00e9 szeretn\u00e9nk tenni a referencia g\u00f6rb\u00e9vel. Pl. ha egy tervezett trajekt\u00f3ri\u00e1t szeretn\u00e9nk, ha a referencia \u00fatvonalban v\u00e9gz\u0151dne, ebben az esetben a v\u00e9gpontja \\(\\([0; 0]\\)\\), a Fren\u00e9t-rendszerben. A nem z\u00e9rus t\u00e1vols\u00e1g a referencia vonalt\u00f3l vett t\u00e1vols\u00e1got adja meg. Pl. ha a s\u00e1vk\u00f6z\u00e9pet tekintj\u00fck referenci\u00e1nak, az ett\u0151l vett elt\u00e9r\u00e9s lett a Fren\u00e9t-rendszerben vett t\u00e1vols\u00e1g, amely egy j\u00f3 intuit\u00edv megk\u00f6zel\u00edt\u00e9s is, hiszen az ember maga is sokszor tekinti a s\u00e1v k\u00f6zep\u00e9t referenci\u00e1nak, az att\u00f3l val\u00f3 elt\u00e9r\u00e9st pedig m\u00e9rvad\u00f3 mennyis\u00e9gnek.</p> <p> 1. \u00c1bra: a Frenet frame illusztr\u00e1l\u00e1sa a tervezett trajekt\u00f3ria ment\u00e9n, forr\u00e1s: [1]</p> <p>A kereszir\u00e1ny\u00fa tervez\u00e9s probl\u00e9m\u00e1j\u00e1t kiz\u00e1r\u00f3lag magas (&gt;30-40kph) sebess\u00e9gekre vizsg\u00e1ljuk. Erre az esetre Werling \u00e9s mtsai. egy optimaliz\u00e1ci\u00f3s probl\u00e9mak\u00e9nt tekintenek. A l\u00e9nyeg, hogy a mindenkori \u00e1llapotban meghat\u00e1rozunk egy polinomot, amelynek a k\u00f6lts\u00e9ge a legkisebb. A k\u00f6lts\u00e9gek illetve s\u00falyok megv\u00e1laszt\u00e1s\u00e1val lehet k\u00fcl\u00f6nf\u00e9le trajekt\u00f3ri\u00e1kat megtervezni. A tervez\u00e9s k\u00e9t lehets\u00e9ges kimenetel\u00e9t a Fren\u00e9t-rendszerben a 2. \u00e1bra mutatja. Tegy\u00fck fel, hogy a szagatott vonal a s\u00e1v k\u00f6zepe, ez lesz a referencia vonal, vagyis a glob\u00e1lis trajekt\u00f3ria. A vastag vonal a lok\u00e1lisan tervezett trajekt\u00f3ria, aminek a c\u00e9lja, hogy r\u00e1vezesse a j\u00e1rm\u0171vet a glob\u00e1lis trajekt\u00f3ri\u00e1ra. A kezd\u0151pont lehet egy tetsz\u0151legesen v\u00e1lasztott pont (pl. a j\u00e1rm\u0171 poz\u00edci\u00f3ja, vagy a legut\u00f3bbi \u00e9rv\u00e9nyes lok\u00e1lis trajekt\u00f3ria utols\u00f3 pontja...stb.). A v\u00edzszintes ir\u00e1ny testes\u00edti meg a f\u00fcggetlen v\u00e1ltoz\u00f3t. Ennek \u00e9rt\u00e9ke 0 \u00e9s egy maxim\u00e1lis \u00e9rt\u00e9k k\u00f6z\u00f6tt v\u00e1ltozik, ezt a tartom\u00e1nyt tekinthetj\u00fck a g\u00f6rb\u00e9t le\u00edr\u00f3 egyenlet \u00e9rtelmez\u00e9si tartom\u00e1ny\u00e1nak. Mi sz\u00e1munkra a fontos a g\u00f6rbe megtervez\u00e9s\u00e9n\u00e9l? Egyr\u00e9szt, hogy a kezd\u0151pontban kezd\u0151dj\u00f6n \u00e9s a v\u00e9gpontban \u00e9rjen v\u00e9get (meglep\u0151 m\u00f3don). Emellett felt\u00e9telk\u00e9nt kezelhetj\u00fck azt is, hogy a kezdeti is v\u00e9gorient\u00e1ci\u00f3 legyen egy adott \u00e9rt\u00e9k (pl. a kezdeti orient\u00e1ci\u00f3 egyezzen meg a j\u00e1rm\u0171 orient\u00e1ci\u00f3j\u00e1val, a v\u00e9gorient\u00e1ci\u00f3 a referencia vonal orient\u00e1ci\u00f3j\u00e1val). A kezdeti \u00e9s v\u00e9gfelt\u00e9teleket nevezz\u00fck peremfelt\u00e9teleknek. Sz\u00fcks\u00e9g eset\u00e9n tov\u00e1bbi peremfelt\u00e9teleket szabhatunk meg.</p> <p> 2. \u00c1bra: tervez\u00e9s lehets\u00e9ges kimenetei a Fren\u00e9t-rendszerben, forr\u00e1s: [1]</p> <p>A polinom illeszt\u00e9s sor\u00e1n olyan polinomokat keres\u00fcnk, amelyek kiel\u00e9g\u00edtek a peremfelt\u00e9teleket. A 2. \u00e1br\u00e1n l\u00e1thatjuk, hogy egyszerre t\u00f6bb polinom is kiel\u00e9g\u00edtheti ezeket a felt\u00e9teleket. A 3. \u00e1bra ilyen lehets\u00e9ges polinomokat mutat. L\u00e1that\u00f3, hogy nem mindegyik g\u00f6rbe \u00e9ri el ugyanott a referencia vonalat (a v\u00edzszintes tengelyt), teh\u00e1t a hossz f\u00fcggv\u00e9ny\u00e9ben k\u00fcl\u00f6nb\u00f6ztethet\u00fcnk m\u00e1s-m\u00e1s alak\u00fa g\u00f6rb\u00e9ket. Ezek mindegyike kiel\u00e9g\u00edti a peremfelt\u00e9teleket, ugyanakkor m\u00e1s alakjuk miatt ezen v\u00e9gigvezetve az aut\u00f3t m\u00e1s kinematikai tulajdons\u00e1gokat fognak eredm\u00e9nyezni. Ahhoz, hogy eld\u00f6nts\u00fck, melyik a sz\u00e1munkra legjobb g\u00f6rbe, bevezetj\u00fck az \u00fan. k\u00f6lts\u00e9gf\u00fcggv\u00e9nyt. A k\u00f6lts\u00e9gf\u00fcggv\u00e9ny egy olyan f\u00fcggv\u00e9ny, amely szabadon v\u00e1lasztott szempontjaink szerint eld\u00f6nti, hogy az adott szempont szerint mennyire j\u00f3 az adott g\u00f6rbe. A k\u00f6lts\u00e9geket \u00f6sszegezz\u00fck. Azonban nem mindegyik szempont egyform\u00e1n fontos, \u00edgy a k\u00f6lts\u00e9ge sem egyform\u00e1n relev\u00e1ns. \u00cdgy s\u00falyokat haszn\u00e1lunk hogy eld\u00f6nts\u00fck, melyek a legjelent\u0151sebb, \u00e9s melyek a legkev\u00e9sb\u00e9 \u00e9rdekes szempontok. Az \u00f6sszes lehets\u00e9ges g\u00f6rb\u00e9re meghat\u00e1rozzuk az \u00f6sszk\u00f6lts\u00e9get, majd kiv\u00e1lasztjuk a legkisebb k\u00f6lts\u00e9g\u0171 g\u00f6rb\u00e9t. Ez lesz a v\u00e9gs\u0151 trajekt\u00f3ri\u00e1nk, amely \u00edgy a probl\u00e9ma optim\u00e1lis megold\u00e1sa (optim\u00e1lis, azaz nem nulla k\u00f6lts\u00e9g\u0171, de a k\u00f6r\u00fclm\u00e9nyeket figyelembe v\u00e9ve a legkisebb k\u00f6lts\u00e9g\u0171 megold\u00e1s). A folyamatot optimaliz\u00e1ci\u00f3nak, a trajekt\u00f3ria hossz\u00e1t az optimaliz\u00e1ci\u00f3 v\u00e1ltoz\u00f3j\u00e1nak nevezz\u00fck. </p> <p> 3. \u00c1bra: tervez\u00e9s lehets\u00e9ges kimenetei a Fren\u00e9t-rendszerben, forr\u00e1s: [1]</p> <p>Az, hogy mit tekint\u00fcnk optim\u00e1lisnak, a k\u00f6lts\u00e9gf\u00fcggv\u00e9nyt\u0151l f\u00fcgg. Ebben \u00e1ltal\u00e1ban egym\u00e1snak ellentmond\u00f3 tagok szerepelnek: a trajekt\u00f3ria hossza legyen min\u00e9l kisebb (min\u00e9l gyorsabban \u00e9rj\u00fck el a c\u00e9lt), de a kialakul\u00f3 oldalir\u00e1ny\u00fa j\u00e1rm\u0171gyorsul\u00e1s legyen min\u00e9l kisebb (komfort felt\u00e9tel). Ezek egym\u00e1snak ellentmondanak, \u00edgy egy k\u00f6ztes j\u00f3, azaz optim\u00e1lis trajekt\u00f3ria fog sz\u00fcletni. Tov\u00e1bbi k\u00f6lts\u00e9geket vezethet\u00fcnk be, pl. a t\u00fallend\u00fcl\u00e9s m\u00e9rt\u00e9ke (a s\u00e1v m\u00e1sik oldal\u00e1ra val\u00f3 \u00e1tt\u00e9r\u00e9s m\u00e9rt\u00e9ke), a kezdeti r\u00e1nt\u00e1s, a be\u00e1ll\u00e1s gyorsas\u00e1ga stb. A s\u00falyok v\u00e1ltoztat\u00e1s\u00e1val m\u00e1s-m\u00e1s preferenci\u00e1t val\u00f3s\u00edthatunk meg. Pl. agressz\u00edv man\u0151ver vagy k\u00e9nyelmes man\u0151ver. Ezen k\u00edv\u00fcl kiz\u00e1rjuk azokat a trajekt\u00f3ri\u00e1kat, amelyek nem felelnek meg a biztons\u00e1gi k\u00f6vetelm\u00e9nyeknek, pl. \u00e1tt\u00e9rnek a m\u00e1sik s\u00e1vba.</p> <p>Werling \u00e9s mtsai. \u00f6t\u00f6dfok\u00fa polinomot hat\u00e1roztak meg, ez \u00edrja le a g\u00f6rb\u00e9t. A Fren\u00e9t-rendszerben \u00edgy a g\u00f6rbe egyenlete:</p> \\[ x(s) = c_{0} + c_{1}s + c_{2}s^{2}+c_{3}s^{3}+c_{4}s^{4}+c_{5}s^{5} \\] <p>L\u00e1thatjuk, hogy a g\u00f6rb\u00e9t 6 db param\u00e9ter adja meg, a 6 egy\u00fctthat\u00f3 c0-t\u00f3l c5-ig. Ahhoz, hogy az \u00f6sszes egy\u00fctthat\u00f3t meg tudjuk hat\u00e1rozni, 6 peremfelt\u00e9telre van sz\u00fcks\u00e9g\u00fcnk: - a kezdeti \u00e9s v\u00e9gpont elt\u00e9r\u00e9se a referencia vonalt\u00f3l, - a kezdeti \u00e9s v\u00e9gpont orient\u00e1ci\u00f3j\u00e1nak elt\u00e9s\u00e9re a referencia vonalt\u00f3l, - illetve a kezdeti \u00e9s v\u00e9gpontban a tervezett trajekt\u00f3ria g\u00f6rb\u00fclete.</p> <p>Ezeket vektoros form\u00e1ba rendezve: $$ [d_{0}\\ d_{1}\\ \\theta_{0}\\ \\theta_{1}\\ \\kappa_{0}\\ \\kappa_{1}]$$</p> <p>Ezeket tetsz\u0151legesen megv\u00e1laszthatjuk. A fenti magyar\u00e1zat alapj\u00e1n legyen: \\(\\([d_{0}\\ d_{1}\\ \\theta_{0}\\ \\theta_{1}\\ \\kappa_{0}\\ \\kappa_{1}]=[d_{0}\\ 0\\ \\theta_{0}\\ 0\\ 0\\ 0]\\)\\) azaz a kezdeti pontban a j\u00e1rm\u0171 helyzete a referenciavonalt\u00f3l, a v\u00e9gpontban a referencia vonal, a g\u00f6rb\u00fcletek pedig null\u00e1k, azaz a referencia vonal g\u00f6rb\u00fcletei a kezdeti \u00e9s v\u00e9gpontban. A peremfelt\u00e9telek seg\u00edts\u00e9g\u00e9vel fel\u00edrhat\u00f3 egy 6 ismeretlent \u00e9s 6 egyenletet tartalmaz\u00f3 egyenletrendszer: $$ x(s=0) = c_{0} = d_{0}$$ $$ x'(s=0) = c_{1} = \\theta_{1}$$ $$ x''(s=0) = 2c_{2} = \\kappa_{1}$$ $$ x(s=s_{1}) = c_{0} + c_{1}s + c_{2}s_{1}^{2}+c_{3}s_{1}^{3}+c_{4}s_{1}^{4}+c_{5}s_{1}^{5} $$ $$ x'(s=s_{1}) = c_{1}s + 2c_{2}s_{1}+3c_{3}s_{1}^{2}+4c_{4}s_{1}^{3}+5c_{5}s_{1}^{4} $$ $$ x''(s=s_{1}) = 2c_{2}+6c_{3}s_{1}+12c_{4}s_{1}^{2}+20c_{5}s_{1}^{3} $$</p> <p>ahol \\(s_{1}\\) a v\u00e9gpont t\u00e1vols\u00e1ga. Ez lesz a fenti optimaliz\u00e1ci\u00f3s probl\u00e9ma v\u00e1ltoz\u00f3ja. Ezt a mennyis\u00e9get tetsz\u0151leges tartom\u00e1nyon vari\u00e1lva (pl. \\(s_{1,max}\\) \u00e9s \\(s_{1,min}\\) k\u00f6z\u00f6tt) keress\u00fck azt az egy\u00fctthat\u00f3 halmazt, amelyre \\(\\(J\\)\\) k\u00f6lts\u00e9gf\u00fcggv\u00e9ny a legkisebb. Hogyan v\u00e1lasszuk meg a \\(J\\) f\u00fcggv\u00e9nyt? Erre Werling \u00e9s mtsai. a k\u00f6vetkez\u0151 formul\u00e1t aj\u00e1nlj\u00e1k:</p> \\[ C_{d} = k_{j}J_{t}(d(t)) + k_{t}T + k_{d}(d_{1})^{2} \\] <p>Ahol \\(T = \\dfrac{s_{1}}{v_{x}}\\) a trajekt\u00f3ria hossza id\u0151ben kifejezve, \\(J_{t}\\) az \u00fan. jerk (magyarul r\u00e1nt\u00e1s) az oldalir\u00e1ny\u00fa gyorsul\u00e1s deriv\u00e1ltja, \\(d_{1}\\) a v\u00e9gs\u0151 pontban a t\u00e1vols\u00e1g a referencia vonalt\u00f3l. Mi ezt \\(d_{1}=0\\) \u00e9rt\u00e9kre v\u00e1lasztottuk, \u00edgy ez a tag kiesik. </p>"},{"location":"tervezes/#hossziranyu-tervezes","title":"Hosszir\u00e1ny\u00fa tervez\u00e9s","text":"<p>A hosszir\u00e1ny\u00fa tervez\u00e9s hasonl\u00f3an m\u0171k\u00f6dhet, mint a keresztir\u00e1ny\u00fa. Ebben az esetben a glob\u00e1lis trajekt\u00f3ria felfoghat\u00f3 \u00fagy, mint c\u00e9lsebess\u00e9gek sorozata az \u00fatvonal ment\u00e9n. Ezzel szemben a lok\u00e1lis trajekt\u00f3ria a helyi viszonyoknak megfelel\u0151 t\u00e9nyleges sebess\u00e9g megtervez\u00e9se. Figyelembe vessz\u00fck m\u00e1sik objektumok mozg\u00e1s\u00e1t, a c\u00e9l j\u00e1rm\u0171kinetik\u00e1t, a sebess\u00e9ghat\u00e1rokat...stb. Ennek szeml\u00e9ltet\u00e9se l\u00e1that\u00f3 a 4. \u00e1br\u00e1n. L\u00e1that\u00f3, hogy norm\u00e1l esetben a maxim\u00e1lis sebess\u00e9get tartjuk. Amikor pl. utol\u00e9r\u00fcnk egy m\u00e1sik j\u00e1rm\u0171vet ami el\u0151tt\u00fcnk halad, f\u00e9kez\u00fcnk, \u00e9s felvessz\u00fck ennek a j\u00e1rm\u0171nek a sebess\u00e9g\u00e9t. A f\u00e9kez\u00e9s sor\u00e1n olyan sebess\u00e9gprofilt tervez\u00fcnk, hogy biztosan kell\u0151 t\u00e1vols\u00e1got tudjunk tartani a m\u00e1sik j\u00e1rm\u0171t\u0151l, ne f\u00e9kezz\u00fcnk hirtelen de ne is t\u00fal hamar. Majd a m\u00e1sik j\u00e1rm\u0171vet \u00fagy k\u00f6vetj\u00fck, hogy ezt a t\u00e1vols\u00e1got (bizonyos hat\u00e1ron bel\u00fcl) tartsuk. Amikor enn\u00e9l is lassabb j\u00e1rm\u0171vet l\u00e1tunk (pl. biciklis) tov\u00e1bb cs\u00f6kkentj\u00fck a sebess\u00e9get, ha ez az akad\u00e1ly elt\u0171nt el\u0151l\u00fcnk, visszagyors\u00edtunk a megengedett sebess\u00e9gre. Mindig figyelembe vessz\u00fck a saj\u00e1t gyors\u00edt\u00e1si \u00e9s lass\u00edt\u00e1si preferenci\u00e1nkiat. </p> <p> 4. \u00c1bra: lok\u00e1lis sebess\u00e9gtrajekt\u00f3ria szeml\u00e9ltet\u00e9se</p> <p>L\u00e1that\u00f3, hogy a keresztir\u00e1ny\u00fa tervez\u00e9shez hasonl\u00f3 felt\u00e9telek k\u00f6z\u00f6tt kell a lehet\u0151 legjobb profilt megtervezni. Ez szint\u00e9n egy optimaliz\u00e1ci\u00f3s probl\u00e9ma. Werling \u00e9s mtsai. ebben az eseben is egy \u00f6t\u00f6dfok\u00fa polinomot aj\u00e1nlanak a c\u00e9lsebess\u00e9g f\u00fcggv\u00e9ny\u00e9re, azaz:</p> \\[ v(s(t)) = c_{0} + c_{1}s + c_{2}s^2+c_3s^3+c_4s^4+c_5s^5 \\] <p>A mechanizmus ugyanaz: 6 peremfelt\u00e9telt fogalmazunk meg \u00e9s ezek seg\u00edts\u00e9g\u00e9vel trajekt\u00f3ri\u00e1kat tervez\u00fcnk. A legkisebb k\u00f6lts\u00e9g\u0171t v\u00e1lasztjuk ki. M\u00e1sik j\u00e1rm\u0171 k\u00f6vet\u00e9se eset\u00e9ben a v\u00e9gfelt\u00e9telek a k\u00f6vetkez\u0151k:</p> \\[ [s_1\\ \\dot{s_1}\\ \\ddot{s_1}\\ T] = [(s_{target}(T_j)+\\delta s_i),\\ \\dot{s}_{target}(T_j),\\ {\\ddot{s}}_{target}(T_j),\\ T_j] \\] <p>A kezdeti felt\u00e9telek pedig:</p> \\[ [s_0\\ \\dot{s_0}\\ \\ddot{s_0}\\ T] = [s_{target}(0),\\ \\dot{s}_{ego}(0),\\ {\\ddot{s}}_{ego}(0),\\ 0] \\] <p>Azaz a kezdeti felt\u00e9telek adottak az objektum t\u00e1vols\u00e1g\u00e1b\u00f3l, illetve a saj\u00e1t j\u00e1rm\u0171v\u00fcnk sebess\u00e9g\u00e9b\u0151l \u00e9s gyorsul\u00e1s\u00e1b\u00f3l. Egy ilyen tervez\u00e9si ciklus \u00f6sszes trajekt\u00f3ri\u00e1ja az 5. \u00e1br\u00e1n l\u00e1that\u00f3. A feket\u00e9k az \u00e9rv\u00e9nyes trajekt\u00f3ri\u00e1k, a sz\u00fcrk\u00e9k az \u00e9rv\u00e9nytelenek (pl. t\u00fal nagy gyorsul\u00e1s), a k\u00e9k az objektum mozg\u00e1sa, a z\u00f6ld az optim\u00e1lis trajekt\u00f3ria. A k\u00f6lts\u00e9g f\u00fcggv\u00e9ny lehet a k\u00f6vetkez\u0151:</p> \\[ C_t = k_jJ_t + k_tT+k_s[s_1-s_d]^2 \\] <p>Ahol \\(J_t\\) a trajekt\u00f3ria befut\u00e1sa sor\u00e1n tapasztalt \u00e1tlagos jerk (azaz r\u00e1nt\u00e1s), \\(T\\) a trajekt\u00f3ria hossza id\u0151ben \\(s_1-s_d\\) a trajekt\u00f3ria v\u00e9g\u00e9n a t\u00e1vols\u00e1g az objektumt\u00f3l. A \\(k\\) t\u00e9nyez\u0151k a s\u00falyok.</p> <p> 5. \u00c1bra: sebess\u00e9gtrajekt\u00f3ria tervez\u00e9se, forr\u00e1s: [1]</p>"},{"location":"tervezes/#ros-2-megoldasok","title":"ROS 2 megold\u00e1sok","text":""},{"location":"tervezes/#nav2","title":"Nav2","text":"<p>A Nav2 az ROS Navigation Stack t\u00e1mogatott szellemi ut\u00f3dja, amely ugyanazt a technol\u00f3gi\u00e1t alkalmazza, amely p\u00e9ld\u00e1ul a mobil robotik\u00e1ra, auton\u00f3m j\u00e1rm\u0171vekre alkalmazhat\u00f3, optimaliz\u00e1lt \u00e9s \u00e1tdolgozott megold\u00e1sok gy\u0171jtem\u00e9nye. A Nav2 projekt arra t\u00f6rekszik, hogy megtal\u00e1lja a biztons\u00e1gos m\u00f3dot arra, hogy egy mobil robot bonyolult feladatokat hajtson v\u00e9gre sokf\u00e9le k\u00f6rnyezeten \u00e9s robotkinematikai oszt\u00e1lyon kereszt\u00fcl. Nemcsak mozoghat A pontb\u00f3l B pontba, de lehetnek k\u00f6zbens\u0151 p\u00f3zok (poz\u00edci\u00f3 + orient\u00e1ci\u00f3) is, \u00e9s m\u00e1s t\u00edpus\u00fa feladatokat is k\u00e9pviselhet, p\u00e9ld\u00e1ul objektumk\u00f6vet\u00e9st, teljes lefedetts\u00e9g-navig\u00e1ci\u00f3t stb. A Nav2 egy gy\u00e1rt\u00e1si szint\u0171 \u00e9s j\u00f3 min\u0151s\u00e9g\u0171 navig\u00e1ci\u00f3s keretrendszer, amelyben vil\u00e1gszerte t\u00f6bb mint 50 v\u00e1llalat b\u00edzik meg.</p> <p>A Nav2 architekt\u00fara \u00e1ttekint\u00e9se: </p>"},{"location":"tervezes/#autoware-tervezo","title":"Autoware tervez\u0151","text":"<p>Szint\u00e9n ROS 2 t\u00e1mogatott az Autoware keretrendszer tervez\u0151 (planning) komponense. Az Autoware tervez\u00e9s komponens f\u0151 funkci\u00f3ja, hogy l\u00e9trehozza azt a trajekt\u00f3ri\u00e1t, amelyre a Szab\u00e1lyz\u00e1s (control) komponens feliratkozik a Lokaliz\u00e1ci\u00f3 (Localization) \u00e9s az \u00c9szlel\u00e9s (Perception) komponensekb\u0151l kapott k\u00f6rnyezeti \u00e1llapot alapj\u00e1n.</p> <p></p>"},{"location":"tervezes/#irodalomjegyzek","title":"Irodalomjegyz\u00e9k","text":"<ul> <li><code>[1]</code> Moritz Werling, Julius Ziegler, S\u00f6ren Kammel, and Sebastian Thrun: Optimal Trajectory Generation for Dynamic Street Scenarios in a Fren\u00e9t Frame, 2010 IEEE International Conference on Robotics and Automation, Anchorage Convention District, May 3-8, 2010, Anchorage, Alaska, USA, pp. 987-993</li> <li><code>[2]</code> github.com/ai-winter/ros_motion_planning: ROS 1, de tervezetten ROS 2 Glob\u00e1lis tervez\u0151k: Dijkstra, A-star, D-star, RRT, Informed-RRT, GBFS Lok\u00e1lis tervez\u0151k: LQR (Linear\u2013quadratic regulator), DWA (Dynamic Window Approach), APF, RPP, TEB (Timed Elastic Band)</li> </ul>"},{"location":"tervezes/#tovabbi-cikkek","title":"Tov\u00e1bbi cikkek","text":"<p>A bemutatott algoritmusokhoz tartoz\u00f3 cikkek \u00e9s python_motion_planning repository-b\u00f3l kigy\u0171jt\u00f6tt cikkek gy\u0171tem\u00e9nye:</p>"},{"location":"tervezes/#globalis-tervezok","title":"Glob\u00e1lis tervez\u0151k","text":"<ul> <li>A* - A-star: A Formal Basis for the heuristic Determination of Minimum Cost Paths</li> <li>Modified A-Star: Efficient and optimal penetration path planning for stealth unmanned aerial vehicle using minimal radar cross-section tactics and modified A-Star algorithm</li> <li>Lifelong Planning A*: Lifelong Planning A*</li> <li>D* - D-star: Optimal and Efficient Path Planning for Partially-Known Environments</li> <li>D* Lite: D* Lite</li> <li>JPS: Online Graph Pruning for Pathfinding On Grid Maps</li> <li>Theta*: Theta*: Any-Angle Path Planning on Grids</li> <li>Lazy Theta*: Lazy Theta*: Any-Angle Path Planning and Path Length Analysis in 3D</li> <li>S-Theta*: S-Theta*: low steering path-planning algorithm</li> <li>RRT: Rapidly-Exploring Random Trees: A New Tool for Path Planning</li> <li>RRT-Connect: RRT-Connect: An Efficient Approach to Single-Query Path Planning</li> <li>RRT*: Sampling-based algorithms for optimal motion planning</li> <li>Informed RRT*: Optimal Sampling-based Path Planning Focused via Direct Sampling of an Admissible Ellipsoidal heuristic</li> <li>ACO: Ant Colony Optimization: A New Meta-Heuristic</li> </ul>"},{"location":"tervezes/#lokalis-tervezok","title":"Lok\u00e1lis tervez\u0151k","text":"<ul> <li>DWA: The Dynamic Window Approach to Collision Avoidance</li> <li>APF:Real-time obstacle avoidance for manipulators and mobile robots</li> <li>RPP:Regulated Pure Pursuit for Robot Path Tracking</li> </ul>"},{"location":"tervezes/planning_control_diagram/","title":"Planning control diagram","text":"<pre><code>flowchart LR\n\nGP1[Global planning\n  Inputs:\n  - Driver/User selection\n  -Mapdata\n  Output:\n  -Routeplan\n  Goal: to plan a global \n  route which leads from A\n  to B, considering e.g., \n  trafficdata,fuel\n  consumption\u2026 etc.]:::light \nGP2[I want to get \n  from address A \n  to address B \n  with a robotaxi]:::dark\n\nBP1[Behavior planning\n    Inputs:\n    -Route plan\n    -Perception info of\n    the surroundings\n    Output:\n    -Behavior strategy \n    Goal: \n    plan how the \n    vehicle should \n    behave in terms of \n    decisions and motion \n    characteristics\n]:::light \n\nBP2[I want to follow the\nmiddle lane then\n change to the inner\n lane smoothly]:::dark\n\nLP1[\n    Local planning\n    Inputs:\n    -Behavior strategy\n    -Planning constraints\n    Output:\n    -Local trajectory\n    Goal: plan a \n    kinematicly feasible,\n    safe and preferred\n    trajectory]:::light \nLP2[I plan a trajectory\nwithin the lane to be\nsafe and then a\nsmooth trajectory to\nthe inner lane]:::dark\n\n\nVC1[ Vehicle Control \n    High level control\n    Inputs:\n    -Local trajectory\n    -Vehicle state variables\n    -Localization info \n    Outputs:\n    -Vehicle level target \n    quantities\n    -Control constraints \n    Goal: calculate the\n    vehicle target state to \n    be controlled by the\n    low level controllers]:::light \nVC2[ I calculate the\n necessary speed and \n yaw rate of the \n vehicle to follow the \n local trajectory]:::dark\n\n\nAC1[ Actuator Control\nLow  level control\nInputs:\n-Vehicle level target \nquantities\n-Control constraints\n-Actuator state variables\nOutput:\n-Actuator target states \nGoal: realize vehicle \nmotion through \ncontrolling the \nactuators]:::light \nAC2[ I calculate the \nnecessary engine \ntorque and steering\nangle to realize the \nplanned motion\u2019]:::dark\n\n\nsubgraph Plan [Planning]\n  GP1\n  BP1\n  LP1\nend\nsubgraph Control [Control]\n  VC1\n  AC1\nend\nGP1--&gt;BP1--&gt;LP1--&gt;VC1--&gt;AC1\nGP2-.-BP2-.-LP2-.-VC2-.-AC2\n\n\n\nclassDef light fill:#34aec5,stroke:#152742,stroke-width:2px,color:#152742  \nclassDef dark fill:#152742,stroke:#34aec5,stroke-width:2px,color:#34aec5\nclassDef white fill:#ffffff,stroke:#152742,stroke-width:2px,color:#152742\nclassDef red fill:#ef4638,stroke:#152742,stroke-width:2px,color:#fff\n</code></pre>"},{"location":"tervezes/practice/","title":"<code>1.</code> feladat","text":"<p>Ebben a feladatban az elm\u00e9leti \u00f3r\u00e1n bemutatott polinom alap\u00fa lok\u00e1lis tervez\u0151 megval\u00f3s\u00edt\u00e1s\u00e1t fogjuk bemutatni. Ehhez els\u0151k\u00e9nt friss\u00edts\u00fck az arj_packages repository-t!</p>"},{"location":"tervezes/practice/#clone-es-build","title":"Clone \u00e9s build","text":"<p><pre><code>cd ~/ros2_ws/src/arj_packages/\n</code></pre> <pre><code>git pull\n</code></pre> Ezek ut\u00e1n buildelj\u00fck az arj_local_planner nev\u0171 package-t!</p> <p><pre><code>cd ~/ros2_ws\n</code></pre> <pre><code>colcon build --packages-select arj_local_planner\n</code></pre></p>"},{"location":"tervezes/practice/#futtatas","title":"Futtat\u00e1s","text":"<p>Ezek ut\u00e1n futtassuk a planner-t a launch f\u00e1jl seg\u00edts\u00e9g\u00e9vel, source-ol\u00e1s ut\u00e1n.</p> <p><pre><code>source ~/ros2_ws/install/setup.bash\n</code></pre> <pre><code>ros2 launch arj_local_planner run_all.launch.py\n</code></pre></p> <p>N\u00e9zz\u00fck meg, milyen topicok j\u00f6ttek l\u00e9tre (\u00faj termin\u00e1lban)!</p> <pre><code>ros2 topic list\n</code></pre> <p>L\u00e9trej\u00f6tt a /goal_pose topic illetve a /planner/trajectory topic. A goal_pose az a c\u00e9lpoz\u00edci\u00f3, amelyre a tervez\u0151 tervez, a planner/trajectory pedig a waypoint list, maga a tervezett trajekt\u00f3ria. Ind\u00edts\u00fcnk egy rviz-t!</p> <pre><code>ros2 run rviz2 rviz2\n</code></pre> <p>V\u00e1lasszuk ki a map frame-t, illetve adjuk hozz\u00e1 a /planner/trajectory topicot. Ezek ut\u00e1n a fenti s\u00e1vb\u00f3l a 2D Goal Pose opci\u00f3t haszn\u00e1lva vegy\u00fcnk fel egy goal pose-t a griden \u00fagy, hogy az a pozit\u00edv koordin\u00e1t\u00e1k ir\u00e1ny\u00e1ban helyezkedjen el! Ekkor a tervez\u0151 automatikusan r\u00e1illeszt egy polinomot a c\u00e9lpoz\u00edci\u00f3ra.</p> <p></p> <p>Ezt az egyszer\u0171 tervez\u0151t haszn\u00e1lhatjuk pl. mozg\u00f3 c\u00e9lpontra (m\u00e1sik j\u00e1rm\u0171, s\u00e1v k\u00f6zepe, glob\u00e1lis trajekt\u00f3ria egy pontja...stb) illetve statikus c\u00e9lpontra (pl. parkol\u00f3hely).</p>"},{"location":"tervezes/practice/#2-feladat","title":"<code>2.</code> feladat","text":"<p>A m\u00e1sodik feladat a ROS 2 Navigation stack-j\u00e9nek be\u00fczemel\u00e9se szimul\u00e1torban, \u00fcres p\u00e1ly\u00e1n. R\u00e9szletes dokument\u00e1ci\u00f3 a navigation.ros.org oldalon.</p>"},{"location":"tervezes/practice/#clone-es-build_1","title":"Clone \u00e9s build","text":"<p><pre><code>cd ~/ros2_ws/src\n</code></pre> <pre><code>git clone https://github.com/rosblox/nav2_outdoor_example\n</code></pre></p> <p><pre><code>cd ~/ros2_ws\n</code></pre> <pre><code>rosdep install -y --from-paths src --ignore-src --rosdistro $ROS_DISTRO\n</code></pre></p> <p><pre><code>cd ~/ros2_ws\n</code></pre> <pre><code>colcon build --packages-select nav2_outdoor_example\n</code></pre></p>"},{"location":"tervezes/practice/#futtatas_1","title":"Futtat\u00e1s","text":"<p><pre><code>source ~/ros2_ws/install/setup.bash\n</code></pre> <pre><code>ros2 launch nav2_outdoor_example bringup.launch.py\n</code></pre></p>"},{"location":"tervezes/practice/#3-feladat","title":"<code>3.</code> feladat","text":"<p>A harmadik feladat a ROS 2 Navigation stack-j\u00e9nek be\u00fczemel\u00e9se szimul\u00e1torban, a turlebot egyik p\u00e1ly\u00e1j\u00e1n. R\u00e9szletes dokument\u00e1ci\u00f3 a navigation.ros.org oldalon.</p> <p>Vide\u00f3 direkt link</p> <p>Megjegyz\u00e9s: el\u0151fordulhat, hogy az <code>ign_ros_control</code> package m\u00e1sik feladatban is buildelt package, ha ez m\u00e1r l\u00e9tezik, akkor a build / apt install kihagyhat\u00f3. A helyek, ahol ez lehets\u00e9ges, hogy megtal\u00e1lhat\u00f3: <pre><code>ros2_ws/src/gz_ros2_control/ign_ros2_control\nros2_ws/src/navigation2_ignition_gazebo_example/src/gz_ros2_control/ign_ros2_control\n/opt/ros/humble/share/ign_ros2_control\n</code></pre></p>"},{"location":"tervezes/practice/#clone-es-build_2","title":"Clone \u00e9s build","text":"<pre><code>sudo apt install ros-humble-navigation2 ros-humble-nav2-bringup ros-humble-turtlebot3-gazebo\n</code></pre> <p><pre><code>cd ~/ros2_ws/src\n</code></pre> <pre><code>git clone https://github.com/ros-controls/gz_ros2_control\n</code></pre> <pre><code>git clone https://github.com/art-e-fact/navigation2_ignition_gazebo_example\n</code></pre> <pre><code>cd ~/ros2_ws/src/gz_ros2_control\n</code></pre> <pre><code>git checkout humble\n</code></pre> <pre><code>cd ~/ros2_ws\n</code></pre> <pre><code>rosdep install -y --from-paths src --ignore-src --rosdistro humble\n</code></pre></p> <p><pre><code>cd ~/ros2_ws\n</code></pre> <pre><code>colcon build --packages-select sam_bot_nav2_gz\n</code></pre></p>"},{"location":"tervezes/practice/#futtatas_2","title":"Futtat\u00e1s","text":"<p>Gazebo, RViz2 \u00e9s Navigation2 <pre><code>source ~/ros2_ws/install/setup.bash\n</code></pre> <pre><code>ros2 launch sam_bot_nav2_gz complete_navigation.launch.py\n</code></pre></p> <p>C\u00e9lpont kijel\u00f6l\u00e9se RViz2-ben: <pre><code>source ~/ros2_ws/install/setup.bash\n</code></pre> <pre><code>ros2 run sam_bot_nav2_gz follow_waypoints.py\n</code></pre> <pre><code>source ~/ros2_ws/install/setup.bash\n</code></pre> <pre><code>ros2 run sam_bot_nav2_gz reach_goal.py\n</code></pre></p> <p></p> <p></p> <p></p>"},{"location":"tervezes/practice/#navigacio","title":"Navig\u00e1ci\u00f3","text":""},{"location":"tervezes/practice/#sources","title":"Sources","text":"<ul> <li>navigation.ros.org/getting_started/index.html</li> <li>navigation.ros.org</li> <li>github.com/ros-controls/gz_ros2_control</li> <li>github.com/art-e-fact/navigation2_ignition_gazebo_example</li> </ul>"},{"location":"transzformaciok/","title":"Bevezet\u00e9s","text":"<p>ROS-ben (\u00e9s \u00e1latal\u00e1ban robotik\u00e1ban) a transformok hat\u00e1rozz\u00e1k meg a hogy, mi merre tal\u00e1lhat\u00f3 az adott vonatkozat\u00e1si pontt\u00f3l (frame). T\u00f6bb transzform le\u00edrhatja p\u00e9ld\u00e1ul egy robotkar mozg\u00e1s\u00e1t vagy \u00e9pp egy j\u00e1rm\u0171 \u00e9s szenzorai helyzet\u00e9t a t\u00e9rben.</p>"},{"location":"transzformaciok/#merev-test-mozgasa","title":"Merev test mozg\u00e1sa","text":"<p>Merevnek tekinthet\u0151 az a test, mely pontjainak t\u00e1vols\u00e1ga mozg\u00e1s sor\u00e1n nem v\u00e1ltozik, vagyis b\u00e1rmely k\u00e9t pontj\u00e1nak t\u00e1vols\u00e1ga id\u0151ben \u00e1lland\u00f3.</p> <ul> <li>Merev test alakja, t\u00e9rfogata \u00e1lland\u00f3.</li> <li>Merev test t\u00e9rbeli helyzete megadhat\u00f3 b\u00e1rmely 3 nem egy egyenesbe es\u0151 pontj\u00e1nak helyzet\u00e9vel.</li> <li>A test helyzet\u00e9t szeml\u00e9letesebben megadhatjuk egy tetsz\u0151leges pontj\u00e1nak 3 koordin\u00e1t\u00e1j\u00e1val (poz\u00edci\u00f3) \u00e9s a test orient\u00e1ci\u00f3j\u00e1val.</li> <li>Merev testek mozg\u00e1sai k\u00e9t elemi mozg\u00e1sfajt\u00e1b\u00f3l tev\u0151dnek \u00f6ssze: halad\u00f3 mozg\u00e1s (transzl\u00e1ci\u00f3) \u00e9s tengely k\u00f6r\u00fcli forg\u00e1s (rot\u00e1ci\u00f3)</li> <li>Transzl\u00e1ci\u00f3s mozg\u00e1s sor\u00e1n a test minden pontja egym\u00e1ssal p\u00e1rhuzamos, egybev\u00e1g\u00f3 p\u00e1ly\u00e1t \u00edr le, a test orient\u00e1ci\u00f3ja pedig nem v\u00e1ltozik.</li> <li>Rot\u00e1ci\u00f3  sor\u00e1n a forg\u00e1stengelyen l\u00e9v\u0151 pontok poz\u00edci\u00f3ja nem v\u00e1ltozik, a test t\u00f6bbi pontja pedig a forg\u00e1stengelyre mer\u0151leges s\u00edkokban k\u00f6rp\u00e1ly\u00e1n mozog.</li> </ul> <p></p> <p>Rot\u00e1ci\u00f3 szeml\u00e9ltet\u00e9se Forr\u00e1s: University of Illinois</p> <p>Az al\u00e1bbiakban egy r\u00f6vid (~9 perc), de hasznos vide\u00f3 l\u00e1that\u00f3 a t\u00e9m\u00e1r\u00f3l:</p>"},{"location":"transzformaciok/#transzformaciok","title":"Transzform\u00e1ci\u00f3k","text":"<p>A pose (p\u00f3z) a poz\u00edci\u00f3 (elhelyezked\u00e9s) \u00e9s orient\u00e1ci\u00f3 (ir\u00e1ny) \u00f6sszess\u00e9ge. Amennyiben egy t\u00e9rbeli pose-t transzform\u00e1lunk (mozgatunk \u00e9s forgatunk) egy m\u00e1sik pose keletkezik. Ez a k\u00e9t pose egym\u00e1shoz k\u00e9pest k\u00e9t transzform\u00e1ci\u00f3s frame. Ilyen transzform\u00e1ci\u00f3s frame-k \u00edrj\u00e1k le a teljes robotikai rendszert.</p> <ul> <li>Poz\u00edci\u00f3: 3 elem\u0171 offszet vektor (<code>x</code>, <code>y</code> \u00e9s <code>z</code> 3D-ben).</li> <li>Orient\u00e1ci\u00f3: t\u00f6bb reprezent\u00e1ci\u00f3t haszn\u00e1lhatunk:</li> <li>4 elem\u0171 quaternion (err\u0151l k\u00e9s\u0151bb)</li> <li>3 elem\u0171 Euler-sz\u00f6gek: roll (d\u0151l\u00e9s, gurul\u00e1s, \u03c8): pitch (b\u00f3lint\u00e1s, \u03b8), yaw (legyez\u0151mozg\u00e1s, \u03c6) wolfram alpha</li> <li>3 x 3 elem\u0171 rot\u00e1ci\u00f3s matrix</li> </ul> <p>P\u00e9ld\u00e1ul a Nissan Leaf <code>base_link</code> framej\u00e9hez k\u00e9pest a k\u00f6vetkez\u0151 fontosabb framek tal\u00e1lhat\u00f3ak meg:</p> <p> Frame-k a j\u00e1rm\u0171v\u00f6n</p> <p>P\u00e9ld\u00e1ul a j\u00e1rm\u0171ves \u00e9s mobil robotos k\u00f6rnyezetben gyakran szeretn\u00e9nk tartani magunkat ahhoz a konvenci\u00f3hoz, hogy a glob\u00e1lis t\u00e9rk\u00e9pet <code>map</code> frame-nek, a j\u00e1rm\u0171 / robot h\u00e1ts\u00f3 tengely\u00e9t <code>base_link</code>-nek h\u00edvjuk. A <code>map</code> \u00e9s a <code>base_link</code> k\u00f6z\u00f6tti megfeleltet\u00e9s t\u00f6rt\u00e9nehet GPS, NDT matching, K\u00e1lm\u00e1n filter, odometria \u00e9s sz\u00e1mos tov\u00e1bbi m\u00f3don. Ezt a k\u00f6vetez\u0151 p\u00e9lda szeml\u00e9lteti:</p> <pre><code>\ngraph TD\n    %% Define first column\n        direction TB\n        map1([  /map]):::light\n        gps([ /gps]):::light\n        base_link1([ /base_link]):::light\n        velodyne_left([ /velodyne_left]):::light\n        zed_front([ /zed_front]):::light\n        laser([ /laser]):::light\n\n        %% Connections for the first column\n        map1 -.-&gt;|dynamic| gps\n        gps --&gt;|static| base_link1\n        base_link1 --&gt;|static| velodyne_left\n        base_link1 --&gt;|static| zed_front\n        base_link1 --&gt;|static| laser\n\n    %% Define second column\n        direction TB\n        map2([ /map]):::light\n        ndt_map([ ndt_map]):::light\n        base_link2([ base_link]):::light\n        sensor_a([ sensor_a]):::light\n        sensor_b([ sensor_b]):::light\n\n        %% Additional sensors can be represented by dots\n        dots2([ ...]):::light\n\n        %% Connections for the second column\n        map2 -.-&gt;|dynamic| ndt_map\n        ndt_map --&gt; base_link2\n        base_link2 --&gt; sensor_a\n        base_link2 --&gt; sensor_b\n        base_link2 --&gt; dots2\n\n    %% Define third column\n        direction TB\n        map3([ lexus3/map]):::light\n        kalman_f([ lexus3/kalman_f]):::light\n        base_link3([ lexus3/base_link]):::light\n\n        %% Representing additional connections with dots\n        dots3a([ lexus3/...]):::light\n        dots3b([ lexus3/...]):::light\n        dots3c([ lexus3/...]):::light\n        dots3d([ lexus3/...]):::light\n\n        %% Connections for the third column\n        map3 -.-&gt;|dynamic| kalman_f\n        kalman_f --&gt; base_link3\n        base_link3 --&gt; dots3a\n        base_link3 --&gt; dots3b\n        base_link3 --&gt; dots3c\n        dots3c --&gt; dots3d\n\nclassDef light fill:#34aec5,stroke:#152742,stroke-width:2px,color:#152742  \nclassDef dark fill:#152742,stroke:#34aec5,stroke-width:2px,color:#34aec5\nclassDef white fill:#ffffff,stroke:#152742,stroke-width:2px,color:#152742\nclassDef red fill:#ef4638,stroke:#152742,stroke-width:2px,color:#fff</code></pre> <p> P\u00e9lda TF tree</p> <p>GPS haszn\u00e1lata eset\u00e9n nagyvonalakban a k\u00f6vetkez\u0151 p\u00e9lda alapj\u00e1n kell elk\u00e9pzelni a frameket. A <code>map</code> a glob\u00e1lis t\u00e9rk\u00e9p, viszont a <code>gps</code> helyzet\u00e9t is tudjuk ehhez k\u00e9pest. (Megjegyz\u00e9s: a <code>2020.A</code> senzor \u00f6ssze\u00e1ll\u00edt\u00e1sban 2 GPS is van, ezek k\u00f6l\u00f6nb\u00f6z\u0151 helyen tal\u00e1lhat\u00f3ak, m\u00e9rni tudnak p\u00e1rhuzamosan, de csak egy transzform hat\u00e1rozhatja meg a <code>base_link</code> helyzet\u00e9t. Ezt az 1. \u00e1br\u00e1n a szaggatott nyilak jelzik.) Innen m\u00e1r egy tov\u00e1bbi (statikus) transzform\u00e1ci\u00f3val kaphat\u00f3 a <code>base_link</code> (a h\u00e1ts\u00f3 tengely). Tov\u00e1bbi statikus transzform\u00e1ci\u00f3kkal kaphat\u00f3k a szenzorok a p\u00e9ld\u00e1ban a <code>left_os1/os1_sensor</code> l\u00e1that\u00f3.</p> <p> A TF tree 2d koordin\u00e1tarendszerben, vizu\u00e1lis p\u00e9lda</p> <p>A transformok a <code>tf</code> topicaban hirdet\u0151dnek, azonban p\u00e9ld\u00e1ul az MPC szab\u00e1lyz\u00f3 egy <code>current_pose</code> nev\u0171 topicot haszn\u00e1l a szab\u00e1lyz\u00e1s megval\u00f3s\u00edt\u00e1s\u00e1hoz. Ezt \u00fagy oldottuk meg, hogy a <code>base_link</code> frame \u00e9rt\u00e9keit <code>current_pose</code> topic-k\u00e9nt is hirdetj\u00fck. A frame transzl\u00e1ci\u00f3ja a topic poz\u00edc\u00f3ja, illetve a frame rot\u00e1ci\u00f3ja a topic orient\u00e1ci\u00f3ja.</p> <p>Nagy transzformokn\u00e1l az RVIZ megjelen\u00edt\u0151je nem m\u0171k\u00f6dik pontosan (https://github.com/ros-visualization/rviz/issues/502). Mivel az ROS SI m\u00e9rt\u00e9kegys\u00e9geket haszn\u00e1l, \u00edgy m\u00e9tert is, a GPS eset\u00e9n c\u00e9lszer\u0171 az UTM (wikipedia-utm) koordin\u00e1tarendszer haszn\u00e1lata. Ez \u00e9rtelemszer\u0171en nagy \u00e9rt\u00e9k\u0171 koorin\u00e1t\u00e1kkal sz\u00e1mol. Ahhoz, hogy ezt az ellentmond\u00e1st feloldjuk c\u00e9lszer\u0171 kisebb traszformokat megjelen\u00edteni. \u00cdgy p\u00e9ld\u00e1ul Gy\u0151rh\u00f6z (<code>map_gyor_0</code>) \u00e9s Zal\u00e1hoz (<code>map_zala_0</code>) egy fix statikus transformot, hirdetni, amihez k\u00e9pest m\u00e1r sz\u00e9pen m\u0171k\u00f6dik az RVIZ megjelen\u00edt\u0151je. A k\u00f6vetkez\u0151 \u00e1bra ezt szeml\u00e9lteti, illetve egy kicsit r\u00e9szletesebb szenzorrendszert mutat be.</p> <pre><code>graph TB\n    %% Define main components\n    map([ map]):::red\n    map_gyor_0([ map_gyor_0]):::dark\n    map_zala_0([ map_zala_0]):::dark\n    gps([ gps]):::light\n    base_link([ base_link]):::red\n\n    %% Define sensors and other components\n    velodyne_left([ velodyne_left]):::light\n    velodyne_right([ velodyne_right]):::light\n    laser([ laser]):::light\n    zed_camera_front([ zed_camera_front]):::light\n    duro_gps_imu([ duro_gps_imu]):::light\n\n    %% OS1 sensors and their subcomponents\n    left_os1_sensor([ left_os1/os1_sensor]):::light\n    left_os1_lidar([ left_os1/os1_lidar]):::light\n    left_os1_imu([ left_os1/os1_imu]):::light\n\n    right_os1_sensor([ right_os1/os1_sensor]):::light\n    right_os1_lidar([ ...]):::light\n    right_os1_imu([ ...]):::light\n\n    %% Connections among main components\n    map --&gt; map_gyor_0\n    map --&gt; map_zala_0\n    map ---&gt; gps\n    gps --&gt; base_link\n\n    %% Connections from base_link to sensors\n    base_link ---&gt; velodyne_left\n    base_link ---&gt; velodyne_right\n    base_link ---&gt; laser\n    base_link --&gt; zed_camera_front\n    base_link --&gt; duro_gps_imu\n    base_link ----&gt; left_os1_sensor\n    base_link ----&gt; right_os1_sensor\n\n    %% Connections for OS1 sensors\n    left_os1_sensor --&gt; left_os1_lidar\n    left_os1_sensor --&gt; left_os1_imu\n\n    right_os1_sensor --&gt; right_os1_lidar\n    right_os1_sensor --&gt; right_os1_imu\n\n\nclassDef light fill:#34aec5,stroke:#152742,stroke-width:2px,color:#152742  \nclassDef dark fill:#152742,stroke:#34aec5,stroke-width:2px,color:#34aec5\nclassDef white fill:#ffffff,stroke:#152742,stroke-width:2px,color:#152742\nclassDef red fill:#ef4638,stroke:#152742,stroke-width:2px,color:#fff</code></pre> <p> Az <code>rqt_tf_tree</code> \u00e1ltal megjelen\u00edtett TF fa</p> <p>Az \u00e1br\u00e1n csak a <code>map</code> <code>gps</code> transzform v\u00e1ltoz\u00f3, a t\u00f6bbi statikus. Statikus transzformot hirdetni launch f\u00e1jlban p\u00e9ld\u00e1ul a <code>/base_link</code> \u00e9s a <code>left_os1/os1_sensor</code> k\u00f6vetkez\u0151k\u00e9pp lehet (l\u00e1sd 3. \u00e1bra)</p> ROS 2ROS 1 <pre><code>Node(\n    package='tf2_ros',\n    executable='static_transform_publisher',\n    name='ouster_left_tf_publisher',\n    output='screen',\n    arguments=[\n        '--x',  '1.769',\n        '--y',  '0.58',\n        '--z',  '1.278',\n        '--roll', '3.1415926535', # or use math.pi\n        '--pitch', '0.0',\n        '--yaw', '0.0',\n        '--frame-id',      '/base_link',\n        '--child-frame-id','left_os1/os1_sensor'\n    ],\n),\n</code></pre> <pre><code>&lt;node \n  args=\"1.769 0.58 1.278 3.1415926535 0.0 0.0 /base_link left_os1/os1_sensor 50\"\n  name=\"ouster_left_tf_publisher\" \n  pkg=\"tf\" \n  type=\"static_transform_publisher\"\n/&gt; \n</code></pre> <p>Ugyanezek parancsk\u00e9nt kiadva termin\u00e1lb\u00f3l:</p> ROS 2ROS 1 <pre><code>ros2 run tf2_ros static_transform_publisher \\\n--x 1.769 --y 0.58 --z 1.278 \\\n--roll 0.0 --pitch 0.0 --yaw 3.1415926535 \\\n--frame-id left_os1/os1_sensor --child-frame-id base_link\n</code></pre> <pre><code>rosrun tf static_transform_publisher \\\n1.769 0.58 1.278 \\\n3.1415926535 0.0 0.0 \\\n/base_link left_os1/os1_sensor 50  \n</code></pre> <p>Itt az utols\u00f3 argumentum <code>ROS 1</code>-n\u00e9l 50 ms, teh\u00e1t 20 Hz-en hirdette a ugyanazt a transzform\u00e1ci\u00f3t. Ez nem a legszerencs\u00e9sebb, az <code>ROS 2</code> ebben is fejl\u0151d\u00f6tt, ott el\u00e9g egyszer hirdetni ugyanezt.</p> <p>P\u00e9lda a statikus transzform launch f\u00e1jlra: tf_static.launch</p>"},{"location":"transzformaciok/#matrix-szorzas","title":"M\u00e1trix szorz\u00e1s","text":"<p>A 3D  transzform\u00e1ci\u00f3 (de term\u00e9szetesen a 2D is) egy m\u00e1trix seg\u00edts\u00e9g\u00e9vel, eg\u00e9sz pontosan m\u00e1trisx szorz\u00e1ssal \u00edrhat\u00f3 le. P\u00e9ld\u00e1ul, ha egy objektumot elmozd\u00edtunk egy adott t\u00e1vols\u00e1gra, akkor azt egy forgat\u00f3m\u00e1trix seg\u00edts\u00e9g\u00e9vel \u00edrhatjuk le. A forgat\u00f3m\u00e1trix 3 dimenzi\u00f3ban egy 3x3-as m\u00e1trix, amely a forgat\u00e1s ir\u00e1ny\u00e1t \u00e9s m\u00e9rt\u00e9k\u00e9t hat\u00e1rozza meg. </p> <p>Forr\u00e1s: Robotic Systems, University of Illinois</p> <p>matrixmultiplication.xyz</p> <p>Python notebook</p> <p>Danger</p> <p>A python notebook-ot \u00e9s a m\u00e1trixszoz\u00e1s vizualiz\u00e1ci\u00f3t oktat\u00e1si c\u00e9llal linkelt\u00fck. ROS 2-ben rengeteg funkci\u00f3t ad a <code>tf2</code> \u00e9s kapcsol\u00f3d\u00f3 megold\u00e1sai, \u00edgy nem kell \"k\u00e9zzel\" transzl\u00e1ci\u00f3t \u00e9s rot\u00e1ci\u00f3t \u00edrni. Transzform\u00e1ci\u00f3kat p\u00e9ld\u00e1ul le lehet k\u00e9rdezni 2 frame k\u00f6z\u00f6tt an\u00e9lk\u00fcl is, hogy tudn\u00e1nk pontosan h\u00e1ny frame-n keresz\u00fcl kapcsol\u00f3dnak. Az ROS 2 ezt k\u00e9nyelmesen biztos\u00edtja. Err\u0151l b\u0151vebben itt lehet olvasni</p>"},{"location":"transzformaciok/#homogen-koordinatak","title":"Homog\u00e9n koordin\u00e1t\u00e1k","text":"<p>A homog\u00e9n koordin\u00e1t\u00e1k k\u00e9nyelmes reprezent\u00e1ci\u00f3t ny\u00fajtanak a merevtest transzform\u00e1ci\u00f3khoz, mint a line\u00e1ris transzform\u00e1ci\u00f3k egy kib\u0151v\u00edt\u00e9sek\u00e9nt a t\u00e9rben. R\u00e1ad\u00e1sul kompaktan reprezent\u00e1lj\u00e1k a helyzetf\u00fcgg\u0151 \u00e9s ir\u00e1nyf\u00fcgg\u0151 mennyis\u00e9gek k\u00f6z\u00f6tti k\u00fcl\u00f6nbs\u00e9get. Az \u00f6tlet az, hogy minden pontot kieg\u00e9sz\u00edt\u00fcnk egy tov\u00e1bbi homog\u00e9n koordin\u00e1t\u00e1val, amely 1, ha helyzetf\u00fcgg\u0151, \u00e9s 0, ha ir\u00e1nyf\u00fcgg\u0151. Ezt az m\u0171veletet a \"hat\" (kalap) oper\u00e1torral (<code>^</code>) jel\u00f6lj\u00fck.</p>"},{"location":"transzformaciok/#quaternion-kvaterniok","title":"Quaternion (kvaterni\u00f3k)","text":"<p>A roll pitch yaw (Euler sz\u00f6gek) alternat\u00edv\u00e1ja, a komplex sz\u00e1mokhoz hasonl\u00f3 kiterjeszt\u00e9ssel. </p> <p>Demonst\u00e1ci\u00f3: www.quaternions.online</p> <p>El\u0151nyei: - Numerikus stabilit\u00e1s:  A lebeg\u0151pontos reprezent\u00e1ci\u00f3b\u00f3l ad\u00f3d\u00f3 kis numerikus hib\u00e1k sokszor ism\u00e9tl\u0151dve egyre nagyobb hib\u00e1khoz vezethetnek Euler sz\u00f6gek eset\u00e9n. P\u00e9ld\u00e1ul egy forgat\u00e1s p\u00e1r sz\u00e1zad fokos pontatlans\u00e1ga ezrez vagy t\u00edzezres ism\u00e9tl\u00e9ssel komoly hib\u00e1v\u00e1 ad\u00f3dhat \u00f6ssze. Quaternion-okn\u00e1l ez a komlex reprezent\u00e1ci\u00f3 \u00e9s a norm\u00e1lt alak miatt sokkal kisebb. - Gyors sz\u00e1m\u00edt\u00e1s: A kvaterni\u00f3k hat\u00e9konyan reprezent\u00e1lj\u00e1k a 3D t\u00e9rbeli forgat\u00e1sokat, \u00e9s sokszor gyorsabbak \u00e9s stabilabbak lehetnek, mint m\u00e1s reprezent\u00e1ci\u00f3s m\u00f3dszerek, p\u00e9ld\u00e1ul Euler-sz\u00f6gek. - Pontoss\u00e1g: - Nem \u00e9rz\u00e9keny a \"Gimbal lock\" prbl\u00e9m\u00e1ra: Az Euler-sz\u00f6gek eset\u00e9ben el\u0151fordulhat egy olyan helyzet, amikor a rot\u00e1ci\u00f3k szenzit\u00edvekk\u00e9 v\u00e1lnak bizonyos ir\u00e1nyokban, ami korl\u00e1tozhatja a sz\u00e1m\u00edt\u00e1sok pontoss\u00e1g\u00e1t. A kvaterni\u00f3k ezt a probl\u00e9m\u00e1t elker\u00fclik. - K\u00f6nnyen interpol\u00e1lhat\u00f3k: A kvaterni\u00f3k seg\u00edts\u00e9g\u00e9vel k\u00f6nnyen lehet interpol\u00e1lni a k\u00e9t rot\u00e1ci\u00f3t k\u00f6z\u00f6tt\u00fck, ami fontos az anim\u00e1ci\u00f3k simas\u00e1g\u00e1nak meg\u0151rz\u00e9se szempontj\u00e1b\u00f3l. S\u0151t nem line\u00e1ris interpol\u00e1ci\u00f3khoz is haszn\u00e1lhat\u00f3k. A kvaterni\u00f3k lehet\u0151v\u00e9 teszik a nem line\u00e1ris interpol\u00e1ci\u00f3kat is, ami olyan anim\u00e1ci\u00f3k l\u00e9trehoz\u00e1s\u00e1hoz hasznos, ahol a rot\u00e1ci\u00f3 nem line\u00e1risan v\u00e1ltozik az id\u0151ben.</p> <p>H\u00e1tr\u00e1ny: - Nem intuit\u00edv az ember sz\u00e1m\u00e1ra: Nehezebben \u00e9rthet\u0151k, mint p\u00e9ld\u00e1ul az Euler-sz\u00f6gek, amiket megszoktunk a 3 tengely k\u00f6r\u00fcli forgat\u00e1sra.</p> \\[tan(\\frac{\\pi}{2}) = \\infty \\] <p><code>ROS 2</code>-ben p\u00e9ld\u00e1ul \u00edgy lehet \u00e1talak\u00edtani roll, pitch, yaw \u00e9rt\u00e9keket quaternion-ra.</p> <pre><code>#include &lt;tf2_geometry_msgs/tf2_geometry_msgs.hpp&gt;\ntf2::Quaternion tf2_quat;\ntf2_quat.setRPY(roll, pitch, yaw);\n</code></pre> <p>Tov\u00e1bbi inform\u00e1ci\u00f3 err\u0151l  itt olvashat\u00f3.</p>"},{"location":"transzformaciok/#konvenciok","title":"Konvenci\u00f3k","text":""},{"location":"transzformaciok/#koordinatarendszerek-gpsgnss","title":"Koordin\u00e1tarendszerek (GPS/GNSS)","text":"<p>A <code>WGS84</code> vagy World Geodetic System 1984 egy glob\u00e1lis referencia rendszer a t\u00e9rk\u00e9p\u00e9szetben, geolok\u00e1ci\u00f3ban, navig\u00e1ci\u00f3ban \u00e9s a GPS (Global Positioning System) rendszerben t\u00f6rt\u00e9n\u0151 haszn\u00e1latra. Ez egy szabv\u00e1nyos koordin\u00e1ta rendszer, amelyet a f\u00f6ldrajzi sz\u00e9less\u00e9g, hossz\u00fas\u00e1g \u00e9s tengerszint feletti magass\u00e1g megad\u00e1s\u00e1ra haszn\u00e1lnak. A f\u00f6ldrajzi sz\u00e9less\u00e9gi (latitude) k\u00f6r\u00f6k v\u00edzszintesen futnak, \u00e9s fokokban adj\u00e1k meg egy pont hely\u00e9t a F\u00f6ld felsz\u00edn\u00e9n az egyenl\u00edt\u0151t\u0151l (0 fok sz\u00e9less\u00e9g) \u00e9szakra vagy d\u00e9lre. A hossz\u00fas\u00e1gi k\u00f6r\u00f6k (longitude) f\u00fcgg\u0151legesen futnak, \u00e9s fokokban adj\u00e1k meg egy pont hely\u00e9t a F\u00f6ld felsz\u00edn\u00e9n a keleti vagy nyugati nullameridi\u00e1nt\u00f3l (0 fok hossz\u00fas\u00e1g). A nullameridi\u00e1n a 0 fok hossz\u00fas\u00e1g\u00e1n\u00e1l tal\u00e1lhat\u00f3, \u00e9s Londonon Greenwich v\u00e1rosr\u00e9sz\u00e9n kereszt\u00fcl halad. A hossz\u00fas\u00e1gi \u00e9rt\u00e9kek -180 fokt\u00f3l +180 fokig terjednek, az 180 fokn\u00e1l pedig az \u00c9szaki \u00e9s D\u00e9l-Keleti hossz\u00fas\u00e1gok \u00f6sszekapcsol\u00f3dnak. A m\u00e9r\u00e9sadat f\u00e1jl navsatfix topicja (sensor_msgs/msg/NavSatFix) ebben a form\u00e1tumban ker\u00fclt ment\u00e9sre. Ennek alternat\u00edv\u00e1ja az <code>UTM</code> vet\u00fcleti rendszer, amely nem fokokban, hanem m\u00e9terekben sz\u00e1mol. Az <code>UTM</code>, vagyis az Egyes\u00edtett T\u00e9rk\u00e9pi Projekci\u00f3 (Universal Transverse Mercator), egy t\u00e9rk\u00e9pi projekci\u00f3s rendszer, amelyet a t\u00e9rk\u00e9pek k\u00e9sz\u00edt\u00e9s\u00e9re \u00e9s a navig\u00e1ci\u00f3hoz haszn\u00e1lnak. A vil\u00e1g k\u00fcl\u00f6nb\u00f6z\u0151 z\u00f3n\u00e1it egy sor speci\u00e1lis hengert\u00e9rk\u00e9pen \u00e1br\u00e1zolj\u00e1k, ahol a hossz\u00fas\u00e1gi \u00e9s sz\u00e9less\u00e9gi vonalak egyenesek. Ahogy lejjebb l\u00e1that\u00f3, Magyarorsz\u00e1g 4 <code>UTM</code> z\u00f3n\u00e1ba esik: <code>33U</code>, <code>34U</code>, <code>33T</code> \u00e9s <code>34T</code>. Az UTM z\u00f3n\u00e1k 6 fokos sz\u00e9less\u00e9gi s\u00e1vokra oszlanak sz\u00e9t, ahol minden s\u00e1vban az \u00e1br\u00e1zol\u00e1s egy transzverz\u00e1lis Merk\u00e1tor-projekci\u00f3n alapul\u00f3 hengert\u00e9rk\u00e9pen t\u00f6rt\u00e9nik. Az UTM rendszer el\u0151nye, hogy egyszer\u0171 koordin\u00e1ta-rendszert biztos\u00edt, ami kis torzul\u00e1ssal rendelkezik a z\u00f3n\u00e1kon bel\u00fcl. Ez\u00e9rt sokszor haszn\u00e1lj\u00e1k katonai t\u00e9rk\u00e9pek, topogr\u00e1fiai t\u00e9rk\u00e9pek, navig\u00e1ci\u00f3s rendszerek \u00e9s m\u00e1s t\u00e9rk\u00e9pk\u00e9sz\u00edt\u00e9si alkalmaz\u00e1sokn\u00e1l. P\u00e9ld\u00e1ul a m\u00e9r\u00e9sadatokn\u00e1l a jellemz\u0151en current_pose v\u00e9gz\u0151d\u00e9s\u0171 topicja (<code>geometry_msgs/msg/PoseStamped</code>) ebben a form\u00e1tumban \u00e9rkez\u0151 adat.</p> <p></p>"},{"location":"transzformaciok/#forrasok","title":"Forr\u00e1sok","text":"<ul> <li>articulatedrobotics.xyz/ready-for-ros-6-tf</li> <li>Kris Hauser: Robotic Systems University of Illinois at Urbana-Champaign</li> <li>\u00d3budai Egyetem ABC-iRobotics</li> <li>docs.ros.org/en/humble/Tutorials/Intermediate/Tf2/Tf2-Main.html</li> <li>docs.ros.org/en/humble/Tutorials/Intermediate/Tf2/Quaternion-Fundamentals.html</li> <li>mathworld.wolfram.com/EulerAngles.html</li> </ul>"},{"location":"transzformaciok/practice/","title":"Gyakorlat","text":"<p>A k\u00f6vetkez\u0151 gyakorlat a transzform\u00e1ci\u00f3k ROS2-ben t\u00f6rt\u00e9n\u0151 kezel\u00e9s\u00e9t szeml\u00e9lteti, C++-ban.</p> <p>Python megfelel\u0151je</p> <p>A C++ k\u00f3d python verzi\u00f3ja szint\u00e9n el\u00e9rhet\u0151 a github.com/sze-info/arj_packages c\u00edmen. \u00c9rdemes \u00f6sszehasonl\u00edtani a C++ \u00e9s a python k\u00f3dokat.</p> <p>Friss\u00edts\u00fck a leg\u00fajabb verzi\u00f3ra az <code>arj_packages</code> repo-t. Ha friss\u00fcl, vagy <code>Already up to date.</code> \u00fczenetet kapunk, akkor nem kell kl\u00f3noznunk. Ha a <code>cd ~/ros2_ws/src/arj_packages</code> parancs ut\u00e1n a <code>~/ros2_ws/src/arj_packages: No such file or directory</code> \u00fczenetetet kaptuk, akkor kl\u00f3nozzuk a repo-t.</p> <p><pre><code>cd ~/ros2_ws/src/arj_packages\n</code></pre> <pre><code>git pull\n</code></pre></p> <p>Amennyiben a <code>No such file or directory</code> \u00fczenetetet kaptuk, kl\u00f3nozzuk a k\u00f6vetkez\u0151 parancsokkal:</p> <p>Warning</p> <p>A k\u00f6vetkez\u0151 k\u00e9t parancs csak nem l\u00e9tez\u0151 <code>arj_packages</code> eset\u00e9n kell:</p> <p><pre><code>cd ~/ros2_ws/src\n</code></pre> <pre><code>git clone https://github.com/sze-info/arj_packages\n</code></pre></p> <p>Ha m\u00e1r l\u00e9tezik, akkor az el\u0151z\u0151 l\u00e9p\u00e9s helyett, csak friss\u00edts\u00fck.</p> <p><pre><code>cd ~/ros2_ws/src/arj_packages/\n</code></pre> <pre><code>git status\n</code></pre> A <code>git checkout -- .</code>: Minden nem staged (unstaged) v\u00e1ltoz\u00e1s elvet\u00e9se lok\u00e1lisan. VS code-ban kb ez a \"discard all changes\" parancs lenne. <pre><code>git checkout -- .\n</code></pre> <pre><code>git pull\n</code></pre></p> <p>Ezut\u00e1n m\u00e1r buildelhet\u00fcnk is:</p> <p><pre><code>cd ~/ros2_ws\n</code></pre> <pre><code>colcon build --packages-select arj_transforms_cpp\n</code></pre></p> <p>C\u00e9lszer\u0171 \u00faj terminalban source-olni, majd futtatni:</p> <p><pre><code>source ~/ros2_ws/install/setup.bash\n</code></pre> <pre><code>ros2 run arj_transforms_cpp pub_transforms\n</code></pre></p> <p>Vizsg\u00e1ljuk meg, nyers adatk\u00e9nt milyen kimenetet kapunk:</p> <pre><code>ros2 topic echo /tf\n</code></pre> <p>Erre a v\u00e1lasz hasonl\u00f3 lesz: </p> <p><pre><code>transforms:\n- header:\n    stamp:\n      sec: 1693475112\n      nanosec: 95339579\n    frame_id: orbit1\n  child_frame_id: orbit2\n  transform:\n    translation:\n      x: -2.487199068069458\n      y: 0.25266680121421814\n      z: 0.0\n    rotation:\n      x: 0.0\n      y: 0.0\n      z: 0.0\n      w: 1.0\n---\ntransforms:\n- header:\n    stamp:\n      sec: 1693475112\n      nanosec: 145005518\n    frame_id: map\n  child_frame_id: orbit1\n  transform:\n    translation:\n      x: -4.109088897705078\n      y: 2.8487515449523926\n      z: 0.0\n    rotation:\n      x: 0.0\n      y: 0.0\n      z: -0.46381551598382736\n      w: 0.8859318072699817\n</code></pre> Ahogy l\u00e1thatjuk a <code>map</code> frame <code>child_frame_id</code>-ja <code>orbit1</code>. Az <code>orbit1</code> frame <code>child_frame_id</code>-ja pedig az <code>orbit2</code>. Teh\u00e1t, ha a <code>map</code>-et naygsz\u00fcl\u0151nek tekintj\u00fck, akkor az <code>orbit2</code> az unoka. Szeml\u00e9letesebb ezt az <code>rqt_tf_tree</code> seg\u00edts\u00e9g\u00e9vel megvizsg\u00e1lni.</p> <pre><code>ros2 run rqt_tf_tree rqt_tf_tree\n</code></pre> <p></p> <p>Ha esetleg nem m\u0171k\u00f6dne a fenti parancs, akkor telep\u00edthet\u0151 a <code>sudo apt install ros-humble-rqt-tf-tree</code> seg\u00edts\u00e9g\u00e9vel. G\u00e9ptermi g\u00e9peken erre elvileg nincs sz\u00fcks\u00e9g.</p> <p>N\u00e9zz\u00fck meg RVIZ2 seg\u00edts\u00e9g\u00e9vel, \u00edgy fog kin\u00e9zni:</p> <pre><code>ros2 launch arj_transforms_cpp rviz1.launch.py\n</code></pre> <p></p> <p>Vizsg\u00e1ljuk meg a <code>pub_transforms.cpp</code> f\u00e1jlt. (Python eset\u00e9n a <code>_py</code> package-ben a <code>transforms.py</code> f\u00e1jlt.)</p> <pre><code>cd ~/ros2_ws/src/arj_packages/arj_transforms_cpp\n</code></pre> <pre><code>code .\n</code></pre> <p>A leg\u00e9rdekesebb most tal\u00e1n a <code>loop</code> f\u00fcggv\u00e9ny. Pitagorasz t\u00e9tele \u00e9rtelm\u00e9ben <code>tr1.transform.translation.x</code> \u00e9s <code>y</code> a sz\u00ednusz \u00e9s a koszinusz sz\u00f6gf\u00fcggv\u00e9nyek miatt mindig egy k\u00f6r\u00f6n fog elhelyezkedni. A <code>loop_count_</code> v\u00e1ltoz\u00f3 folyamatosan n\u00f6vekszik, \u00edgy a k\u00f6rt az <code>x</code> \u00e9s az <code>y</code> \u00f3ramutat\u00f3 j\u00e1r\u00e1s\u00e1nak megfelel\u0151en teszi meg. Ez a <code>speed1</code> \u00e9rt\u00e9k\u00e9nek megfele\u0151en gyors\u00edthat\u00f3 <code>rqt_reconfigure</code> seg\u00edts\u00e9g\u00e9vel (ezt k\u00e9s\u0151bb megn\u00e9zz\u00fck). A k\u00f6r nagys\u00e1ga, az origo-t\u00f3l val\u00f3 t\u00e1vols\u00e1ga pedig a <code>distance1</code> seg\u00edts\u00e9g\u00e9vel n\u00f6velhet\u0151. Hasonl\u00f3 a helyzet a <code>tr2.transform</code> eset\u00e9ben is, ami az <code>orbit1</code> -&gt; <code>orbit2</code> transzfomot adja. A <code>tr1.transform</code> egy plusz forgat\u00e1st is jelent, quaternion seg\u00edts\u00e9g\u00e9vel. A roll, pitch, yaw \u00e9rt\u00e9kekb\u0151l csak az ut\u00f3bbin\u00e1l forgatunk, teh\u00e1t csak Z tengely szerint. </p> <pre><code>void loop()\n{\n    // Publish transforms\n    tr1.header.stamp = this-&gt;get_clock()-&gt;now();\n    tr1.header.frame_id = \"map\";\n    tr1.child_frame_id = \"orbit1\";\n    tr1.transform.translation.x = sin(loop_count_ * speed1) * distance1;\n    tr1.transform.translation.y = cos(loop_count_ * speed1) * distance1;\n    tf2::Quaternion quaternion1;\n    quaternion1.setRPY(0.0, 0.0, loop_count_ * speed1);\n    quaternion1=quaternion1.normalize();\n    tr1.transform.rotation.x = quaternion1.x();\n    tr1.transform.rotation.y = quaternion1.y();\n    tr1.transform.rotation.z = quaternion1.z();\n    tr1.transform.rotation.w = quaternion1.w();\n    tf_broadcaster_-&gt;sendTransform(tr1);\n    tr2.header.stamp = this-&gt;get_clock()-&gt;now();\n    tr2.header.frame_id = \"orbit1\";\n    tr2.child_frame_id = \"orbit2\";\n    tr2.transform.translation.x = sin(loop_count_ * speed2) * distance2;\n    tr2.transform.translation.y = cos(loop_count_ * speed2) * distance2;\n    tf_broadcaster_-&gt;sendTransform(tr2);\n    loop_count_++;\n}\n</code></pre> <p>B\u0151v\u00edts\u00fck <code>orbit3</code> statikus transformmal:</p> <pre><code>ros2 run tf2_ros static_transform_publisher --x 1.0 --y 0.2 --z 1.4 --qx 0.0 --qy 0.0 --qz 0.0 --qw 1.0 --frame-id orbit2 --child-frame-id orbit3\n</code></pre> <p>\u00c1ll\u00edtsuk a sebess\u00e9geket \u00e9s a t\u00e1vols\u00e1gokat:</p> <pre><code>ros2 run rqt_reconfigure rqt_reconfigure\n</code></pre> <p></p> <p>Hirdess\u00fcnk egy markert, majd adjuk hozz\u00e1 RVIZ2-ben. Ez a parancs <code>orbit2</code>-re hirdet egy z\u00f6ld kock\u00e1t:</p> <pre><code>ros2 topic pub --rate 40 --print 40 /marker_topic2 visualization_msgs/msg/Marker '{header: {frame_id: \"orbit2\"}, ns: \"markers2\", id: 2, type: 1, action: 0, pose: {position: {x: 0.0, y: 0.0, z: 0.0}, orientation: {x: 0.0, y: 0.0, z: 0.0, w: 1.0}}, scale: {x: 1.0, y: 1.0, z: 1.0}, color: {r: 0.2, g: 0.4, b: 0.3, a: 1.0}}'\n</code></pre> <p>Ez a parancs <code>orbit1</code>-re hirdet egy piros nyilat:</p> <pre><code>ros2 topic pub --rate 40 --print 40 /marker_topic3 visualization_msgs/msg/Marker '{header: {frame_id: \"orbit1\"}, ns: \"markers3\", id: 3, type: 0, action: 0, pose: {position: {x: 0.0, y: 0.0, z: 0.0}, orientation: {x: 0.0, y: 0.0, z: 0.0, w: 1.0}}, scale: {x: 1.8, y: 0.4, z: 0.4}, color: {r: 0.8, g: 0.2, b: 0.2, a: 1.0}}'\n</code></pre> <p>A <code>Marker</code> \u00fczenet <code>tpye</code> attrib\u00fatuma adja meg, hogy a marker pl <code>ARROW=0</code> vagy <code>CUBE=1</code>:</p> <pre><code>ros2 interface show  visualization_msgs/msg/Marker\n\n...\ntype:\nint32 ARROW=0\nint32 CUBE=1\nint32 SPHERE=2\nint32 CYLINDER=3\nint32 LINE_STRIP=4\nint32 LINE_LIST=5\nint32 CUBE_LIST=6\nint32 SPHERE_LIST=7\nint32 POINTS=8\nint32 TEXT_VIEW_FACING=9\nint32 MESH_RESOURCE=10\nint32 TRIANGLE_LIST=11\n\n...\n</code></pre> <p>Tov\u00e1bbi sz\u00ednekre p\u00e9lda lejjebb, sz\u00ednekr\u0151l pedig b\u0151vebben: github.com/jkk-research/colors.</p> . . .  0.96 0.26 0.21   0.53 0.05 0.31   0.19 0.11 0.57   0.73 0.87 0.98   0.13 0.59 0.95    0.00 0.59 0.53    0.78 0.90 0.79   0.30 0.69 0.31    0.80 0.86 0.22    1.00 0.93 0.70   1.00 0.76 0.03    1.00 0.44 0.00   0.84 0.80 0.78   0.47 0.33 0.28    0.24 0.15 0.14   0.96 0.96 0.96   0.62 0.62 0.62    0.13 0.13 0.13"},{"location":"transzformaciok/practice/#onallo-feladat","title":"\u00d6n\u00e1ll\u00f3 feladat","text":"<p>\u00d6n\u00e1ll\u00f3 feladatk\u00e9nt k\u00e9sz\u00edts\u00fcnk egy <code>my_launch_pkg</code> nev\u0171 package-t, amiben egy <code>run_transforms_and_markers.launch.py</code> elind\u00edtja a:</p> <ul> <li>node-ot, ami a <code>map</code>, <code>orbit1</code> \u00e9s <code>orbit2</code> frame-ket publik\u00e1lja (<code>ros2 run arj_transforms_cpp pub_transforms</code>)</li> <li>az <code>rqt_reconfigure</code>-t (<code>ros2 run rqt_reconfigure rqt_reconfigure</code>)</li> <li>a statikus <code>orbit3</code> frame-et (<code>ros2 run tf2_ros static_transform_publisher --x 1.0 --y 0.2 --z 1.4 --qx 0.0 --qy 0.0 --qz 0.0 --qw 1.0 --frame-id orbit2 --child-frame-id orbit3</code>)</li> <li>\u00e9s az Rviz2-t ind\u00edt\u00f3 launch-t is (<code>ros2 launch arj_transforms_cpp rviz1.launch.py</code>)</li> </ul> <p>Ellen\u0151rizz\u00fck rviz2-ben a helyes m\u0171k\u00f6d\u00e9st.</p> <p>Teh\u00e1t ind\u00edthat\u00f3 legyen az \u00f6n\u00e1ll\u00f3 feladat v\u00e9g\u00e9n a k\u00f6vetkez\u0151 paranccsal:</p> <pre><code>ros2 launch my_launch_pkg run_transforms_and_markers.launch.py\n</code></pre> <p>Megold\u00e1s: el\u00e9rhet\u0151 az \u00f6n\u00e1ll\u00f3 feladatok k\u00f6z\u00f6tt</p>"},{"location":"transzformaciok/practice/#segitseg-az-onallo-feladathoz","title":"Seg\u00edts\u00e9g az \u00f6n\u00e1ll\u00f3 feladathoz","text":"<p>A <code>ros2 run tf2_ros static_transform_publisher --x 1.0 --y 0.2 --z 1.4 --qx 0.0 --qy 0.0 --qz 0.0 --qw 1.0 --frame-id orbit2 --child-frame-id orbit3</code> az el\u0151z\u0151 \u00f3r\u00e1k alapj\u00e1n k\u00f6nnyen \u00f6ssze\u00e1ll\u00edthat\u00f3:</p> <pre><code>Node(\n    package='tf2_ros',\n    executable='static_transform_publisher',\n    arguments=['1.0', '0.2', '1.4','0', '0', '0', '1', 'orbit2','orbit3'],\n),     \n</code></pre> <p>Warning</p> <p>Nehezebb dolgunk van az Rviz2-vel, ugyanis ott egy launch f\u00e1jlt kell megh\u00edvni nem egy node-ot.</p> <p>Els\u0151, de kev\u00e9sb\u00e9 sz\u00e9p opci\u00f3, hogy bem\u00e1soljuk az eredeti launch f\u00e1jlt \u00e9s azt eg\u00e9sz\u00edtj\u00fck ki:</p> <pre><code>from launch import LaunchDescription\nfrom launch_ros.actions import Node\nimport os\nfrom ament_index_python.packages import get_package_share_directory\n\n\ndef generate_launch_description():\n\n    pkg_name = 'arj_transforms_cpp'\n    pkg_dir = get_package_share_directory(pkg_name)\n\n\n    return LaunchDescription([\n        Node(\n            package='rviz2',\n            namespace='',\n            executable='rviz2',\n            name='rviz2',\n            arguments=['-d', [os.path.join(pkg_dir, 'rviz', 'rviz1.rviz')]]\n        )\n    ])\n</code></pre> <p>M\u00e1sodik, sokkal szebb opci\u00f3, hogy a launch f\u00e1jlt include-oljuk a launch f\u00e1jlba:</p> <pre><code>from launch import LaunchDescription\nfrom launch_ros.actions import Node\nfrom launch.actions import IncludeLaunchDescription\nfrom launch.launch_description_sources import PythonLaunchDescriptionSource\nfrom launch_ros.substitutions import FindPackageShare\n\n\ndef generate_launch_description():\n    return LaunchDescription([\n        # ros2 launch arj_transforms_cpp rviz1.launch.py\n        IncludeLaunchDescription(\n            PythonLaunchDescriptionSource([\n                FindPackageShare(\"arj_transforms_cpp\"), '/launch/', 'rviz1.launch.py'])\n        ),\n    ])\n</code></pre>"},{"location":"transzformaciok/practice/#tovabbi","title":"Tov\u00e1bbi","text":"<p>Python notebook transform</p> <p>Python notebook quaternion</p> <p>gps_utm.ipynb </p> <p></p> <p></p>"},{"location":"transzformaciok/practice/#olvasnivalo","title":"Olvasnival\u00f3","text":"<ul> <li>articulatedrobotics.xyz/ready-for-ros-6-tf</li> </ul>"}]}